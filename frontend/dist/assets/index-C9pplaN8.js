import{u as unref,g as getCurrentScope,o as onScopeDispose,a as getCurrentInstance,b as onMounted,n as nextTick,r as ref,c as readonly,w as watch,i as isString$2,d as camelize,e as defineComponent,f as openBlock,h as createElementBlock,j as createBaseVNode,k as isObject$2,l as hasOwn,m as warn,N as NOOP,p as isFunction$2,q as computed,s as watchEffect,t as onBeforeUnmount,v as inject,x as isRef,y as shallowRef,z as onBeforeMount,A as provide,B as renderSlot,C as mergeProps,D as toRef,E as onUnmounted,F as useAttrs$1,G as useSlots,H as createCommentVNode,I as Fragment,J as normalizeClass,K as createBlock,L as withCtx,M as resolveDynamicComponent,O as createVNode,P as withModifiers,Q as toDisplayString,R as normalizeStyle,S as withDirectives,T as vShow,U as Transition,V as reactive,W as onActivated,X as onUpdated,Y as cloneVNode,Z as Text,_ as Comment,$ as isArray$2,a0 as Teleport$1,a1 as onDeactivated,a2 as h,a3 as createSlots,a4 as withKeys,a5 as toRaw,a6 as toRefs,a7 as toRawType,a8 as resolveComponent,a9 as resolveDirective,aa as renderList,ab as createTextVNode,ac as vModelText,ad as toHandlerKey,ae as isPromise,af as createApp,ag as hyphenate,ah as shallowReactive,ai as isVNode,aj as render,ak as _export_sfc$1,al as useModel,am as useI18n,an as __unplugin_components_0,ao as mergeModels,ap as useRoute,aq as useRouter}from"./index-DqD-xpe7.js";const composeEventHandlers=(r,n,{checkForDefaultPrevented:o=!0}={})=>l=>{const f=r==null?void 0:r(l);if(o===!1||!f)return n==null?void 0:n(l)};var _a$2;const isClient=typeof window<"u",isString$1=r=>typeof r=="string",noop$1=()=>{},isIOS=isClient&&((_a$2=window==null?void 0:window.navigator)==null?void 0:_a$2.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(r){return typeof r=="function"?r():unref(r)}function identity$1(r){return r}function tryOnScopeDispose(r){return getCurrentScope()?(onScopeDispose(r),!0):!1}function tryOnMounted(r,n=!0){getCurrentInstance()?onMounted(r):n?r():nextTick(r)}function useTimeoutFn(r,n,o={}){const{immediate:a=!0}=o,l=ref(!1);let f=null;function u(){f&&(clearTimeout(f),f=null)}function p(){l.value=!1,u()}function g(...d){u(),l.value=!0,f=setTimeout(()=>{l.value=!1,f=null,r(...d)},resolveUnref(n))}return a&&(l.value=!0,isClient&&g()),tryOnScopeDispose(p),{isPending:readonly(l),start:g,stop:p}}function unrefElement(r){var n;const o=resolveUnref(r);return(n=o==null?void 0:o.$el)!=null?n:o}const defaultWindow=isClient?window:void 0;function useEventListener(...r){let n,o,a,l;if(isString$1(r[0])||Array.isArray(r[0])?([o,a,l]=r,n=defaultWindow):[n,o,a,l]=r,!n)return noop$1;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const f=[],u=()=>{f.forEach(c=>c()),f.length=0},p=(c,t,e,i)=>(c.addEventListener(t,e,i),()=>c.removeEventListener(t,e,i)),g=watch(()=>[unrefElement(n),resolveUnref(l)],([c,t])=>{u(),c&&f.push(...o.flatMap(e=>a.map(i=>p(c,e,i,t))))},{immediate:!0,flush:"post"}),d=()=>{g(),u()};return tryOnScopeDispose(d),d}let _iOSWorkaround=!1;function onClickOutside(r,n,o={}){const{window:a=defaultWindow,ignore:l=[],capture:f=!0,detectIframe:u=!1}=o;if(!a)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(a.document.body.children).forEach(e=>e.addEventListener("click",noop$1)));let p=!0;const g=e=>l.some(i=>{if(typeof i=="string")return Array.from(a.document.querySelectorAll(i)).some(s=>s===e.target||e.composedPath().includes(s));{const s=unrefElement(i);return s&&(e.target===s||e.composedPath().includes(s))}}),c=[useEventListener(a,"click",e=>{const i=unrefElement(r);if(!(!i||i===e.target||e.composedPath().includes(i))){if(e.detail===0&&(p=!g(e)),!p){p=!0;return}n(e)}},{passive:!0,capture:f}),useEventListener(a,"pointerdown",e=>{const i=unrefElement(r);i&&(p=!e.composedPath().includes(i)&&!g(e))},{passive:!0}),u&&useEventListener(a,"blur",e=>{var i;const s=unrefElement(r);((i=a.document.activeElement)==null?void 0:i.tagName)==="IFRAME"&&!(s!=null&&s.contains(a.document.activeElement))&&n(e)})].filter(Boolean);return()=>c.forEach(e=>e())}function useSupported(r,n=!1){const o=ref(),a=()=>o.value=!!r();return a(),tryOnMounted(a,n),o}const _global$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global$1[globalKey]=_global$1[globalKey]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(r,n)=>{var o={};for(var a in r)__hasOwnProp$g.call(r,a)&&n.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&__getOwnPropSymbols$g)for(var a of __getOwnPropSymbols$g(r))n.indexOf(a)<0&&__propIsEnum$g.call(r,a)&&(o[a]=r[a]);return o};function useResizeObserver(r,n,o={}){const a=o,{window:l=defaultWindow}=a,f=__objRest$2(a,["window"]);let u;const p=useSupported(()=>l&&"ResizeObserver"in l),g=()=>{u&&(u.disconnect(),u=void 0)},d=watch(()=>unrefElement(r),t=>{g(),p.value&&l&&t&&(u=new ResizeObserver(n),u.observe(t,f))},{immediate:!0,flush:"post"}),c=()=>{g(),d()};return tryOnScopeDispose(c),{isSupported:p,stop:c}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(r,n)=>{var o={};for(var a in r)__hasOwnProp$8.call(r,a)&&n.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&__getOwnPropSymbols$8)for(var a of __getOwnPropSymbols$8(r))n.indexOf(a)<0&&__propIsEnum$8.call(r,a)&&(o[a]=r[a]);return o};function useMutationObserver(r,n,o={}){const a=o,{window:l=defaultWindow}=a,f=__objRest$1(a,["window"]);let u;const p=useSupported(()=>l&&"MutationObserver"in l),g=()=>{u&&(u.disconnect(),u=void 0)},d=watch(()=>unrefElement(r),t=>{g(),p.value&&l&&t&&(u=new MutationObserver(n),u.observe(t,f))},{immediate:!0}),c=()=>{g(),d()};return tryOnScopeDispose(c),{isSupported:p,stop:c}}var SwipeDirection;(function(r){r.UP="UP",r.RIGHT="RIGHT",r.DOWN="DOWN",r.LEFT="LEFT",r.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(r,n,o)=>n in r?__defProp(r,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[n]=o,__spreadValues=(r,n)=>{for(var o in n||(n={}))__hasOwnProp.call(n,o)&&__defNormalProp(r,o,n[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(n))__propIsEnum.call(n,o)&&__defNormalProp(r,o,n[o]);return r};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(r){var n=hasOwnProperty$a.call(r,symToStringTag$1),o=r[symToStringTag$1];try{r[symToStringTag$1]=void 0;var a=!0}catch{}var l=nativeObjectToString$1.call(r);return a&&(n?r[symToStringTag$1]=o:delete r[symToStringTag$1]),l}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(r){return nativeObjectToString.call(r)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(r){return r==null?r===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(r)?getRawTag(r):objectToString(r)}function isObjectLike(r){return r!=null&&typeof r=="object"}var symbolTag$1="[object Symbol]";function isSymbol(r){return typeof r=="symbol"||isObjectLike(r)&&baseGetTag(r)==symbolTag$1}function arrayMap(r,n){for(var o=-1,a=r==null?0:r.length,l=Array(a);++o<a;)l[o]=n(r[o],o,r);return l}var isArray$1=Array.isArray,INFINITY$1=1/0,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(r){if(typeof r=="string")return r;if(isArray$1(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return symbolToString?symbolToString.call(r):"";var n=r+"";return n=="0"&&1/r==-INFINITY$1?"-0":n}var reWhitespace=/\s/;function trimmedEndIndex(r){for(var n=r.length;n--&&reWhitespace.test(r.charAt(n)););return n}var reTrimStart=/^\s+/;function baseTrim(r){return r&&r.slice(0,trimmedEndIndex(r)+1).replace(reTrimStart,"")}function isObject$1(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(r){if(typeof r=="number")return r;if(isSymbol(r))return NAN;if(isObject$1(r)){var n=typeof r.valueOf=="function"?r.valueOf():r;r=isObject$1(n)?n+"":n}if(typeof r!="string")return r===0?r:+r;r=baseTrim(r);var o=reIsBinary.test(r);return o||reIsOctal.test(r)?freeParseInt(r.slice(2),o?2:8):reIsBadHex.test(r)?NAN:+r}function identity(r){return r}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(r){if(!isObject$1(r))return!1;var n=baseGetTag(r);return n==funcTag$1||n==genTag||n==asyncTag||n==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var r=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function isMasked(r){return!!maskSrcKey&&maskSrcKey in r}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(r){if(r!=null){try{return funcToString$1.call(r)}catch{}try{return r+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$a=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(r){if(!isObject$1(r)||isMasked(r))return!1;var n=isFunction$1(r)?reIsNative:reIsHostCtor;return n.test(toSource(r))}function getValue(r,n){return r==null?void 0:r[n]}function getNative(r,n){var o=getValue(r,n);return baseIsNative(o)?o:void 0}var WeakMap=getNative(root,"WeakMap");function apply(r,n,o){switch(o.length){case 0:return r.call(n);case 1:return r.call(n,o[0]);case 2:return r.call(n,o[0],o[1]);case 3:return r.call(n,o[0],o[1],o[2])}return r.apply(n,o)}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(r){var n=0,o=0;return function(){var a=nativeNow(),l=HOT_SPAN-(a-o);if(o=a,l>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}function constant(r){return function(){return r}}var defineProperty=function(){try{var r=getNative(Object,"defineProperty");return r({},"",{}),r}catch{}}(),baseSetToString=defineProperty?function(r,n){return defineProperty(r,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity,setToString=shortOut(baseSetToString);function baseFindIndex(r,n,o,a){r.length;for(var l=o+1;l--;)if(n(r[l],l,r))return l;return-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(r,n){var o=typeof r;return n=n??MAX_SAFE_INTEGER$1,!!n&&(o=="number"||o!="symbol"&&reIsUint.test(r))&&r>-1&&r%1==0&&r<n}function baseAssignValue(r,n,o){n=="__proto__"&&defineProperty?defineProperty(r,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):r[n]=o}function eq(r,n){return r===n||r!==r&&n!==n}var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function assignValue(r,n,o){var a=r[n];(!(hasOwnProperty$8.call(r,n)&&eq(a,o))||o===void 0&&!(n in r))&&baseAssignValue(r,n,o)}var nativeMax$1=Math.max;function overRest(r,n,o){return n=nativeMax$1(n===void 0?r.length-1:n,0),function(){for(var a=arguments,l=-1,f=nativeMax$1(a.length-n,0),u=Array(f);++l<f;)u[l]=a[n+l];l=-1;for(var p=Array(n+1);++l<n;)p[l]=a[l];return p[n]=o(u),apply(r,this,p)}}var MAX_SAFE_INTEGER=9007199254740991;function isLength(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=MAX_SAFE_INTEGER}function isArrayLike(r){return r!=null&&isLength(r.length)&&!isFunction$1(r)}var objectProto$8=Object.prototype;function isPrototype(r){var n=r&&r.constructor,o=typeof n=="function"&&n.prototype||objectProto$8;return r===o}function baseTimes(r,n){for(var o=-1,a=Array(r);++o<r;)a[o]=n(o);return a}var argsTag$2="[object Arguments]";function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&hasOwnProperty$7.call(r,"callee")&&!propertyIsEnumerable$1.call(r,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!typedArrayTags[baseGetTag(r)]}function baseUnary(r){return function(n){return r(n)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var r=freeModule&&freeModule.require&&freeModule.require("util").types;return r||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function arrayLikeKeys(r,n){var o=isArray$1(r),a=!o&&isArguments(r),l=!o&&!a&&isBuffer$1(r),f=!o&&!a&&!l&&isTypedArray$1(r),u=o||a||l||f,p=u?baseTimes(r.length,String):[],g=p.length;for(var d in r)hasOwnProperty$6.call(r,d)&&!(u&&(d=="length"||l&&(d=="offset"||d=="parent")||f&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||isIndex(d,g)))&&p.push(d);return p}function overArg(r,n){return function(o){return r(n(o))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseKeys(r){if(!isPrototype(r))return nativeKeys(r);var n=[];for(var o in Object(r))hasOwnProperty$5.call(r,o)&&o!="constructor"&&n.push(o);return n}function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(r,n){if(isArray$1(r))return!1;var o=typeof r;return o=="number"||o=="symbol"||o=="boolean"||r==null||isSymbol(r)?!0:reIsPlainProp.test(r)||!reIsDeepProp.test(r)||n!=null&&r in Object(n)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function hashGet(r){var n=this.__data__;if(nativeCreate){var o=n[r];return o===HASH_UNDEFINED$2?void 0:o}return hasOwnProperty$4.call(n,r)?n[r]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function hashHas(r){var n=this.__data__;return nativeCreate?n[r]!==void 0:hasOwnProperty$3.call(n,r)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(r,n){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=nativeCreate&&n===void 0?HASH_UNDEFINED$1:n,this}function Hash(r){var n=-1,o=r==null?0:r.length;for(this.clear();++n<o;){var a=r[n];this.set(a[0],a[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(r,n){for(var o=r.length;o--;)if(eq(r[o][0],n))return o;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(r){var n=this.__data__,o=assocIndexOf(n,r);if(o<0)return!1;var a=n.length-1;return o==a?n.pop():splice.call(n,o,1),--this.size,!0}function listCacheGet(r){var n=this.__data__,o=assocIndexOf(n,r);return o<0?void 0:n[o][1]}function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1}function listCacheSet(r,n){var o=this.__data__,a=assocIndexOf(o,r);return a<0?(++this.size,o.push([r,n])):o[a][1]=n,this}function ListCache(r){var n=-1,o=r==null?0:r.length;for(this.clear();++n<o;){var a=r[n];this.set(a[0],a[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}function getMapData(r,n){var o=r.__data__;return isKeyable(n)?o[typeof n=="string"?"string":"hash"]:o.map}function mapCacheDelete(r){var n=getMapData(this,r).delete(r);return this.size-=n?1:0,n}function mapCacheGet(r){return getMapData(this,r).get(r)}function mapCacheHas(r){return getMapData(this,r).has(r)}function mapCacheSet(r,n){var o=getMapData(this,r),a=o.size;return o.set(r,n),this.size+=o.size==a?0:1,this}function MapCache(r){var n=-1,o=r==null?0:r.length;for(this.clear();++n<o;){var a=r[n];this.set(a[0],a[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$1="Expected a function";function memoize(r,n){if(typeof r!="function"||n!=null&&typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$1);var o=function(){var a=arguments,l=n?n.apply(this,a):a[0],f=o.cache;if(f.has(l))return f.get(l);var u=r.apply(this,a);return o.cache=f.set(l,u)||f,u};return o.cache=new(memoize.Cache||MapCache),o}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(r){var n=memoize(r,function(a){return o.size===MAX_MEMOIZE_SIZE&&o.clear(),a}),o=n.cache;return n}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(r){var n=[];return r.charCodeAt(0)===46&&n.push(""),r.replace(rePropName,function(o,a,l,f){n.push(l?f.replace(reEscapeChar,"$1"):a||o)}),n});function toString$1(r){return r==null?"":baseToString(r)}function castPath(r,n){return isArray$1(r)?r:isKey(r,n)?[r]:stringToPath(toString$1(r))}var INFINITY=1/0;function toKey(r){if(typeof r=="string"||isSymbol(r))return r;var n=r+"";return n=="0"&&1/r==-INFINITY?"-0":n}function baseGet(r,n){n=castPath(n,r);for(var o=0,a=n.length;r!=null&&o<a;)r=r[toKey(n[o++])];return o&&o==a?r:void 0}function get(r,n,o){var a=r==null?void 0:baseGet(r,n);return a===void 0?o:a}function arrayPush(r,n){for(var o=-1,a=n.length,l=r.length;++o<a;)r[l+o]=n[o];return r}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(r){return isArray$1(r)||isArguments(r)||!!(spreadableSymbol&&r&&r[spreadableSymbol])}function baseFlatten(r,n,o,a,l){var f=-1,u=r.length;for(o||(o=isFlattenable),l||(l=[]);++f<u;){var p=r[f];o(p)?arrayPush(l,p):l[l.length]=p}return l}function flatten(r){var n=r==null?0:r.length;return n?baseFlatten(r):[]}function flatRest(r){return setToString(overRest(r,void 0,flatten),r+"")}function castArray(){if(!arguments.length)return[];var r=arguments[0];return isArray$1(r)?r:[r]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(r){var n=this.__data__,o=n.delete(r);return this.size=n.size,o}function stackGet(r){return this.__data__.get(r)}function stackHas(r){return this.__data__.has(r)}var LARGE_ARRAY_SIZE=200;function stackSet(r,n){var o=this.__data__;if(o instanceof ListCache){var a=o.__data__;if(!Map$1||a.length<LARGE_ARRAY_SIZE-1)return a.push([r,n]),this.size=++o.size,this;o=this.__data__=new MapCache(a)}return o.set(r,n),this.size=o.size,this}function Stack(r){var n=this.__data__=new ListCache(r);this.size=n.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayFilter(r,n){for(var o=-1,a=r==null?0:r.length,l=0,f=[];++o<a;){var u=r[o];n(u,o,r)&&(f[l++]=u)}return f}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(r){return r==null?[]:(r=Object(r),arrayFilter(nativeGetSymbols(r),function(n){return propertyIsEnumerable.call(r,n)}))}:stubArray;function baseGetAllKeys(r,n,o){var a=n(r);return isArray$1(r)?a:arrayPush(a,o(r))}function getAllKeys(r){return baseGetAllKeys(r,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(r){var n=baseGetTag(r),o=n==objectTag$1?r.constructor:void 0,a=o?toSource(o):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return n});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(r){return this.__data__.set(r,HASH_UNDEFINED),this}function setCacheHas(r){return this.__data__.has(r)}function SetCache(r){var n=-1,o=r==null?0:r.length;for(this.__data__=new MapCache;++n<o;)this.add(r[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(r,n){for(var o=-1,a=r==null?0:r.length;++o<a;)if(n(r[o],o,r))return!0;return!1}function cacheHas(r,n){return r.has(n)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(r,n,o,a,l,f){var u=o&COMPARE_PARTIAL_FLAG$5,p=r.length,g=n.length;if(p!=g&&!(u&&g>p))return!1;var d=f.get(r),c=f.get(n);if(d&&c)return d==n&&c==r;var t=-1,e=!0,i=o&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(f.set(r,n),f.set(n,r);++t<p;){var s=r[t],m=n[t];if(a)var b=u?a(m,s,t,n,r,f):a(s,m,t,r,n,f);if(b!==void 0){if(b)continue;e=!1;break}if(i){if(!arraySome(n,function(y,v){if(!cacheHas(i,v)&&(s===y||l(s,y,o,a,f)))return i.push(v)})){e=!1;break}}else if(!(s===m||l(s,m,o,a,f))){e=!1;break}}return f.delete(r),f.delete(n),e}function mapToArray(r){var n=-1,o=Array(r.size);return r.forEach(function(a,l){o[++n]=[l,a]}),o}function setToArray(r){var n=-1,o=Array(r.size);return r.forEach(function(a){o[++n]=a}),o}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(r,n,o,a,l,f,u){switch(o){case dataViewTag:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case arrayBufferTag:return!(r.byteLength!=n.byteLength||!f(new Uint8Array$1(r),new Uint8Array$1(n)));case boolTag:case dateTag:case numberTag:return eq(+r,+n);case errorTag:return r.name==n.name&&r.message==n.message;case regexpTag:case stringTag:return r==n+"";case mapTag:var p=mapToArray;case setTag:var g=a&COMPARE_PARTIAL_FLAG$4;if(p||(p=setToArray),r.size!=n.size&&!g)return!1;var d=u.get(r);if(d)return d==n;a|=COMPARE_UNORDERED_FLAG$2,u.set(r,n);var c=equalArrays(p(r),p(n),a,l,f,u);return u.delete(r),c;case symbolTag:if(symbolValueOf)return symbolValueOf.call(r)==symbolValueOf.call(n)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects(r,n,o,a,l,f){var u=o&COMPARE_PARTIAL_FLAG$3,p=getAllKeys(r),g=p.length,d=getAllKeys(n),c=d.length;if(g!=c&&!u)return!1;for(var t=g;t--;){var e=p[t];if(!(u?e in n:hasOwnProperty$2.call(n,e)))return!1}var i=f.get(r),s=f.get(n);if(i&&s)return i==n&&s==r;var m=!0;f.set(r,n),f.set(n,r);for(var b=u;++t<g;){e=p[t];var y=r[e],v=n[e];if(a)var w=u?a(v,y,e,n,r,f):a(y,v,e,r,n,f);if(!(w===void 0?y===v||l(y,v,o,a,f):w)){m=!1;break}b||(b=e=="constructor")}if(m&&!b){var T=r.constructor,_=n.constructor;T!=_&&"constructor"in r&&"constructor"in n&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(m=!1)}return f.delete(r),f.delete(n),m}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep(r,n,o,a,l,f){var u=isArray$1(r),p=isArray$1(n),g=u?arrayTag:getTag(r),d=p?arrayTag:getTag(n);g=g==argsTag?objectTag:g,d=d==argsTag?objectTag:d;var c=g==objectTag,t=d==objectTag,e=g==d;if(e&&isBuffer$1(r)){if(!isBuffer$1(n))return!1;u=!0,c=!1}if(e&&!c)return f||(f=new Stack),u||isTypedArray$1(r)?equalArrays(r,n,o,a,l,f):equalByTag(r,n,g,o,a,l,f);if(!(o&COMPARE_PARTIAL_FLAG$2)){var i=c&&hasOwnProperty$1.call(r,"__wrapped__"),s=t&&hasOwnProperty$1.call(n,"__wrapped__");if(i||s){var m=i?r.value():r,b=s?n.value():n;return f||(f=new Stack),l(m,b,o,a,f)}}return e?(f||(f=new Stack),equalObjects(r,n,o,a,l,f)):!1}function baseIsEqual(r,n,o,a,l){return r===n?!0:r==null||n==null||!isObjectLike(r)&&!isObjectLike(n)?r!==r&&n!==n:baseIsEqualDeep(r,n,o,a,baseIsEqual,l)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(r,n,o,a){var l=o.length,f=l;if(r==null)return!f;for(r=Object(r);l--;){var u=o[l];if(u[2]?u[1]!==r[u[0]]:!(u[0]in r))return!1}for(;++l<f;){u=o[l];var p=u[0],g=r[p],d=u[1];if(u[2]){if(g===void 0&&!(p in r))return!1}else{var c=new Stack,t;if(!(t===void 0?baseIsEqual(d,g,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,a,c):t))return!1}}return!0}function isStrictComparable(r){return r===r&&!isObject$1(r)}function getMatchData(r){for(var n=keys(r),o=n.length;o--;){var a=n[o],l=r[a];n[o]=[a,l,isStrictComparable(l)]}return n}function matchesStrictComparable(r,n){return function(o){return o==null?!1:o[r]===n&&(n!==void 0||r in Object(o))}}function baseMatches(r){var n=getMatchData(r);return n.length==1&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(o){return o===r||baseIsMatch(o,r,n)}}function baseHasIn(r,n){return r!=null&&n in Object(r)}function hasPath(r,n,o){n=castPath(n,r);for(var a=-1,l=n.length,f=!1;++a<l;){var u=toKey(n[a]);if(!(f=r!=null&&o(r,u)))break;r=r[u]}return f||++a!=l?f:(l=r==null?0:r.length,!!l&&isLength(l)&&isIndex(u,l)&&(isArray$1(r)||isArguments(r)))}function hasIn(r,n){return r!=null&&hasPath(r,n,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(r,n){return isKey(r)&&isStrictComparable(n)?matchesStrictComparable(toKey(r),n):function(o){var a=get(o,r);return a===void 0&&a===n?hasIn(o,r):baseIsEqual(n,a,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(r){return function(n){return n==null?void 0:n[r]}}function basePropertyDeep(r){return function(n){return baseGet(n,r)}}function property(r){return isKey(r)?baseProperty(toKey(r)):basePropertyDeep(r)}function baseIteratee(r){return typeof r=="function"?r:r==null?identity:typeof r=="object"?isArray$1(r)?baseMatchesProperty(r[0],r[1]):baseMatches(r):property(r)}var now=function(){return root.Date.now()},FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(r,n,o){var a,l,f,u,p,g,d=0,c=!1,t=!1,e=!0;if(typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT);n=toNumber(n)||0,isObject$1(o)&&(c=!!o.leading,t="maxWait"in o,f=t?nativeMax(toNumber(o.maxWait)||0,n):f,e="trailing"in o?!!o.trailing:e);function i(x){var A=a,$=l;return a=l=void 0,d=x,u=r.apply($,A),u}function s(x){return d=x,p=setTimeout(y,n),c?i(x):u}function m(x){var A=x-g,$=x-d,S=n-A;return t?nativeMin(S,f-$):S}function b(x){var A=x-g,$=x-d;return g===void 0||A>=n||A<0||t&&$>=f}function y(){var x=now();if(b(x))return v(x);p=setTimeout(y,m(x))}function v(x){return p=void 0,e&&a?i(x):(a=l=void 0,u)}function w(){p!==void 0&&clearTimeout(p),d=0,a=g=l=p=void 0}function T(){return p===void 0?u:v(now())}function _(){var x=now(),A=b(x);if(a=arguments,l=this,g=x,A){if(p===void 0)return s(g);if(t)return clearTimeout(p),p=setTimeout(y,n),i(g)}return p===void 0&&(p=setTimeout(y,n)),u}return _.cancel=w,_.flush=T,_}function findLastIndex(r,n,o){var a=r==null?0:r.length;if(!a)return-1;var l=a-1;return baseFindIndex(r,baseIteratee(n),l)}function fromPairs(r){for(var n=-1,o=r==null?0:r.length,a={};++n<o;){var l=r[n];a[l[0]]=l[1]}return a}function isEqual(r,n){return baseIsEqual(r,n)}function isNil(r){return r==null}function isUndefined$2(r){return r===void 0}function baseSet(r,n,o,a){if(!isObject$1(r))return r;n=castPath(n,r);for(var l=-1,f=n.length,u=f-1,p=r;p!=null&&++l<f;){var g=toKey(n[l]),d=o;if(g==="__proto__"||g==="constructor"||g==="prototype")return r;if(l!=u){var c=p[g];d=void 0,d===void 0&&(d=isObject$1(c)?c:isIndex(n[l+1])?[]:{})}assignValue(p,g,d),p=p[g]}return r}function basePickBy(r,n,o){for(var a=-1,l=n.length,f={};++a<l;){var u=n[a],p=baseGet(r,u);o(p,u)&&baseSet(f,castPath(u,r),p)}return f}function basePick(r,n){return basePickBy(r,n,function(o,a){return hasIn(r,a)})}var pick=flatRest(function(r,n){return r==null?{}:basePick(r,n)});const isUndefined$1=r=>r===void 0,isBoolean$1=r=>typeof r=="boolean",isNumber$1=r=>typeof r=="number",isElement=r=>typeof Element>"u"?!1:r instanceof Element,isStringNumber=r=>isString$2(r)?!Number.isNaN(Number(r)):!1,escapeStringRegexp=(r="")=>r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),keysOf=r=>Object.keys(r);class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError(r,n){throw new ElementPlusError(`[${r}] ${n}`)}function debugWarn(r,n){}const classNameToArray=(r="")=>r.split(" ").filter(n=>!!n.trim()),hasClass=(r,n)=>{if(!r||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return r.classList.contains(n)},addClass=(r,n)=>{!r||!n.trim()||r.classList.add(...classNameToArray(n))},removeClass=(r,n)=>{!r||!n.trim()||r.classList.remove(...classNameToArray(n))},getStyle=(r,n)=>{var o;if(!isClient||!r||!n)return"";let a=camelize(n);a==="float"&&(a="cssFloat");try{const l=r.style[a];if(l)return l;const f=(o=document.defaultView)==null?void 0:o.getComputedStyle(r,"");return f?f[a]:""}catch{return r.style[a]}};function addUnit(r,n="px"){if(!r)return"";if(isNumber$1(r)||isStringNumber(r))return`${r}${n}`;if(isString$2(r))return r}let scrollBarWidth;const getScrollBarWidth=r=>{var n;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const o=document.createElement("div");o.className=`${r}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const a=o.offsetWidth;o.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",o.appendChild(l);const f=l.offsetWidth;return(n=o.parentNode)==null||n.removeChild(o),scrollBarWidth=a-f,scrollBarWidth};function scrollIntoView(r,n){if(!isClient)return;if(!n){r.scrollTop=0;return}const o=[];let a=n.offsetParent;for(;a!==null&&r!==a&&r.contains(a);)o.push(a),a=a.offsetParent;const l=n.offsetTop+o.reduce((g,d)=>g+d.offsetTop,0),f=l+n.offsetHeight,u=r.scrollTop,p=u+r.clientHeight;l<u?r.scrollTop=l:f>p&&(r.scrollTop=f-r.clientHeight)}/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(r){return(n,o)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default;const epPropKey="__epPropKey",definePropType=r=>r,isEpProp=r=>isObject$2(r)&&!!r[epPropKey],buildProp=(r,n)=>{if(!isObject$2(r)||isEpProp(r))return r;const{values:o,required:a,default:l,type:f,validator:u}=r,g={type:f,required:!!a,validator:o||u?d=>{let c=!1,t=[];if(o&&(t=Array.from(o),hasOwn(r,"default")&&t.push(l),c||(c=t.includes(d))),u&&(c||(c=u(d))),!c&&t.length>0){const e=[...new Set(t)].map(i=>JSON.stringify(i)).join(", ");warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${e}], got value ${JSON.stringify(d)}.`)}return c}:void 0,[epPropKey]:!0};return hasOwn(r,"default")&&(g.default=l),g},buildProps=r=>fromPairs(Object.entries(r).map(([n,o])=>[n,buildProp(o,n)])),iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(r,n)=>{if(r.install=o=>{for(const a of[r,...Object.values(n??{})])o.component(a.name,a)},n)for(const[o,a]of Object.entries(n))r[o]=a;return r},withInstallFunction=(r,n)=>(r.install=o=>{r._context=o._context,o.config.globalProperties[n]=r},r),withNoopInstall=r=>(r.install=NOOP,r),composeRefs=(...r)=>n=>{r.forEach(o=>{isFunction$2(o)?o(n):o.value=n})},EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",componentSizes=["","default","small","large"],isValidComponentSize=r=>["",...componentSizes].includes(r);var PatchFlags=(r=>(r[r.TEXT=1]="TEXT",r[r.CLASS=2]="CLASS",r[r.STYLE=4]="STYLE",r[r.PROPS=8]="PROPS",r[r.FULL_PROPS=16]="FULL_PROPS",r[r.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",r[r.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",r[r.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",r[r.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",r[r.NEED_PATCH=512]="NEED_PATCH",r[r.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",r[r.HOISTED=-1]="HOISTED",r[r.BAIL=-2]="BAIL",r))(PatchFlags||{});const isKorean=r=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(r),mutable=r=>r,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(r={})=>{const{excludeListeners:n=!1,excludeKeys:o}=r,a=computed(()=>((o==null?void 0:o.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),l=getCurrentInstance();return l?computed(()=>{var f;return fromPairs(Object.entries((f=l.proxy)==null?void 0:f.$attrs).filter(([u])=>!a.value.includes(u)&&!(n&&LISTENER_PREFIX.test(u))))}):computed(()=>({}))},useDeprecated=({from:r,replacement:n,scope:o,version:a,ref:l,type:f="API"},u)=>{watch(()=>unref(u),p=>{},{immediate:!0})},useDraggable=(r,n,o,a)=>{let l={offsetX:0,offsetY:0};const f=d=>{const c=d.clientX,t=d.clientY,{offsetX:e,offsetY:i}=l,s=r.value.getBoundingClientRect(),m=s.left,b=s.top,y=s.width,v=s.height,w=document.documentElement.clientWidth,T=document.documentElement.clientHeight,_=-m+e,x=-b+i,A=w-m-y+e,$=T-b-v+i,S=V=>{let oe=e+V.clientX-c,Y=i+V.clientY-t;a!=null&&a.value||(oe=Math.min(Math.max(oe,_),A),Y=Math.min(Math.max(Y,x),$)),l={offsetX:oe,offsetY:Y},r.value&&(r.value.style.transform=`translate(${addUnit(oe)}, ${addUnit(Y)})`)},k=()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",k)};document.addEventListener("mousemove",S),document.addEventListener("mouseup",k)},u=()=>{n.value&&r.value&&n.value.addEventListener("mousedown",f)},p=()=>{n.value&&r.value&&n.value.removeEventListener("mousedown",f)},g=()=>{l={offsetX:0,offsetY:0},r.value&&(r.value.style.transform="none")};return onMounted(()=>{watchEffect(()=>{o.value?u():p()})}),onBeforeUnmount(()=>{p()}),{resetPosition:g}};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=r=>(n,o)=>translate(n,o,unref(r)),translate=(r,n,o)=>get(o,r,r).replace(/\{(\w+)\}/g,(a,l)=>{var f;return`${(f=n==null?void 0:n[l])!=null?f:`{${l}}`}`}),buildLocaleContext=r=>{const n=computed(()=>unref(r).name),o=isRef(r)?r:ref(r);return{lang:n,locale:o,t:buildTranslator(r)}},localeContextKey=Symbol("localeContextKey"),useLocale=r=>{const n=r||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>n.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(r,n,o,a,l)=>{let f=`${r}-${n}`;return o&&(f+=`-${o}`),a&&(f+=`__${a}`),l&&(f+=`--${l}`),f},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=r=>{const n=r||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(n)||defaultNamespace)},useNamespace=(r,n)=>{const o=useGetDerivedNamespace(n);return{namespace:o,b:(m="")=>_bem(o.value,r,m,"",""),e:m=>m?_bem(o.value,r,"",m,""):"",m:m=>m?_bem(o.value,r,"","",m):"",be:(m,b)=>m&&b?_bem(o.value,r,m,b,""):"",em:(m,b)=>m&&b?_bem(o.value,r,"",m,b):"",bm:(m,b)=>m&&b?_bem(o.value,r,m,"",b):"",bem:(m,b,y)=>m&&b&&y?_bem(o.value,r,m,b,y):"",is:(m,...b)=>{const y=b.length>=1?b[0]:!0;return m&&y?`${statePrefix}${m}`:""},cssVar:m=>{const b={};for(const y in m)m[y]&&(b[`--${o.value}-${y}`]=m[y]);return b},cssVarName:m=>`--${o.value}-${m}`,cssVarBlock:m=>{const b={};for(const y in m)m[y]&&(b[`--${o.value}-${r}-${y}`]=m[y]);return b},cssVarBlockName:m=>`--${o.value}-${r}-${m}`}},useLockscreen=(r,n={})=>{isRef(r)||throwError("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||useNamespace("popup"),a=computed(()=>o.bm("parent","hidden"));if(!isClient||hasClass(document.body,a.value))return;let l=0,f=!1,u="0";const p=()=>{setTimeout(()=>{removeClass(document==null?void 0:document.body,a.value),f&&document&&(document.body.style.width=u)},200)};watch(r,g=>{if(!g){p();return}f=!hasClass(document.body,a.value),f&&(u=document.body.style.width),l=getScrollBarWidth(o.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,c=getStyle(document.body,"overflowY");l>0&&(d||c==="scroll")&&f&&(document.body.style.width=`calc(100% - ${l}px)`),addClass(document.body,a.value)}),onScopeDispose(()=>p())},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=r=>{const n=`update:${r}`,o=`onUpdate:${r}`,a=[n],l={[r]:_prop,[o]:_event};return{useModelToggle:({indicator:u,toggleReason:p,shouldHideWhenRouteChanges:g,shouldProceed:d,onShow:c,onHide:t})=>{const e=getCurrentInstance(),{emit:i}=e,s=e.props,m=computed(()=>isFunction$2(s[o])),b=computed(()=>s[r]===null),y=A=>{u.value!==!0&&(u.value=!0,p&&(p.value=A),isFunction$2(c)&&c(A))},v=A=>{u.value!==!1&&(u.value=!1,p&&(p.value=A),isFunction$2(t)&&t(A))},w=A=>{if(s.disabled===!0||isFunction$2(d)&&!d())return;const $=m.value&&isClient;$&&i(n,!0),(b.value||!$)&&y(A)},T=A=>{if(s.disabled===!0||!isClient)return;const $=m.value&&isClient;$&&i(n,!1),(b.value||!$)&&v(A)},_=A=>{isBoolean$1(A)&&(s.disabled&&A?m.value&&i(n,!1):u.value!==A&&(A?y():v()))},x=()=>{u.value?T():w()};return watch(()=>s[r],_),g&&e.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...e.proxy.$route}),()=>{g.value&&u.value&&T()}),onMounted(()=>{_(s[r])}),{hide:T,show:w,toggle:x,hasUpdateHandler:m}},useModelToggleProps:l,useModelToggleEmits:a}};createModelToggleComposable("modelValue");const useProp=r=>{const n=getCurrentInstance();return computed(()=>{var o,a;return(a=(o=n==null?void 0:n.proxy)==null?void 0:o.$props)==null?void 0:a[r]})};var E="top",R="bottom",W="right",P="left",me="auto",G=[E,R,W,P],U="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(r,n){return r.concat([n+"-"+U,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(r,n){return r.concat([n,n+"-"+U,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(r){return r?(r.nodeName||"").toLowerCase():null}function H(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Q(r){var n=H(r).Element;return r instanceof n||r instanceof Element}function B(r){var n=H(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function Pe(r){if(typeof ShadowRoot>"u")return!1;var n=H(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}function Mt(r){var n=r.state;Object.keys(n.elements).forEach(function(o){var a=n.styles[o]||{},l=n.attributes[o]||{},f=n.elements[o];!B(f)||!C(f)||(Object.assign(f.style,a),Object.keys(l).forEach(function(u){var p=l[u];p===!1?f.removeAttribute(u):f.setAttribute(u,p===!0?"":p)}))})}function Rt(r){var n=r.state,o={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,o.popper),n.styles=o,n.elements.arrow&&Object.assign(n.elements.arrow.style,o.arrow),function(){Object.keys(n.elements).forEach(function(a){var l=n.elements[a],f=n.attributes[a]||{},u=Object.keys(n.styles.hasOwnProperty(a)?n.styles[a]:o[a]),p=u.reduce(function(g,d){return g[d]="",g},{});!B(l)||!C(l)||(Object.assign(l.style,p),Object.keys(f).forEach(function(g){l.removeAttribute(g)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(r){return r.split("-")[0]}var X=Math.max,ve=Math.min,Z=Math.round;function ee(r,n){n===void 0&&(n=!1);var o=r.getBoundingClientRect(),a=1,l=1;if(B(r)&&n){var f=r.offsetHeight,u=r.offsetWidth;u>0&&(a=Z(o.width)/u||1),f>0&&(l=Z(o.height)/f||1)}return{width:o.width/a,height:o.height/l,top:o.top/l,right:o.right/a,bottom:o.bottom/l,left:o.left/a,x:o.left/a,y:o.top/l}}function ke(r){var n=ee(r),o=r.offsetWidth,a=r.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-a)<=1&&(a=n.height),{x:r.offsetLeft,y:r.offsetTop,width:o,height:a}}function it(r,n){var o=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(o&&Pe(o)){var a=n;do{if(a&&r.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function N(r){return H(r).getComputedStyle(r)}function Wt(r){return["table","td","th"].indexOf(C(r))>=0}function I(r){return((Q(r)?r.ownerDocument:r.document)||window.document).documentElement}function ge(r){return C(r)==="html"?r:r.assignedSlot||r.parentNode||(Pe(r)?r.host:null)||I(r)}function at(r){return!B(r)||N(r).position==="fixed"?null:r.offsetParent}function Bt(r){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&B(r)){var a=N(r);if(a.position==="fixed")return null}var l=ge(r);for(Pe(l)&&(l=l.host);B(l)&&["html","body"].indexOf(C(l))<0;){var f=N(l);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return l;l=l.parentNode}return null}function se(r){for(var n=H(r),o=at(r);o&&Wt(o)&&N(o).position==="static";)o=at(o);return o&&(C(o)==="html"||C(o)==="body"&&N(o).position==="static")?n:o||Bt(r)||n}function Le(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function fe(r,n,o){return X(r,ve(n,o))}function St(r,n,o){var a=fe(r,n,o);return a>o?o:a}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(r){return Object.assign({},st(),r)}function ct(r,n){return n.reduce(function(o,a){return o[a]=r,o},{})}var Tt=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,ft(typeof r!="number"?r:ct(r,G))};function Ht(r){var n,o=r.state,a=r.name,l=r.options,f=o.elements.arrow,u=o.modifiersData.popperOffsets,p=q(o.placement),g=Le(p),d=[P,W].indexOf(p)>=0,c=d?"height":"width";if(!(!f||!u)){var t=Tt(l.padding,o),e=ke(f),i=g==="y"?E:P,s=g==="y"?R:W,m=o.rects.reference[c]+o.rects.reference[g]-u[g]-o.rects.popper[c],b=u[g]-o.rects.reference[g],y=se(f),v=y?g==="y"?y.clientHeight||0:y.clientWidth||0:0,w=m/2-b/2,T=t[i],_=v-e[c]-t[s],x=v/2-e[c]/2+w,A=fe(T,x,_),$=g;o.modifiersData[a]=(n={},n[$]=A,n.centerOffset=A-x,n)}}function Ct(r){var n=r.state,o=r.options,a=o.element,l=a===void 0?"[data-popper-arrow]":a;l!=null&&(typeof l=="string"&&(l=n.elements.popper.querySelector(l),!l)||!it(n.elements.popper,l)||(n.elements.arrow=l))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(r){return r.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(r){var n=r.x,o=r.y,a=window,l=a.devicePixelRatio||1;return{x:Z(n*l)/l||0,y:Z(o*l)/l||0}}function ut(r){var n,o=r.popper,a=r.popperRect,l=r.placement,f=r.variation,u=r.offsets,p=r.position,g=r.gpuAcceleration,d=r.adaptive,c=r.roundOffsets,t=r.isFixed,e=u.x,i=e===void 0?0:e,s=u.y,m=s===void 0?0:s,b=typeof c=="function"?c({x:i,y:m}):{x:i,y:m};i=b.x,m=b.y;var y=u.hasOwnProperty("x"),v=u.hasOwnProperty("y"),w=P,T=E,_=window;if(d){var x=se(o),A="clientHeight",$="clientWidth";if(x===H(o)&&(x=I(o),N(x).position!=="static"&&p==="absolute"&&(A="scrollHeight",$="scrollWidth")),x=x,l===E||(l===P||l===W)&&f===J){T=R;var S=t&&x===_&&_.visualViewport?_.visualViewport.height:x[A];m-=S-a.height,m*=g?1:-1}if(l===P||(l===E||l===R)&&f===J){w=W;var k=t&&x===_&&_.visualViewport?_.visualViewport.width:x[$];i-=k-a.width,i*=g?1:-1}}var V=Object.assign({position:p},d&&qt),oe=c===!0?Vt({x:i,y:m}):{x:i,y:m};if(i=oe.x,m=oe.y,g){var Y;return Object.assign({},V,(Y={},Y[T]=v?"0":"",Y[w]=y?"0":"",Y.transform=(_.devicePixelRatio||1)<=1?"translate("+i+"px, "+m+"px)":"translate3d("+i+"px, "+m+"px, 0)",Y))}return Object.assign({},V,(n={},n[T]=v?m+"px":"",n[w]=y?i+"px":"",n.transform="",n))}function Nt(r){var n=r.state,o=r.options,a=o.gpuAcceleration,l=a===void 0?!0:a,f=o.adaptive,u=f===void 0?!0:f,p=o.roundOffsets,g=p===void 0?!0:p,d={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:l,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},d,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u,roundOffsets:g})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},d,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(r){var n=r.state,o=r.instance,a=r.options,l=a.scroll,f=l===void 0?!0:l,u=a.resize,p=u===void 0?!0:u,g=H(n.elements.popper),d=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&d.forEach(function(c){c.addEventListener("scroll",o.update,ye)}),p&&g.addEventListener("resize",o.update,ye),function(){f&&d.forEach(function(c){c.removeEventListener("scroll",o.update,ye)}),p&&g.removeEventListener("resize",o.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(r){return r.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt(r){return r.replace(/start|end/g,function(n){return zt[n]})}function We(r){var n=H(r),o=n.pageXOffset,a=n.pageYOffset;return{scrollLeft:o,scrollTop:a}}function Be(r){return ee(I(r)).left+We(r).scrollLeft}function Ft(r){var n=H(r),o=I(r),a=n.visualViewport,l=o.clientWidth,f=o.clientHeight,u=0,p=0;return a&&(l=a.width,f=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=a.offsetLeft,p=a.offsetTop)),{width:l,height:f,x:u+Be(r),y:p}}function Ut(r){var n,o=I(r),a=We(r),l=(n=r.ownerDocument)==null?void 0:n.body,f=X(o.scrollWidth,o.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),u=X(o.scrollHeight,o.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),p=-a.scrollLeft+Be(r),g=-a.scrollTop;return N(l||o).direction==="rtl"&&(p+=X(o.clientWidth,l?l.clientWidth:0)-f),{width:f,height:u,x:p,y:g}}function Se(r){var n=N(r),o=n.overflow,a=n.overflowX,l=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+l+a)}function dt(r){return["html","body","#document"].indexOf(C(r))>=0?r.ownerDocument.body:B(r)&&Se(r)?r:dt(ge(r))}function ce(r,n){var o;n===void 0&&(n=[]);var a=dt(r),l=a===((o=r.ownerDocument)==null?void 0:o.body),f=H(a),u=l?[f].concat(f.visualViewport||[],Se(a)?a:[]):a,p=n.concat(u);return l?p:p.concat(ce(ge(u)))}function Te(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function Xt(r){var n=ee(r);return n.top=n.top+r.clientTop,n.left=n.left+r.clientLeft,n.bottom=n.top+r.clientHeight,n.right=n.left+r.clientWidth,n.width=r.clientWidth,n.height=r.clientHeight,n.x=n.left,n.y=n.top,n}function ht(r,n){return n===je?Te(Ft(r)):Q(n)?Xt(n):Te(Ut(I(r)))}function Yt(r){var n=ce(ge(r)),o=["absolute","fixed"].indexOf(N(r).position)>=0,a=o&&B(r)?se(r):r;return Q(a)?n.filter(function(l){return Q(l)&&it(l,a)&&C(l)!=="body"}):[]}function Gt(r,n,o){var a=n==="clippingParents"?Yt(r):[].concat(n),l=[].concat(a,[o]),f=l[0],u=l.reduce(function(p,g){var d=ht(r,g);return p.top=X(d.top,p.top),p.right=ve(d.right,p.right),p.bottom=ve(d.bottom,p.bottom),p.left=X(d.left,p.left),p},ht(r,f));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function mt(r){var n=r.reference,o=r.element,a=r.placement,l=a?q(a):null,f=a?te(a):null,u=n.x+n.width/2-o.width/2,p=n.y+n.height/2-o.height/2,g;switch(l){case E:g={x:u,y:n.y-o.height};break;case R:g={x:u,y:n.y+n.height};break;case W:g={x:n.x+n.width,y:p};break;case P:g={x:n.x-o.width,y:p};break;default:g={x:n.x,y:n.y}}var d=l?Le(l):null;if(d!=null){var c=d==="y"?"height":"width";switch(f){case U:g[d]=g[d]-(n[c]/2-o[c]/2);break;case J:g[d]=g[d]+(n[c]/2-o[c]/2);break}}return g}function ne(r,n){n===void 0&&(n={});var o=n,a=o.placement,l=a===void 0?r.placement:a,f=o.boundary,u=f===void 0?Xe:f,p=o.rootBoundary,g=p===void 0?je:p,d=o.elementContext,c=d===void 0?K:d,t=o.altBoundary,e=t===void 0?!1:t,i=o.padding,s=i===void 0?0:i,m=ft(typeof s!="number"?s:ct(s,G)),b=c===K?Ye:K,y=r.rects.popper,v=r.elements[e?b:c],w=Gt(Q(v)?v:v.contextElement||I(r.elements.popper),u,g),T=ee(r.elements.reference),_=mt({reference:T,element:y,strategy:"absolute",placement:l}),x=Te(Object.assign({},y,_)),A=c===K?x:T,$={top:w.top-A.top+m.top,bottom:A.bottom-w.bottom+m.bottom,left:w.left-A.left+m.left,right:A.right-w.right+m.right},S=r.modifiersData.offset;if(c===K&&S){var k=S[l];Object.keys($).forEach(function(V){var oe=[W,R].indexOf(V)>=0?1:-1,Y=[E,R].indexOf(V)>=0?"y":"x";$[V]+=k[Y]*oe})}return $}function Jt(r,n){n===void 0&&(n={});var o=n,a=o.placement,l=o.boundary,f=o.rootBoundary,u=o.padding,p=o.flipVariations,g=o.allowedAutoPlacements,d=g===void 0?Ee:g,c=te(a),t=c?p?De:De.filter(function(s){return te(s)===c}):G,e=t.filter(function(s){return d.indexOf(s)>=0});e.length===0&&(e=t);var i=e.reduce(function(s,m){return s[m]=ne(r,{placement:m,boundary:l,rootBoundary:f,padding:u})[q(m)],s},{});return Object.keys(i).sort(function(s,m){return i[s]-i[m]})}function Kt(r){if(q(r)===me)return[];var n=be(r);return[lt(r),n,lt(n)]}function Qt(r){var n=r.state,o=r.options,a=r.name;if(!n.modifiersData[a]._skip){for(var l=o.mainAxis,f=l===void 0?!0:l,u=o.altAxis,p=u===void 0?!0:u,g=o.fallbackPlacements,d=o.padding,c=o.boundary,t=o.rootBoundary,e=o.altBoundary,i=o.flipVariations,s=i===void 0?!0:i,m=o.allowedAutoPlacements,b=n.options.placement,y=q(b),v=y===b,w=g||(v||!s?[be(b)]:Kt(b)),T=[b].concat(w).reduce(function(_n,At){return _n.concat(q(At)===me?Jt(n,{placement:At,boundary:c,rootBoundary:t,padding:d,flipVariations:s,allowedAutoPlacements:m}):At)},[]),_=n.rects.reference,x=n.rects.popper,A=new Map,$=!0,S=T[0],k=0;k<T.length;k++){var V=T[k],oe=q(V),Y=te(V)===U,ie=[E,R].indexOf(oe)>=0,z=ie?"width":"height",M=ne(n,{placement:V,boundary:c,rootBoundary:t,altBoundary:e,padding:d}),re=ie?Y?W:P:Y?R:E;_[z]>x[z]&&(re=be(re));var Ne=be(re),pe=[];if(f&&pe.push(M[oe]<=0),p&&pe.push(M[re]<=0,M[Ne]<=0),pe.every(function(_n){return _n})){S=V,$=!1;break}A.set(V,pe)}if($)for(var Ve=s?3:1,Et=function(_n){var At=T.find(function(Pn){var Ue=A.get(Pn);if(Ue)return Ue.slice(0,_n).every(function($n){return $n})});if(At)return S=At,"break"},Fe=Ve;Fe>0;Fe--){var Dt=Et(Fe);if(Dt==="break")break}n.placement!==S&&(n.modifiersData[a]._skip=!0,n.placement=S,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(r,n,o){return o===void 0&&(o={x:0,y:0}),{top:r.top-n.height-o.y,right:r.right-n.width+o.x,bottom:r.bottom-n.height+o.y,left:r.left-n.width-o.x}}function yt(r){return[E,W,R,P].some(function(n){return r[n]>=0})}function Zt(r){var n=r.state,o=r.name,a=n.rects.reference,l=n.rects.popper,f=n.modifiersData.preventOverflow,u=ne(n,{elementContext:"reference"}),p=ne(n,{altBoundary:!0}),g=gt(u,a),d=gt(p,l,f),c=yt(g),t=yt(d);n.modifiersData[o]={referenceClippingOffsets:g,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:t},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":t})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(r,n,o){var a=q(r),l=[P,E].indexOf(a)>=0?-1:1,f=typeof o=="function"?o(Object.assign({},n,{placement:r})):o,u=f[0],p=f[1];return u=u||0,p=(p||0)*l,[P,W].indexOf(a)>=0?{x:p,y:u}:{x:u,y:p}}function tn(r){var n=r.state,o=r.options,a=r.name,l=o.offset,f=l===void 0?[0,0]:l,u=Ee.reduce(function(c,t){return c[t]=en(t,n.rects,f),c},{}),p=u[n.placement],g=p.x,d=p.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=g,n.modifiersData.popperOffsets.y+=d),n.modifiersData[a]=u}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(r){var n=r.state,o=r.name;n.modifiersData[o]=mt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(r){return r==="x"?"y":"x"}function on(r){var n=r.state,o=r.options,a=r.name,l=o.mainAxis,f=l===void 0?!0:l,u=o.altAxis,p=u===void 0?!1:u,g=o.boundary,d=o.rootBoundary,c=o.altBoundary,t=o.padding,e=o.tether,i=e===void 0?!0:e,s=o.tetherOffset,m=s===void 0?0:s,b=ne(n,{boundary:g,rootBoundary:d,padding:t,altBoundary:c}),y=q(n.placement),v=te(n.placement),w=!v,T=Le(y),_=rn(T),x=n.modifiersData.popperOffsets,A=n.rects.reference,$=n.rects.popper,S=typeof m=="function"?m(Object.assign({},n.rects,{placement:n.placement})):m,k=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),V=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,oe={x:0,y:0};if(x){if(f){var Y,ie=T==="y"?E:P,z=T==="y"?R:W,M=T==="y"?"height":"width",re=x[T],Ne=re+b[ie],pe=re-b[z],Ve=i?-$[M]/2:0,Et=v===U?A[M]:$[M],Fe=v===U?-$[M]:-A[M],Dt=n.elements.arrow,_n=i&&Dt?ke(Dt):{width:0,height:0},At=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),Pn=At[ie],Ue=At[z],$n=fe(0,A[M],_n[M]),Jn=w?A[M]/2-Ve-$n-Pn-k.mainAxis:Et-$n-Pn-k.mainAxis,Dn=w?-A[M]/2+Ve+$n+Ue+k.mainAxis:Fe+$n+Ue+k.mainAxis,Nn=n.elements.arrow&&se(n.elements.arrow),Wn=Nn?T==="y"?Nn.clientTop||0:Nn.clientLeft||0:0,Un=(Y=V==null?void 0:V[T])!=null?Y:0,Rn=re+Jn-Un-Wn,er=re+Dn-Un,tr=fe(i?ve(Ne,Rn):Ne,re,i?X(pe,er):pe);x[T]=tr,oe[T]=tr-re}if(p){var Zn,Tn=T==="x"?E:P,xn=T==="x"?R:W,Lt=x[_],vn=_==="y"?"height":"width",En=Lt+b[Tn],Ln=Lt-b[xn],Kn=[E,P].indexOf(y)!==-1,xe=(Zn=V==null?void 0:V[_])!=null?Zn:0,In=Kn?En:Lt-A[vn]-$[vn]-xe+k.altAxis,Yn=Kn?Lt+A[vn]+$[vn]-xe-k.altAxis:Ln,nr=i&&Kn?St(In,Lt,Yn):fe(i?In:En,Lt,i?Yn:Ln);x[_]=nr,oe[_]=nr-Lt}n.modifiersData[a]=oe}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function sn(r){return r===H(r)||!B(r)?We(r):an(r)}function fn(r){var n=r.getBoundingClientRect(),o=Z(n.width)/r.offsetWidth||1,a=Z(n.height)/r.offsetHeight||1;return o!==1||a!==1}function cn(r,n,o){o===void 0&&(o=!1);var a=B(n),l=B(n)&&fn(n),f=I(n),u=ee(r,l),p={scrollLeft:0,scrollTop:0},g={x:0,y:0};return(a||!a&&!o)&&((C(n)!=="body"||Se(f))&&(p=sn(n)),B(n)?(g=ee(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):f&&(g.x=Be(f))),{x:u.left+p.scrollLeft-g.x,y:u.top+p.scrollTop-g.y,width:u.width,height:u.height}}function pn(r){var n=new Map,o=new Set,a=[];r.forEach(function(f){n.set(f.name,f)});function l(f){o.add(f.name);var u=[].concat(f.requires||[],f.requiresIfExists||[]);u.forEach(function(p){if(!o.has(p)){var g=n.get(p);g&&l(g)}}),a.push(f)}return r.forEach(function(f){o.has(f.name)||l(f)}),a}function un(r){var n=pn(r);return ot.reduce(function(o,a){return o.concat(n.filter(function(l){return l.phase===a}))},[])}function ln(r){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(r())})})),n}}function dn(r){var n=r.reduce(function(o,a){var l=o[a.name];return o[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,o},{});return Object.keys(n).map(function(o){return n[o]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return!n.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function we(r){r===void 0&&(r={});var n=r,o=n.defaultModifiers,a=o===void 0?[]:o,l=n.defaultOptions,f=l===void 0?Ot:l;return function(u,p,g){g===void 0&&(g=f);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,f),modifiersData:{},elements:{reference:u,popper:p},attributes:{},styles:{}},c=[],t=!1,e={state:d,setOptions:function(m){var b=typeof m=="function"?m(d.options):m;s(),d.options=Object.assign({},f,d.options,b),d.scrollParents={reference:Q(u)?ce(u):u.contextElement?ce(u.contextElement):[],popper:ce(p)};var y=un(dn([].concat(a,d.options.modifiers)));return d.orderedModifiers=y.filter(function(v){return v.enabled}),i(),e.update()},forceUpdate:function(){if(!t){var m=d.elements,b=m.reference,y=m.popper;if($t(b,y)){d.rects={reference:cn(b,se(y),d.options.strategy==="fixed"),popper:ke(y)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function($){return d.modifiersData[$.name]=Object.assign({},$.data)});for(var v=0;v<d.orderedModifiers.length;v++){if(d.reset===!0){d.reset=!1,v=-1;continue}var w=d.orderedModifiers[v],T=w.fn,_=w.options,x=_===void 0?{}:_,A=w.name;typeof T=="function"&&(d=T({state:d,options:x,name:A,instance:e})||d)}}}},update:ln(function(){return new Promise(function(m){e.forceUpdate(),m(d)})}),destroy:function(){s(),t=!0}};if(!$t(u,p))return e;e.setOptions(g).then(function(m){!t&&g.onFirstUpdate&&g.onFirstUpdate(m)});function i(){d.orderedModifiers.forEach(function(m){var b=m.name,y=m.options,v=y===void 0?{}:y,w=m.effect;if(typeof w=="function"){var T=w({state:d,name:b,instance:e,options:v}),_=function(){};c.push(T||_)}})}function s(){c.forEach(function(m){return m()}),c=[]}return e}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(r,n,o={})=>{const a={name:"updateState",enabled:!0,phase:"write",fn:({state:g})=>{const d=deriveState(g);Object.assign(u.value,d)},requires:["computeStyles"]},l=computed(()=>{const{onFirstUpdate:g,placement:d,strategy:c,modifiers:t}=unref(o);return{onFirstUpdate:g,placement:d||"bottom",strategy:c||"absolute",modifiers:[...t||[],a,{name:"applyStyles",enabled:!1}]}}),f=shallowRef(),u=ref({styles:{popper:{position:unref(l).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),p=()=>{f.value&&(f.value.destroy(),f.value=void 0)};return watch(l,g=>{const d=unref(f);d&&d.setOptions(g)},{deep:!0}),watch([r,n],([g,d])=>{p(),!(!g||!d)&&(f.value=yn(g,d,unref(l)))}),onBeforeUnmount(()=>{p()}),{state:computed(()=>{var g;return{...((g=unref(f))==null?void 0:g.state)||{}}}),styles:computed(()=>unref(u).styles),attributes:computed(()=>unref(u).attributes),update:()=>{var g;return(g=unref(f))==null?void 0:g.update()},forceUpdate:()=>{var g;return(g=unref(f))==null?void 0:g.forceUpdate()},instanceRef:computed(()=>unref(f))}};function deriveState(r){const n=Object.keys(r.elements),o=fromPairs(n.map(l=>[l,r.styles[l]||{}])),a=fromPairs(n.map(l=>[l,r.attributes[l]]));return{styles:o,attributes:a}}const useSameTarget=r=>{if(!r)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let n=!1,o=!1;return{onClick:u=>{n&&o&&r(u),n=o=!1},onMousedown:u=>{n=u.target===u.currentTarget},onMouseup:u=>{o=u.target===u.currentTarget}}};function useTimeout(){let r;const n=(a,l)=>{o(),r=window.setTimeout(a,l)},o=()=>window.clearTimeout(r);return tryOnScopeDispose(()=>o()),{registerTimeout:n,cancelTimeout:o}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=r=>{const n=useIdInjection(),o=useGetDerivedNamespace();return computed(()=>unref(r)||`${o.value}-id-${n.prefix}-${n.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=r=>{const n=r;n.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(o=>o(n))},useEscapeKeydown=r=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(r)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==r),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const r=useGetDerivedNamespace(),n=useIdInjection(),o=computed(()=>`${r.value}-popper-container-${n.prefix}`),a=computed(()=>`#${o.value}`);return{id:o,selector:a}},createContainer=r=>{const n=document.createElement("div");return n.id=r,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:r,selector:n}=usePopperContainerId();return onBeforeMount(()=>{isClient&&!cachedContainer&&!document.body.querySelector(n.value)&&(cachedContainer=createContainer(r.value))}),{id:r,selector:n}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:r,hideAfter:n,autoClose:o,open:a,close:l})=>{const{registerTimeout:f}=useTimeout(),{registerTimeout:u,cancelTimeout:p}=useTimeout();return{onOpen:c=>{f(()=>{a(c);const t=unref(o);isNumber$1(t)&&t>0&&u(()=>{l(c)},t)},unref(r))},onClose:c=>{p(),f(()=>{l(c)},unref(n))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=r=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:o=>{r.value=o}})},useForwardRefDirective=r=>({mounted(n){r(n)},updated(n){r(n)},unmounted(){r(null)}}),initial={current:0},zIndex=ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=r=>{const n=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,o=r||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),a=computed(()=>{const u=unref(o);return isNumber$1(u)?u:defaultInitialZIndex}),l=computed(()=>a.value+zIndex.value),f=()=>(n.current++,zIndex.value=n.current,l.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:a,currentZIndex:l,nextZIndex:f}};function useCursor(r){let n;function o(){if(r.value==null)return;const{selectionStart:l,selectionEnd:f,value:u}=r.value;if(l==null||f==null)return;const p=u.slice(0,Math.max(0,l)),g=u.slice(Math.max(0,f));n={selectionStart:l,selectionEnd:f,value:u,beforeTxt:p,afterTxt:g}}function a(){if(r.value==null||n==null)return;const{value:l}=r.value,{beforeTxt:f,afterTxt:u,selectionStart:p}=n;if(f==null||u==null||p==null)return;let g=l.length;if(l.endsWith(u))g=l.length-u.length;else if(l.startsWith(f))g=f.length;else{const d=f[p-1],c=l.indexOf(d,p-1);c!==-1&&(g=c+1)}r.value.setSelectionRange(g,g)}return[o,a]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const r=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(r.size)||"")};function useFocusController(r,{beforeFocus:n,afterFocus:o,beforeBlur:a,afterBlur:l}={}){const f=getCurrentInstance(),{emit:u}=f,p=shallowRef(),g=ref(!1),d=e=>{isFunction$2(n)&&n(e)||g.value||(g.value=!0,u("focus",e),o==null||o())},c=e=>{var i;isFunction$2(a)&&a(e)||e.relatedTarget&&((i=p.value)!=null&&i.contains(e.relatedTarget))||(g.value=!1,u("blur",e),l==null||l())},t=()=>{var e,i;(e=p.value)!=null&&e.contains(document.activeElement)&&p.value!==document.activeElement||(i=r.value)==null||i.focus()};return watch(p,e=>{e&&e.setAttribute("tabindex","-1")}),useEventListener(p,"focus",d,!0),useEventListener(p,"blur",c,!0),useEventListener(p,"click",t,!0),{isFocused:g,wrapperRef:p,handleFocus:d,handleBlur:c}}function useComposition({afterComposition:r,emit:n}){const o=ref(!1),a=p=>{n==null||n("compositionstart",p),o.value=!0},l=p=>{var g;n==null||n("compositionupdate",p);const d=(g=p.target)==null?void 0:g.value,c=d[d.length-1]||"";o.value=!isKorean(c)},f=p=>{n==null||n("compositionend",p),o.value&&(o.value=!1,nextTick(()=>r(p)))};return{isComposing:o,handleComposition:p=>{p.type==="compositionend"?f(p):l(p)},handleCompositionStart:a,handleCompositionUpdate:l,handleCompositionEnd:f}}const emptyValuesContextKey=Symbol("emptyValuesContextKey"),DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:r=>isFunction$2(r)?!r():!r}}),useEmptyValues=(r,n)=>{const o=getCurrentInstance()?inject(emptyValuesContextKey,ref({})):ref({}),a=computed(()=>r.emptyValues||o.value.emptyValues||DEFAULT_EMPTY_VALUES),l=computed(()=>isFunction$2(r.valueOnClear)?r.valueOnClear():r.valueOnClear!==void 0?r.valueOnClear:isFunction$2(o.value.valueOnClear)?o.value.valueOnClear():o.value.valueOnClear!==void 0?o.value.valueOnClear:DEFAULT_VALUE_ON_CLEAR),f=u=>a.value.includes(u);return a.value.includes(l.value),{emptyValues:a,valueOnClear:l,isEmptyValue:f}},ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=r=>pick(ariaProps,r),configProviderContextKey=Symbol(),globalConfig=ref();function useGlobalConfig(r,n=void 0){const o=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return r?computed(()=>{var a,l;return(l=(a=o.value)==null?void 0:a[r])!=null?l:n}):o}function useGlobalComponentSettings(r,n){const o=useGlobalConfig(),a=useNamespace(r,computed(()=>{var p;return((p=o.value)==null?void 0:p.namespace)||defaultNamespace})),l=useLocale(computed(()=>{var p;return(p=o.value)==null?void 0:p.locale})),f=useZIndex(computed(()=>{var p;return((p=o.value)==null?void 0:p.zIndex)||defaultInitialZIndex})),u=computed(()=>{var p;return unref(n)||((p=o.value)==null?void 0:p.size)||""});return provideGlobalConfig(computed(()=>unref(o)||{})),{ns:a,locale:l,zIndex:f,size:u}}const provideGlobalConfig=(r,n,o=!1)=>{var a;const l=!!getCurrentInstance(),f=l?useGlobalConfig():void 0,u=(a=void 0)!=null?a:l?provide:void 0;if(!u)return;const p=computed(()=>{const g=unref(r);return f!=null&&f.value?mergeConfig$1(f.value,g):g});return u(configProviderContextKey,p),u(localeContextKey,computed(()=>p.value.locale)),u(namespaceContextKey,computed(()=>p.value.namespace)),u(zIndexContextKey,computed(()=>p.value.zIndex)),u(SIZE_INJECTION_KEY,{size:computed(()=>p.value.size||"")}),u(emptyValuesContextKey,computed(()=>({emptyValues:p.value.emptyValues,valueOnClear:p.value.valueOnClear}))),(o||!globalConfig.value)&&(globalConfig.value=p.value),p},mergeConfig$1=(r,n)=>{const o=[...new Set([...keysOf(r),...keysOf(n)])],a={};for(const l of o)a[l]=n[l]!==void 0?n[l]:r[l];return a},messageConfig={};var _export_sfc=(r,n)=>{const o=r.__vccOpts||r;for(const[a,l]of n)o[a]=l;return o};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$k=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$C=defineComponent({...__default__$k,props:iconProps,setup(r){const n=r,o=useNamespace("icon"),a=computed(()=>{const{size:l,color:f}=n;return!l&&!f?{}:{fontSize:isUndefined$1(l)?void 0:addUnit(l),"--color":f}});return(l,f)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(o).b(),style:unref(a)},l.$attrs),[renderSlot(l.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$C,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(r,n={})=>{const o=ref(void 0),a=n.prop?o:useProp("size"),l=n.global?o:useGlobalSize(),f=n.form?{size:void 0}:inject(formContextKey,void 0),u=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>a.value||unref(r)||(u==null?void 0:u.size)||(f==null?void 0:f.size)||l.value||"")},useFormDisabled=r=>{const n=useProp("disabled"),o=inject(formContextKey,void 0);return computed(()=>n.value||unref(r)||(o==null?void 0:o.disabled)||!1)},useFormItem=()=>{const r=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:r,formItem:n}},useFormItemInputId=(r,{formItemContext:n,disableIdGeneration:o,disableIdManagement:a})=>{o||(o=ref(!1)),a||(a=ref(!1));const l=ref();let f;const u=computed(()=>{var p;return!!(!(r.label||r.ariaLabel)&&n&&n.inputIds&&((p=n.inputIds)==null?void 0:p.length)<=1)});return onMounted(()=>{f=watch([toRef(r,"id"),o],([p,g])=>{const d=p??(g?void 0:useId().value);d!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(a!=null&&a.value)&&!g&&d&&n.addInputId(d)),l.value=d)},{immediate:!0})}),onUnmounted(()=>{f&&f(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:u,inputId:l}};let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(r){const n=window.getComputedStyle(r),o=n.getPropertyValue("box-sizing"),a=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(u=>`${u}:${n.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:l,boxSizing:o}}function calcTextareaHeight(r,n=1,o){var a;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:l,borderSize:f,boxSizing:u,contextStyle:p}=calculateNodeStyling(r);hiddenTextarea.setAttribute("style",`${p};${HIDDEN_STYLE}`),hiddenTextarea.value=r.value||r.placeholder||"";let g=hiddenTextarea.scrollHeight;const d={};u==="border-box"?g=g+f:u==="content-box"&&(g=g-l),hiddenTextarea.value="";const c=hiddenTextarea.scrollHeight-l;if(isNumber$1(n)){let t=c*n;u==="border-box"&&(t=t+l+f),g=Math.max(t,g),d.minHeight=`${t}px`}if(isNumber$1(o)){let t=c*o;u==="border-box"&&(t=t+l+f),g=Math.min(t,g)}return d.height=`${g}px`,(a=hiddenTextarea.parentNode)==null||a.removeChild(hiddenTextarea),hiddenTextarea=void 0,d}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:Boolean,rows:{type:Number,default:2},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:r=>isString$2(r),input:r=>isString$2(r),change:r=>isString$2(r),focus:r=>r instanceof FocusEvent,blur:r=>r instanceof FocusEvent,clear:()=>!0,mouseleave:r=>r instanceof MouseEvent,mouseenter:r=>r instanceof MouseEvent,keydown:r=>r instanceof Event,compositionstart:r=>r instanceof CompositionEvent,compositionupdate:r=>r instanceof CompositionEvent,compositionend:r=>r instanceof CompositionEvent},__default__$j=defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$B=defineComponent({...__default__$j,props:inputProps,emits:inputEmits,setup(r,{expose:n,emit:o}){const a=r,l=useAttrs$1(),f=useSlots(),u=computed(()=>{const xe={};return a.containerRole==="combobox"&&(xe["aria-haspopup"]=l["aria-haspopup"],xe["aria-owns"]=l["aria-owns"],xe["aria-expanded"]=l["aria-expanded"]),xe}),p=computed(()=>[a.type==="textarea"?b.b():m.b(),m.m(i.value),m.is("disabled",s.value),m.is("exceed",Dt.value),{[m.b("group")]:f.prepend||f.append,[m.m("prefix")]:f.prefix||a.prefixIcon,[m.m("suffix")]:f.suffix||a.suffixIcon||a.clearable||a.showPassword,[m.bm("suffix","password-clear")]:pe.value&&Ve.value,[m.b("hidden")]:a.type==="hidden"},l.class]),g=computed(()=>[m.e("wrapper"),m.is("focus",S.value)]),d=useAttrs({excludeKeys:computed(()=>Object.keys(u.value))}),{form:c,formItem:t}=useFormItem(),{inputId:e}=useFormItemInputId(a,{formItemContext:t}),i=useFormSize(),s=useFormDisabled(),m=useNamespace("input"),b=useNamespace("textarea"),y=shallowRef(),v=shallowRef(),w=ref(!1),T=ref(!1),_=ref(),x=shallowRef(a.inputStyle),A=computed(()=>y.value||v.value),{wrapperRef:$,isFocused:S,handleFocus:k,handleBlur:V}=useFocusController(A,{afterBlur(){var xe;a.validateEvent&&((xe=t==null?void 0:t.validate)==null||xe.call(t,"blur").catch(In=>void 0))}}),oe=computed(()=>{var xe;return(xe=c==null?void 0:c.statusIcon)!=null?xe:!1}),Y=computed(()=>(t==null?void 0:t.validateState)||""),ie=computed(()=>Y.value&&ValidateComponentsMap[Y.value]),z=computed(()=>T.value?view_default:hide_default),M=computed(()=>[l.style]),re=computed(()=>[a.inputStyle,x.value,{resize:a.resize}]),Ne=computed(()=>isNil(a.modelValue)?"":String(a.modelValue)),pe=computed(()=>a.clearable&&!s.value&&!a.readonly&&!!Ne.value&&(S.value||w.value)),Ve=computed(()=>a.showPassword&&!s.value&&!a.readonly&&!!Ne.value&&(!!Ne.value||S.value)),Et=computed(()=>a.showWordLimit&&!!a.maxlength&&(a.type==="text"||a.type==="textarea")&&!s.value&&!a.readonly&&!a.showPassword),Fe=computed(()=>Ne.value.length),Dt=computed(()=>!!Et.value&&Fe.value>Number(a.maxlength)),_n=computed(()=>!!f.suffix||!!a.suffixIcon||pe.value||a.showPassword||Et.value||!!Y.value&&oe.value),[At,Pn]=useCursor(y);useResizeObserver(v,xe=>{if(Jn(),!Et.value||a.resize!=="both")return;const In=xe[0],{width:Yn}=In.contentRect;_.value={right:`calc(100% - ${Yn+15+6}px)`}});const Ue=()=>{const{type:xe,autosize:In}=a;if(!(!isClient||xe!=="textarea"||!v.value))if(In){const Yn=isObject$2(In)?In.minRows:void 0,nr=isObject$2(In)?In.maxRows:void 0,sr=calcTextareaHeight(v.value,Yn,nr);x.value={overflowY:"hidden",...sr},nextTick(()=>{v.value.offsetHeight,x.value=sr})}else x.value={minHeight:calcTextareaHeight(v.value).minHeight}},Jn=(xe=>{let In=!1;return()=>{var Yn;if(In||!a.autosize)return;((Yn=v.value)==null?void 0:Yn.offsetParent)===null||(xe(),In=!0)}})(Ue),Dn=()=>{const xe=A.value,In=a.formatter?a.formatter(Ne.value):Ne.value;!xe||xe.value===In||(xe.value=In)},Nn=async xe=>{At();let{value:In}=xe.target;if(a.formatter&&(In=a.parser?a.parser(In):In),!Un.value){if(In===Ne.value){Dn();return}o(UPDATE_MODEL_EVENT,In),o("input",In),await nextTick(),Dn(),Pn()}},Wn=xe=>{o("change",xe.target.value)},{isComposing:Un,handleCompositionStart:Rn,handleCompositionUpdate:er,handleCompositionEnd:tr}=useComposition({emit:o,afterComposition:Nn}),Zn=()=>{T.value=!T.value,Tn()},Tn=async()=>{var xe;await nextTick(),(xe=A.value)==null||xe.focus()},xn=()=>{var xe;return(xe=A.value)==null?void 0:xe.blur()},Lt=xe=>{w.value=!1,o("mouseleave",xe)},vn=xe=>{w.value=!0,o("mouseenter",xe)},En=xe=>{o("keydown",xe)},Ln=()=>{var xe;(xe=A.value)==null||xe.select()},Kn=()=>{o(UPDATE_MODEL_EVENT,""),o("change",""),o("clear"),o("input","")};return watch(()=>a.modelValue,()=>{var xe;nextTick(()=>Ue()),a.validateEvent&&((xe=t==null?void 0:t.validate)==null||xe.call(t,"change").catch(In=>void 0))}),watch(Ne,()=>Dn()),watch(()=>a.type,async()=>{await nextTick(),Dn(),Ue()}),onMounted(()=>{!a.formatter&&a.parser,Dn(),nextTick(Ue)}),n({input:y,textarea:v,ref:A,textareaStyle:re,autosize:toRef(a,"autosize"),isComposing:Un,focus:Tn,blur:xn,select:Ln,clear:Kn,resizeTextarea:Ue}),(xe,In)=>(openBlock(),createElementBlock("div",mergeProps(unref(u),{class:[unref(p),{[unref(m).bm("group","append")]:xe.$slots.append,[unref(m).bm("group","prepend")]:xe.$slots.prepend}],style:unref(M),role:xe.containerRole,onMouseenter:vn,onMouseleave:Lt}),[createCommentVNode(" input "),xe.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),xe.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(m).be("group","prepend"))},[renderSlot(xe.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:$,class:normalizeClass(unref(g))},[createCommentVNode(" prefix slot "),xe.$slots.prefix||xe.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(m).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("prefix-inner"))},[renderSlot(xe.$slots,"prefix"),xe.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(m).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(e),ref_key:"input",ref:y,class:unref(m).e("inner")},unref(d),{minlength:xe.minlength,maxlength:xe.maxlength,type:xe.showPassword?T.value?"text":"password":xe.type,disabled:unref(s),readonly:xe.readonly,autocomplete:xe.autocomplete,tabindex:xe.tabindex,"aria-label":xe.ariaLabel,placeholder:xe.placeholder,style:xe.inputStyle,form:xe.form,autofocus:xe.autofocus,onCompositionstart:unref(Rn),onCompositionupdate:unref(er),onCompositionend:unref(tr),onInput:Nn,onChange:Wn,onKeydown:En}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),createCommentVNode(" suffix slot "),unref(_n)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(m).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("suffix-inner"))},[!unref(pe)||!unref(Ve)||!unref(Et)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(xe.$slots,"suffix"),xe.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(m).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(pe)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(m).e("icon"),unref(m).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:Kn},{default:withCtx(()=>[createVNode(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(Ve)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(m).e("icon"),unref(m).e("password")]),onClick:Zn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(z))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(Et)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(m).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(m).e("count-inner"))},toDisplayString(unref(Fe))+" / "+toDisplayString(xe.maxlength),3)],2)):createCommentVNode("v-if",!0),unref(Y)&&unref(ie)&&unref(oe)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(m).e("icon"),unref(m).e("validateIcon"),unref(m).is("loading",unref(Y)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ie))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),xe.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(m).be("group","append"))},[renderSlot(xe.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(e),ref_key:"textarea",ref:v,class:[unref(b).e("inner"),unref(m).is("focus",unref(S))]},unref(d),{minlength:xe.minlength,maxlength:xe.maxlength,tabindex:xe.tabindex,disabled:unref(s),readonly:xe.readonly,autocomplete:xe.autocomplete,style:unref(re),"aria-label":xe.ariaLabel,placeholder:xe.placeholder,form:xe.form,autofocus:xe.autofocus,rows:xe.rows,onCompositionstart:unref(Rn),onCompositionupdate:unref(er),onCompositionend:unref(tr),onInput:Nn,onFocus:unref(k),onBlur:unref(V),onChange:Wn,onKeydown:En}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),unref(Et)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle(_.value),class:normalizeClass(unref(m).e("count"))},toDisplayString(unref(Fe))+" / "+toDisplayString(xe.maxlength),7)):createCommentVNode("v-if",!0)],64))],16,["role"]))}});var Input=_export_sfc(_sfc_main$B,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:r,size:n,bar:o})=>({[o.size]:n,transform:`translate${o.axis}(${r}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$3="Thumb",_sfc_main$A=defineComponent({__name:"thumb",props:thumbProps,setup(r){const n=r,o=inject(scrollbarContextKey),a=useNamespace("scrollbar");o||throwError(COMPONENT_NAME$3,"can not inject scrollbar context");const l=ref(),f=ref(),u=ref({}),p=ref(!1);let g=!1,d=!1,c=isClient?document.onselectstart:null;const t=computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),e=computed(()=>renderThumbStyle({size:n.size,move:n.move,bar:t.value})),i=computed(()=>l.value[t.value.offset]**2/o.wrapElement[t.value.scrollSize]/n.ratio/f.value[t.value.offset]),s=x=>{var A;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(A=window.getSelection())==null||A.removeAllRanges(),b(x);const $=x.currentTarget;$&&(u.value[t.value.axis]=$[t.value.offset]-(x[t.value.client]-$.getBoundingClientRect()[t.value.direction]))},m=x=>{if(!f.value||!l.value||!o.wrapElement)return;const A=Math.abs(x.target.getBoundingClientRect()[t.value.direction]-x[t.value.client]),$=f.value[t.value.offset]/2,S=(A-$)*100*i.value/l.value[t.value.offset];o.wrapElement[t.value.scroll]=S*o.wrapElement[t.value.scrollSize]/100},b=x=>{x.stopImmediatePropagation(),g=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),c=document.onselectstart,document.onselectstart=()=>!1},y=x=>{if(!l.value||!f.value||g===!1)return;const A=u.value[t.value.axis];if(!A)return;const $=(l.value.getBoundingClientRect()[t.value.direction]-x[t.value.client])*-1,S=f.value[t.value.offset]-A,k=($-S)*100*i.value/l.value[t.value.offset];o.wrapElement[t.value.scroll]=k*o.wrapElement[t.value.scrollSize]/100},v=()=>{g=!1,u.value[t.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),_(),d&&(p.value=!1)},w=()=>{d=!1,p.value=!!n.size},T=()=>{d=!0,p.value=g};onBeforeUnmount(()=>{_(),document.removeEventListener("mouseup",v)});const _=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return useEventListener(toRef(o,"scrollbarElement"),"mousemove",w),useEventListener(toRef(o,"scrollbarElement"),"mouseleave",T),(x,A)=>(openBlock(),createBlock(Transition,{name:unref(a).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:l,class:normalizeClass([unref(a).e("bar"),unref(a).is(unref(t).key)]),onMousedown:m},[createBaseVNode("div",{ref_key:"thumb",ref:f,class:normalizeClass(unref(a).e("thumb")),style:normalizeStyle(unref(e)),onMousedown:s},null,38)],34),[[vShow,x.always||p.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$A,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$z=defineComponent({__name:"bar",props:barProps,setup(r,{expose:n}){const o=r,a=inject(scrollbarContextKey),l=ref(0),f=ref(0),u=ref(""),p=ref(""),g=ref(1),d=ref(1);return n({handleScroll:e=>{if(e){const i=e.offsetHeight-GAP,s=e.offsetWidth-GAP;f.value=e.scrollTop*100/i*g.value,l.value=e.scrollLeft*100/s*d.value}},update:()=>{const e=a==null?void 0:a.wrapElement;if(!e)return;const i=e.offsetHeight-GAP,s=e.offsetWidth-GAP,m=i**2/e.scrollHeight,b=s**2/e.scrollWidth,y=Math.max(m,o.minSize),v=Math.max(b,o.minSize);g.value=m/(i-m)/(y/(i-y)),d.value=b/(s-b)/(v/(s-v)),p.value=y+GAP<i?`${y}px`:"",u.value=v+GAP<s?`${v}px`:""}}),(e,i)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(Thumb,{move:l.value,ratio:d.value,size:u.value,always:e.always},null,8,["move","ratio","size","always"]),createVNode(Thumb,{move:f.value,ratio:g.value,size:p.value,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$z,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={scroll:({scrollTop:r,scrollLeft:n})=>[r,n].every(isNumber$1)},COMPONENT_NAME$2="ElScrollbar",__default__$i=defineComponent({name:COMPONENT_NAME$2}),_sfc_main$y=defineComponent({...__default__$i,props:scrollbarProps,emits:scrollbarEmits,setup(r,{expose:n,emit:o}){const a=r,l=useNamespace("scrollbar");let f,u,p=0,g=0;const d=ref(),c=ref(),t=ref(),e=ref(),i=computed(()=>{const _={};return a.height&&(_.height=addUnit(a.height)),a.maxHeight&&(_.maxHeight=addUnit(a.maxHeight)),[a.wrapStyle,_]}),s=computed(()=>[a.wrapClass,l.e("wrap"),{[l.em("wrap","hidden-default")]:!a.native}]),m=computed(()=>[l.e("view"),a.viewClass]),b=()=>{var _;c.value&&((_=e.value)==null||_.handleScroll(c.value),p=c.value.scrollTop,g=c.value.scrollLeft,o("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function y(_,x){isObject$2(_)?c.value.scrollTo(_):isNumber$1(_)&&isNumber$1(x)&&c.value.scrollTo(_,x)}const v=_=>{isNumber$1(_)&&(c.value.scrollTop=_)},w=_=>{isNumber$1(_)&&(c.value.scrollLeft=_)},T=()=>{var _;(_=e.value)==null||_.update()};return watch(()=>a.noresize,_=>{_?(f==null||f(),u==null||u()):({stop:f}=useResizeObserver(t,T),u=useEventListener("resize",T))},{immediate:!0}),watch(()=>[a.maxHeight,a.height],()=>{a.native||nextTick(()=>{var _;T(),c.value&&((_=e.value)==null||_.handleScroll(c.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:d,wrapElement:c})),onActivated(()=>{c.value.scrollTop=p,c.value.scrollLeft=g}),onMounted(()=>{a.native||nextTick(()=>{T()})}),onUpdated(()=>T()),n({wrapRef:c,update:T,scrollTo:y,setScrollTop:v,setScrollLeft:w,handleScroll:b}),(_,x)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:d,class:normalizeClass(unref(l).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:c,class:normalizeClass(unref(s)),style:normalizeStyle(unref(i)),onScroll:b},[(openBlock(),createBlock(resolveDynamicComponent(_.tag),{id:_.id,ref_key:"resizeRef",ref:t,class:normalizeClass(unref(m)),style:normalizeStyle(_.viewStyle),role:_.role,"aria-label":_.ariaLabel,"aria-orientation":_.ariaOrientation},{default:withCtx(()=>[renderSlot(_.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),_.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:e,always:_.always,"min-size":_.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$y,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$h=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$x=defineComponent({...__default__$h,props:popperProps,setup(r,{expose:n}){const o=r,a=ref(),l=ref(),f=ref(),u=ref(),p=computed(()=>o.role),g={triggerRef:a,popperInstanceRef:l,contentRef:f,referenceRef:u,role:p};return n(g),provide(POPPER_INJECTION_KEY,g),(d,c)=>renderSlot(d.$slots,"default")}});var Popper=_export_sfc(_sfc_main$x,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$g=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$w=defineComponent({...__default__$g,props:popperArrowProps,setup(r,{expose:n}){const o=r,a=useNamespace("popper"),{arrowOffset:l,arrowRef:f,arrowStyle:u}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return watch(()=>o.arrowOffset,p=>{l.value=p}),onBeforeUnmount(()=>{f.value=void 0}),n({arrowRef:f}),(p,g)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:f,class:normalizeClass(unref(a).e("arrow")),style:normalizeStyle(unref(u)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$w,[["__file","arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(r,{slots:n,attrs:o}){var a;const l=inject(FORWARD_REF_INJECTION_KEY),f=useForwardRefDirective((a=l==null?void 0:l.setForwardRef)!=null?a:NOOP);return()=>{var u;const p=(u=n.default)==null?void 0:u.call(n,o);if(!p||p.length>1)return null;const g=findFirstLegitChild(p);return g?withDirectives(cloneVNode(g,o),[[f]]):null}}});function findFirstLegitChild(r){if(!r)return null;const n=r;for(const o of n){if(isObject$2(o))switch(o.type){case Comment:continue;case Text:case"svg":return wrapTextContent(o);case Fragment:return findFirstLegitChild(o.children);default:return o}return wrapTextContent(o)}return null}function wrapTextContent(r){const n=useNamespace("only-child");return createVNode("span",{class:n.e("content")},[r])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$f=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$v=defineComponent({...__default__$f,props:popperTriggerProps,setup(r,{expose:n}){const o=r,{role:a,triggerRef:l}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(l);const f=computed(()=>p.value?o.id:void 0),u=computed(()=>{if(a&&a.value==="tooltip")return o.open&&o.id?o.id:void 0}),p=computed(()=>{if(a&&a.value!=="tooltip")return a.value}),g=computed(()=>p.value?`${o.open}`:void 0);let d;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return onMounted(()=>{watch(()=>o.virtualRef,t=>{t&&(l.value=unrefElement(t))},{immediate:!0}),watch(l,(t,e)=>{d==null||d(),d=void 0,isElement(t)&&(c.forEach(i=>{var s;const m=o[i];m&&(t.addEventListener(i.slice(2).toLowerCase(),m),(s=e==null?void 0:e.removeEventListener)==null||s.call(e,i.slice(2).toLowerCase(),m))}),d=watch([f,u,p,g],i=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((s,m)=>{isNil(i[m])?t.removeAttribute(s):t.setAttribute(s,i[m])})},{immediate:!0})),isElement(e)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(i=>e.removeAttribute(i))},{immediate:!0})}),onBeforeUnmount(()=>{if(d==null||d(),d=void 0,l.value&&isElement(l.value)){const t=l.value;c.forEach(e=>{const i=o[e];i&&t.removeEventListener(e.slice(2).toLowerCase(),i)}),l.value=void 0}}),n({triggerRef:l}),(t,e)=>t.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},t.$attrs,{"aria-controls":unref(f),"aria-describedby":unref(u),"aria-expanded":unref(g),"aria-haspopup":unref(p)}),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$v,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=r=>{const n=[],o=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const l=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||l?NodeFilter.FILTER_SKIP:a.tabIndex>=0||a===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)n.push(o.currentNode);return n},getVisibleElement=(r,n)=>{for(const o of r)if(!isHidden(o,n))return o},isHidden=(r,n)=>{if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(n&&r===n)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1},getEdges=r=>{const n=obtainAllFocusableElements(r),o=getVisibleElement(n,r),a=getVisibleElement(n.reverse(),r);return[o,a]},isSelectable=r=>r instanceof HTMLInputElement&&"select"in r,tryFocus=(r,n)=>{if(r&&r.focus){const o=document.activeElement;r.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),r!==o&&isSelectable(r)&&n&&r.select()}};function removeFromStack(r,n){const o=[...r],a=r.indexOf(n);return a!==-1&&o.splice(a,1),o}const createFocusableStack=()=>{let r=[];return{push:a=>{const l=r[0];l&&a!==l&&l.pause(),r=removeFromStack(r,a),r.unshift(a)},remove:a=>{var l,f;r=removeFromStack(r,a),(f=(l=r[0])==null?void 0:l.resume)==null||f.call(l)}}},focusFirstDescendant=(r,n=!1)=>{const o=document.activeElement;for(const a of r)if(tryFocus(a,n),document.activeElement!==o)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=r=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:r}),_sfc_main$u=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(r,{emit:n}){const o=ref();let a,l;const{focusReason:f}=useFocusReason();useEscapeKeydown(s=>{r.trapped&&!u.paused&&n("release-requested",s)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},p=s=>{if(!r.loop&&!r.trapped||u.paused)return;const{key:m,altKey:b,ctrlKey:y,metaKey:v,currentTarget:w,shiftKey:T}=s,{loop:_}=r,x=m===EVENT_CODE.tab&&!b&&!y&&!v,A=document.activeElement;if(x&&A){const $=w,[S,k]=getEdges($);if(S&&k){if(!T&&A===k){const oe=createFocusOutPreventedEvent({focusReason:f.value});n("focusout-prevented",oe),oe.defaultPrevented||(s.preventDefault(),_&&tryFocus(S,!0))}else if(T&&[S,$].includes(A)){const oe=createFocusOutPreventedEvent({focusReason:f.value});n("focusout-prevented",oe),oe.defaultPrevented||(s.preventDefault(),_&&tryFocus(k,!0))}}else if(A===$){const oe=createFocusOutPreventedEvent({focusReason:f.value});n("focusout-prevented",oe),oe.defaultPrevented||s.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:o,onKeydown:p}),watch(()=>r.focusTrapEl,s=>{s&&(o.value=s)},{immediate:!0}),watch([o],([s],[m])=>{s&&(s.addEventListener("keydown",p),s.addEventListener("focusin",c),s.addEventListener("focusout",t)),m&&(m.removeEventListener("keydown",p),m.removeEventListener("focusin",c),m.removeEventListener("focusout",t))});const g=s=>{n(ON_TRAP_FOCUS_EVT,s)},d=s=>n(ON_RELEASE_FOCUS_EVT,s),c=s=>{const m=unref(o);if(!m)return;const b=s.target,y=s.relatedTarget,v=b&&m.contains(b);r.trapped||y&&m.contains(y)||(a=y),v&&n("focusin",s),!u.paused&&r.trapped&&(v?l=b:tryFocus(l,!0))},t=s=>{const m=unref(o);if(!(u.paused||!m))if(r.trapped){const b=s.relatedTarget;!isNil(b)&&!m.contains(b)&&setTimeout(()=>{if(!u.paused&&r.trapped){const y=createFocusOutPreventedEvent({focusReason:f.value});n("focusout-prevented",y),y.defaultPrevented||tryFocus(l,!0)}},0)}else{const b=s.target;b&&m.contains(b)||n("focusout",s)}};async function e(){await nextTick();const s=unref(o);if(s){focusableStack.push(u);const m=s.contains(document.activeElement)?a:document.activeElement;if(a=m,!s.contains(m)){const y=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);s.addEventListener(FOCUS_AFTER_TRAPPED,g),s.dispatchEvent(y),y.defaultPrevented||nextTick(()=>{let v=r.focusStartEl;isString$2(v)||(tryFocus(v),document.activeElement!==v&&(v="first")),v==="first"&&focusFirstDescendant(obtainAllFocusableElements(s),!0),(document.activeElement===m||v==="container")&&tryFocus(s)})}}}function i(){const s=unref(o);if(s){s.removeEventListener(FOCUS_AFTER_TRAPPED,g);const m=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:f.value}});s.addEventListener(FOCUS_AFTER_RELEASED,d),s.dispatchEvent(m),!m.defaultPrevented&&(f.value=="keyboard"||!isFocusCausedByUserEvent()||s.contains(document.activeElement))&&tryFocus(a??document.body),s.removeEventListener(FOCUS_AFTER_RELEASED,d),focusableStack.remove(u)}}return onMounted(()=>{r.trapped&&e(),watch(()=>r.trapped,s=>{s?e():i()})}),onBeforeUnmount(()=>{r.trapped&&i(),o.value&&(o.value.removeEventListener("keydown",p),o.value.removeEventListener("focusin",c),o.value.removeEventListener("focusout",t),o.value=void 0)}),{onKeydown:p}}});function _sfc_render$4(r,n,o,a,l,f){return renderSlot(r.$slots,"default",{handleKeydown:r.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$u,[["render",_sfc_render$4],["__file","focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:definePropType(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:r=>r instanceof MouseEvent,mouseleave:r=>r instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(r,n=[])=>{const{placement:o,strategy:a,popperOptions:l}=r,f={placement:o,strategy:a,...l,modifiers:[...genModifiers(r),...n]};return deriveExtraModifiers(f,l==null?void 0:l.modifiers),f},unwrapMeasurableEl=r=>{if(isClient)return unrefElement(r)};function genModifiers(r){const{offset:n,gpuAcceleration:o,fallbackPlacements:a}=r;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:a}},{name:"computeStyles",options:{gpuAcceleration:o}}]}function deriveExtraModifiers(r,n){n&&(r.modifiers=[...r.modifiers,...n??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=r=>{const{popperInstanceRef:n,contentRef:o,triggerRef:a,role:l}=inject(POPPER_INJECTION_KEY,void 0),f=ref(),u=ref(),p=computed(()=>({name:"eventListeners",enabled:!!r.visible})),g=computed(()=>{var y;const v=unref(f),w=(y=unref(u))!=null?y:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$2(v),options:{element:v,padding:w}}}),d=computed(()=>({onFirstUpdate:()=>{s()},...buildPopperOptions(r,[unref(g),unref(p)])})),c=computed(()=>unwrapMeasurableEl(r.referenceEl)||unref(a)),{attributes:t,state:e,styles:i,update:s,forceUpdate:m,instanceRef:b}=usePopper(c,o,d);return watch(b,y=>n.value=y),onMounted(()=>{watch(()=>{var y;return(y=unref(c))==null?void 0:y.getBoundingClientRect()},()=>{s()})}),{attributes:t,arrowRef:f,contentRef:o,instanceRef:b,state:e,styles:i,role:l,forceUpdate:m,update:s}},usePopperContentDOM=(r,{attributes:n,styles:o,role:a})=>{const{nextZIndex:l}=useZIndex(),f=useNamespace("popper"),u=computed(()=>unref(n).popper),p=ref(isNumber$1(r.zIndex)?r.zIndex:l()),g=computed(()=>[f.b(),f.is("pure",r.pure),f.is(r.effect),r.popperClass]),d=computed(()=>[{zIndex:unref(p)},unref(o).popper,r.popperStyle||{}]),c=computed(()=>a.value==="dialog"?"false":void 0),t=computed(()=>unref(o).arrow||{});return{ariaModal:c,arrowStyle:t,contentAttrs:u,contentClass:g,contentStyle:d,contentZIndex:p,updateZIndex:()=>{p.value=isNumber$1(r.zIndex)?r.zIndex:l()}}},usePopperContentFocusTrap=(r,n)=>{const o=ref(!1),a=ref();return{focusStartRef:a,trapped:o,onFocusAfterReleased:d=>{var c;((c=d.detail)==null?void 0:c.focusReason)!=="pointer"&&(a.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:d=>{r.visible&&!o.value&&(d.target&&(a.value=d.target),o.value=!0)},onFocusoutPrevented:d=>{r.trapping||(d.detail.focusReason==="pointer"&&d.preventDefault(),o.value=!1)},onReleaseRequested:()=>{o.value=!1,n("close")}}},__default__$e=defineComponent({name:"ElPopperContent"}),_sfc_main$t=defineComponent({...__default__$e,props:popperContentProps,emits:popperContentEmits,setup(r,{expose:n,emit:o}){const a=r,{focusStartRef:l,trapped:f,onFocusAfterReleased:u,onFocusAfterTrapped:p,onFocusInTrap:g,onFocusoutPrevented:d,onReleaseRequested:c}=usePopperContentFocusTrap(a,o),{attributes:t,arrowRef:e,contentRef:i,styles:s,instanceRef:m,role:b,update:y}=usePopperContent(a),{ariaModal:v,arrowStyle:w,contentAttrs:T,contentClass:_,contentStyle:x,updateZIndex:A}=usePopperContentDOM(a,{styles:s,attributes:t,role:b}),$=inject(formItemContextKey,void 0),S=ref();provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:w,arrowRef:e,arrowOffset:S}),$&&provide(formItemContextKey,{...$,addInputId:NOOP,removeInputId:NOOP});let k;const V=(Y=!0)=>{y(),Y&&A()},oe=()=>{V(!1),a.visible&&a.focusOnShow?f.value=!0:a.visible===!1&&(f.value=!1)};return onMounted(()=>{watch(()=>a.triggerTargetEl,(Y,ie)=>{k==null||k(),k=void 0;const z=unref(Y||i.value),M=unref(ie||i.value);isElement(z)&&(k=watch([b,()=>a.ariaLabel,v,()=>a.id],re=>{["role","aria-label","aria-modal","id"].forEach((Ne,pe)=>{isNil(re[pe])?z.removeAttribute(Ne):z.setAttribute(Ne,re[pe])})},{immediate:!0})),M!==z&&isElement(M)&&["role","aria-label","aria-modal","id"].forEach(re=>{M.removeAttribute(re)})},{immediate:!0}),watch(()=>a.visible,oe,{immediate:!0})}),onBeforeUnmount(()=>{k==null||k(),k=void 0}),n({popperContentRef:i,popperInstanceRef:m,updatePopper:V,contentStyle:x}),(Y,ie)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:i},unref(T),{style:unref(x),class:unref(_),tabindex:"-1",onMouseenter:z=>Y.$emit("mouseenter",z),onMouseleave:z=>Y.$emit("mouseleave",z)}),[createVNode(unref(ElFocusTrap),{trapped:unref(f),"trap-on-focus-in":!0,"focus-trap-el":unref(i),"focus-start-el":unref(l),onFocusAfterTrapped:unref(p),onFocusAfterReleased:unref(u),onFocusin:unref(g),onFocusoutPrevented:unref(d),onReleaseRequested:unref(c)},{default:withCtx(()=>[renderSlot(Y.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var ElPopperContent=_export_sfc(_sfc_main$t,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(r,n)=>isArray$2(r)?r.includes(n):r===n,whenTrigger=(r,n,o)=>a=>{isTriggerType(unref(r),n)&&o(a)},__default__$d=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$s=defineComponent({...__default__$d,props:useTooltipTriggerProps,setup(r,{expose:n}){const o=r,a=useNamespace("tooltip"),{controlled:l,id:f,open:u,onOpen:p,onClose:g,onToggle:d}=inject(TOOLTIP_INJECTION_KEY,void 0),c=ref(null),t=()=>{if(unref(l)||o.disabled)return!0},e=toRef(o,"trigger"),i=composeEventHandlers(t,whenTrigger(e,"hover",p)),s=composeEventHandlers(t,whenTrigger(e,"hover",g)),m=composeEventHandlers(t,whenTrigger(e,"click",T=>{T.button===0&&d(T)})),b=composeEventHandlers(t,whenTrigger(e,"focus",p)),y=composeEventHandlers(t,whenTrigger(e,"focus",g)),v=composeEventHandlers(t,whenTrigger(e,"contextmenu",T=>{T.preventDefault(),d(T)})),w=composeEventHandlers(t,T=>{const{code:_}=T;o.triggerKeys.includes(_)&&(T.preventDefault(),d(T))});return n({triggerRef:c}),(T,_)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref(f),"virtual-ref":T.virtualRef,open:unref(u),"virtual-triggering":T.virtualTriggering,class:normalizeClass(unref(a).e("trigger")),onBlur:unref(y),onClick:unref(m),onContextmenu:unref(v),onFocus:unref(b),onMouseenter:unref(i),onMouseleave:unref(s),onKeydown:unref(w)},{default:withCtx(()=>[renderSlot(T.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$s,[["__file","trigger.vue"]]);const teleportProps=buildProps({to:{type:definePropType([String,Object]),required:!0},disabled:Boolean}),_sfc_main$r=defineComponent({__name:"teleport",props:teleportProps,setup(r){return(n,o)=>n.disabled?renderSlot(n.$slots,"default",{key:0}):(openBlock(),createBlock(Teleport$1,{key:1,to:n.to},[renderSlot(n.$slots,"default")],8,["to"]))}});var Teleport=_export_sfc(_sfc_main$r,[["__file","teleport.vue"]]);const ElTeleport=withInstall(Teleport),__default__$c=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$q=defineComponent({...__default__$c,props:useTooltipContentProps,setup(r,{expose:n}){const o=r,{selector:a}=usePopperContainerId(),l=useNamespace("tooltip"),f=ref(null);let u;const{controlled:p,id:g,open:d,trigger:c,onClose:t,onOpen:e,onShow:i,onHide:s,onBeforeShow:m,onBeforeHide:b}=inject(TOOLTIP_INJECTION_KEY,void 0),y=computed(()=>o.transition||`${l.namespace.value}-fade-in-linear`),v=computed(()=>o.persistent);onBeforeUnmount(()=>{u==null||u()});const w=computed(()=>unref(v)?!0:unref(d)),T=computed(()=>o.disabled?!1:unref(d)),_=computed(()=>o.appendTo||a.value),x=computed(()=>{var M;return(M=o.style)!=null?M:{}}),A=computed(()=>!unref(d)),$=()=>{s()},S=()=>{if(unref(p))return!0},k=composeEventHandlers(S,()=>{o.enterable&&unref(c)==="hover"&&e()}),V=composeEventHandlers(S,()=>{unref(c)==="hover"&&t()}),oe=()=>{var M,re;(re=(M=f.value)==null?void 0:M.updatePopper)==null||re.call(M),m==null||m()},Y=()=>{b==null||b()},ie=()=>{i(),u=onClickOutside(computed(()=>{var M;return(M=f.value)==null?void 0:M.popperContentRef}),()=>{if(unref(p))return;unref(c)!=="hover"&&t()})},z=()=>{o.virtualTriggering||t()};return watch(()=>unref(d),M=>{M||u==null||u()},{flush:"post"}),watch(()=>o.content,()=>{var M,re;(re=(M=f.value)==null?void 0:M.updatePopper)==null||re.call(M)}),n({contentRef:f}),(M,re)=>(openBlock(),createBlock(unref(ElTeleport),{disabled:!M.teleported,to:unref(_)},{default:withCtx(()=>[createVNode(Transition,{name:unref(y),onAfterLeave:$,onBeforeEnter:oe,onAfterEnter:ie,onBeforeLeave:Y},{default:withCtx(()=>[unref(w)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(g),ref_key:"contentRef",ref:f},M.$attrs,{"aria-label":M.ariaLabel,"aria-hidden":unref(A),"boundaries-padding":M.boundariesPadding,"fallback-placements":M.fallbackPlacements,"gpu-acceleration":M.gpuAcceleration,offset:M.offset,placement:M.placement,"popper-options":M.popperOptions,strategy:M.strategy,effect:M.effect,enterable:M.enterable,pure:M.pure,"popper-class":M.popperClass,"popper-style":[M.popperStyle,unref(x)],"reference-el":M.referenceEl,"trigger-target-el":M.triggerTargetEl,visible:unref(T),"z-index":M.zIndex,onMouseenter:unref(k),onMouseleave:unref(V),onBlur:z,onClose:unref(t)}),{default:withCtx(()=>[renderSlot(M.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(T)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$q,[["__file","content.vue"]]);const __default__$b=defineComponent({name:"ElTooltip"}),_sfc_main$p=defineComponent({...__default__$b,props:useTooltipProps,emits:tooltipEmits,setup(r,{expose:n,emit:o}){const a=r;usePopperContainer();const l=useId(),f=ref(),u=ref(),p=()=>{var y;const v=unref(f);v&&((y=v.popperInstanceRef)==null||y.update())},g=ref(!1),d=ref(),{show:c,hide:t,hasUpdateHandler:e}=useTooltipModelToggle({indicator:g,toggleReason:d}),{onOpen:i,onClose:s}=useDelayedToggle({showAfter:toRef(a,"showAfter"),hideAfter:toRef(a,"hideAfter"),autoClose:toRef(a,"autoClose"),open:c,close:t}),m=computed(()=>isBoolean$1(a.visible)&&!e.value);provide(TOOLTIP_INJECTION_KEY,{controlled:m,id:l,open:readonly(g),trigger:toRef(a,"trigger"),onOpen:y=>{i(y)},onClose:y=>{s(y)},onToggle:y=>{unref(g)?s(y):i(y)},onShow:()=>{o("show",d.value)},onHide:()=>{o("hide",d.value)},onBeforeShow:()=>{o("before-show",d.value)},onBeforeHide:()=>{o("before-hide",d.value)},updatePopper:p}),watch(()=>a.disabled,y=>{y&&g.value&&(g.value=!1)});const b=y=>{var v,w;const T=(w=(v=u.value)==null?void 0:v.contentRef)==null?void 0:w.popperContentRef,_=(y==null?void 0:y.relatedTarget)||document.activeElement;return T&&T.contains(_)};return onDeactivated(()=>g.value&&t()),n({popperRef:f,contentRef:u,isFocusInsideContent:b,updatePopper:p,onOpen:i,onClose:s,hide:t}),(y,v)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:f,role:y.role},{default:withCtx(()=>[createVNode(ElTooltipTrigger,{disabled:y.disabled,trigger:y.trigger,"trigger-keys":y.triggerKeys,"virtual-ref":y.virtualRef,"virtual-triggering":y.virtualTriggering},{default:withCtx(()=>[y.$slots.default?renderSlot(y.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode(ElTooltipContent,{ref_key:"contentRef",ref:u,"aria-label":y.ariaLabel,"boundaries-padding":y.boundariesPadding,content:y.content,disabled:y.disabled,effect:y.effect,enterable:y.enterable,"fallback-placements":y.fallbackPlacements,"hide-after":y.hideAfter,"gpu-acceleration":y.gpuAcceleration,offset:y.offset,persistent:y.persistent,"popper-class":y.popperClass,"popper-style":y.popperStyle,placement:y.placement,"popper-options":y.popperOptions,pure:y.pure,"raw-content":y.rawContent,"reference-el":y.referenceEl,"trigger-target-el":y.triggerTargetEl,"show-after":y.showAfter,strategy:y.strategy,teleported:y.teleported,transition:y.transition,"virtual-triggering":y.virtualTriggering,"z-index":y.zIndex,"append-to":y.appendTo},{default:withCtx(()=>[renderSlot(y.$slots,"content",{},()=>[y.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:y.content},null,8,["innerHTML"])):(openBlock(),createElementBlock("span",{key:1},toDisplayString(y.content),1))]),y.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0,"arrow-offset":y.arrowOffset},null,8,["arrow-offset"])):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$p,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},badgeClass:{type:String}}),__default__$a=defineComponent({name:"ElBadge"}),_sfc_main$o=defineComponent({...__default__$a,props:badgeProps,setup(r,{expose:n}){const o=r,a=useNamespace("badge"),l=computed(()=>o.isDot?"":isNumber$1(o.value)&&isNumber$1(o.max)?o.max<o.value?`${o.max}+`:o.value===0&&!o.showZero?"":`${o.value}`:`${o.value}`),f=computed(()=>{var u,p,g,d,c;return[{backgroundColor:o.color,marginRight:addUnit(-((p=(u=o.offset)==null?void 0:u[0])!=null?p:0)),marginTop:addUnit((d=(g=o.offset)==null?void 0:g[1])!=null?d:0)},(c=o.badgeStyle)!=null?c:{}]});return n({content:l}),(u,p)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(a).b())},[renderSlot(u.$slots,"default"),createVNode(Transition,{name:`${unref(a).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(a).e("content"),unref(a).em("content",u.type),unref(a).is("fixed",!!u.$slots.default),unref(a).is("dot",u.isDot),u.badgeClass]),style:normalizeStyle(unref(f)),textContent:toDisplayString(unref(l))},null,14,["textContent"]),[[vShow,!u.hidden&&(unref(l)||u.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc(_sfc_main$o,[["__file","badge.vue"]]);const ElBadge=withInstall(Badge),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useButton=(r,n)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>r.type==="text"));const o=inject(buttonGroupContextKey,void 0),a=useGlobalConfig("button"),{form:l}=useFormItem(),f=useFormSize(computed(()=>o==null?void 0:o.size)),u=useFormDisabled(),p=ref(),g=useSlots(),d=computed(()=>r.type||(o==null?void 0:o.type)||""),c=computed(()=>{var s,m,b;return(b=(m=r.autoInsertSpace)!=null?m:(s=a.value)==null?void 0:s.autoInsertSpace)!=null?b:!1}),t=computed(()=>r.tag==="button"?{ariaDisabled:u.value||r.loading,disabled:u.value||r.loading,autofocus:r.autofocus,type:r.nativeType}:{}),e=computed(()=>{var s;const m=(s=g.default)==null?void 0:s.call(g);if(c.value&&(m==null?void 0:m.length)===1){const b=m[0];if((b==null?void 0:b.type)===Text){const y=b.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(y.trim())}}return!1});return{_disabled:u,_size:f,_type:d,_ref:p,_props:t,shouldAddSpace:e,handleClick:s=>{if(u.value||r.loading){s.stopPropagation();return}r.nativeType==="reset"&&(l==null||l.resetFields()),n("click",s)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:r=>r instanceof MouseEvent};function bound01(r,n){isOnePointZero(r)&&(r="100%");var o=isPercentage(r);return r=n===360?r:Math.min(n,Math.max(0,parseFloat(r))),o&&(r=parseInt(String(r*n),10)/100),Math.abs(r-n)<1e-6?1:(n===360?r=(r<0?r%n+n:r%n)/parseFloat(String(n)):r=r%n/parseFloat(String(n)),r)}function clamp01(r){return Math.min(1,Math.max(0,r))}function isOnePointZero(r){return typeof r=="string"&&r.indexOf(".")!==-1&&parseFloat(r)===1}function isPercentage(r){return typeof r=="string"&&r.indexOf("%")!==-1}function boundAlpha(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function convertToPercentage(r){return r<=1?"".concat(Number(r)*100,"%"):r}function pad2(r){return r.length===1?"0"+r:String(r)}function rgbToRgb(r,n,o){return{r:bound01(r,255)*255,g:bound01(n,255)*255,b:bound01(o,255)*255}}function rgbToHsl(r,n,o){r=bound01(r,255),n=bound01(n,255),o=bound01(o,255);var a=Math.max(r,n,o),l=Math.min(r,n,o),f=0,u=0,p=(a+l)/2;if(a===l)u=0,f=0;else{var g=a-l;switch(u=p>.5?g/(2-a-l):g/(a+l),a){case r:f=(n-o)/g+(n<o?6:0);break;case n:f=(o-r)/g+2;break;case o:f=(r-n)/g+4;break}f/=6}return{h:f,s:u,l:p}}function hue2rgb(r,n,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?r+(n-r)*(6*o):o<1/2?n:o<2/3?r+(n-r)*(2/3-o)*6:r}function hslToRgb(r,n,o){var a,l,f;if(r=bound01(r,360),n=bound01(n,100),o=bound01(o,100),n===0)l=o,f=o,a=o;else{var u=o<.5?o*(1+n):o+n-o*n,p=2*o-u;a=hue2rgb(p,u,r+1/3),l=hue2rgb(p,u,r),f=hue2rgb(p,u,r-1/3)}return{r:a*255,g:l*255,b:f*255}}function rgbToHsv(r,n,o){r=bound01(r,255),n=bound01(n,255),o=bound01(o,255);var a=Math.max(r,n,o),l=Math.min(r,n,o),f=0,u=a,p=a-l,g=a===0?0:p/a;if(a===l)f=0;else{switch(a){case r:f=(n-o)/p+(n<o?6:0);break;case n:f=(o-r)/p+2;break;case o:f=(r-n)/p+4;break}f/=6}return{h:f,s:g,v:u}}function hsvToRgb(r,n,o){r=bound01(r,360)*6,n=bound01(n,100),o=bound01(o,100);var a=Math.floor(r),l=r-a,f=o*(1-n),u=o*(1-l*n),p=o*(1-(1-l)*n),g=a%6,d=[o,u,f,f,p,o][g],c=[p,o,o,u,f,f][g],t=[f,f,p,o,o,u][g];return{r:d*255,g:c*255,b:t*255}}function rgbToHex(r,n,o,a){var l=[pad2(Math.round(r).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(o).toString(16))];return a&&l[0].startsWith(l[0].charAt(1))&&l[1].startsWith(l[1].charAt(1))&&l[2].startsWith(l[2].charAt(1))?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0):l.join("")}function rgbaToHex(r,n,o,a,l){var f=[pad2(Math.round(r).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(o).toString(16)),pad2(convertDecimalToHex(a))];return l&&f[0].startsWith(f[0].charAt(1))&&f[1].startsWith(f[1].charAt(1))&&f[2].startsWith(f[2].charAt(1))&&f[3].startsWith(f[3].charAt(1))?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function convertDecimalToHex(r){return Math.round(parseFloat(r)*255).toString(16)}function convertHexToDecimal(r){return parseIntFromHex(r)/255}function parseIntFromHex(r){return parseInt(r,16)}function numberInputToObject(r){return{r:r>>16,g:(r&65280)>>8,b:r&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(r){var n={r:0,g:0,b:0},o=1,a=null,l=null,f=null,u=!1,p=!1;return typeof r=="string"&&(r=stringInputToObject(r)),typeof r=="object"&&(isValidCSSUnit(r.r)&&isValidCSSUnit(r.g)&&isValidCSSUnit(r.b)?(n=rgbToRgb(r.r,r.g,r.b),u=!0,p=String(r.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(r.h)&&isValidCSSUnit(r.s)&&isValidCSSUnit(r.v)?(a=convertToPercentage(r.s),l=convertToPercentage(r.v),n=hsvToRgb(r.h,a,l),u=!0,p="hsv"):isValidCSSUnit(r.h)&&isValidCSSUnit(r.s)&&isValidCSSUnit(r.l)&&(a=convertToPercentage(r.s),f=convertToPercentage(r.l),n=hslToRgb(r.h,a,f),u=!0,p="hsl"),Object.prototype.hasOwnProperty.call(r,"a")&&(o=r.a)),o=boundAlpha(o),{ok:u,format:r.format||p,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:o}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(r){if(r=r.trim().toLowerCase(),r.length===0)return!1;var n=!1;if(names[r])r=names[r],n=!0;else if(r==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var o=matchers.rgb.exec(r);return o?{r:o[1],g:o[2],b:o[3]}:(o=matchers.rgba.exec(r),o?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=matchers.hsl.exec(r),o?{h:o[1],s:o[2],l:o[3]}:(o=matchers.hsla.exec(r),o?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=matchers.hsv.exec(r),o?{h:o[1],s:o[2],v:o[3]}:(o=matchers.hsva.exec(r),o?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=matchers.hex8.exec(r),o?{r:parseIntFromHex(o[1]),g:parseIntFromHex(o[2]),b:parseIntFromHex(o[3]),a:convertHexToDecimal(o[4]),format:n?"name":"hex8"}:(o=matchers.hex6.exec(r),o?{r:parseIntFromHex(o[1]),g:parseIntFromHex(o[2]),b:parseIntFromHex(o[3]),format:n?"name":"hex"}:(o=matchers.hex4.exec(r),o?{r:parseIntFromHex(o[1]+o[1]),g:parseIntFromHex(o[2]+o[2]),b:parseIntFromHex(o[3]+o[3]),a:convertHexToDecimal(o[4]+o[4]),format:n?"name":"hex8"}:(o=matchers.hex3.exec(r),o?{r:parseIntFromHex(o[1]+o[1]),g:parseIntFromHex(o[2]+o[2]),b:parseIntFromHex(o[3]+o[3]),format:n?"name":"hex"}:!1)))))))))}function isValidCSSUnit(r){return!!matchers.CSS_UNIT.exec(String(r))}var TinyColor=function(){function r(n,o){n===void 0&&(n=""),o===void 0&&(o={});var a;if(n instanceof r)return n;typeof n=="number"&&(n=numberInputToObject(n)),this.originalInput=n;var l=inputToRGB(n);this.originalInput=n,this.r=l.r,this.g=l.g,this.b=l.b,this.a=l.a,this.roundA=Math.round(100*this.a)/100,this.format=(a=o.format)!==null&&a!==void 0?a:l.format,this.gradientType=o.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=l.ok}return r.prototype.isDark=function(){return this.getBrightness()<128},r.prototype.isLight=function(){return!this.isDark()},r.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},r.prototype.getLuminance=function(){var n=this.toRgb(),o,a,l,f=n.r/255,u=n.g/255,p=n.b/255;return f<=.03928?o=f/12.92:o=Math.pow((f+.055)/1.055,2.4),u<=.03928?a=u/12.92:a=Math.pow((u+.055)/1.055,2.4),p<=.03928?l=p/12.92:l=Math.pow((p+.055)/1.055,2.4),.2126*o+.7152*a+.0722*l},r.prototype.getAlpha=function(){return this.a},r.prototype.setAlpha=function(n){return this.a=boundAlpha(n),this.roundA=Math.round(100*this.a)/100,this},r.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},r.prototype.toHsv=function(){var n=rgbToHsv(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},r.prototype.toHsvString=function(){var n=rgbToHsv(this.r,this.g,this.b),o=Math.round(n.h*360),a=Math.round(n.s*100),l=Math.round(n.v*100);return this.a===1?"hsv(".concat(o,", ").concat(a,"%, ").concat(l,"%)"):"hsva(".concat(o,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},r.prototype.toHsl=function(){var n=rgbToHsl(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},r.prototype.toHslString=function(){var n=rgbToHsl(this.r,this.g,this.b),o=Math.round(n.h*360),a=Math.round(n.s*100),l=Math.round(n.l*100);return this.a===1?"hsl(".concat(o,", ").concat(a,"%, ").concat(l,"%)"):"hsla(".concat(o,", ").concat(a,"%, ").concat(l,"%, ").concat(this.roundA,")")},r.prototype.toHex=function(n){return n===void 0&&(n=!1),rgbToHex(this.r,this.g,this.b,n)},r.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},r.prototype.toHex8=function(n){return n===void 0&&(n=!1),rgbaToHex(this.r,this.g,this.b,this.a,n)},r.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},r.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},r.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},r.prototype.toRgbString=function(){var n=Math.round(this.r),o=Math.round(this.g),a=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(o,", ").concat(a,")"):"rgba(".concat(n,", ").concat(o,", ").concat(a,", ").concat(this.roundA,")")},r.prototype.toPercentageRgb=function(){var n=function(o){return"".concat(Math.round(bound01(o,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},r.prototype.toPercentageRgbString=function(){var n=function(o){return Math.round(bound01(o,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},r.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+rgbToHex(this.r,this.g,this.b,!1),o=0,a=Object.entries(names);o<a.length;o++){var l=a[o],f=l[0],u=l[1];if(n===u)return f}return!1},r.prototype.toString=function(n){var o=!!n;n=n??this.format;var a=!1,l=this.a<1&&this.a>=0,f=!o&&l&&(n.startsWith("hex")||n==="name");return f?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(a=this.toRgbString()),n==="prgb"&&(a=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(a=this.toHexString()),n==="hex3"&&(a=this.toHexString(!0)),n==="hex4"&&(a=this.toHex8String(!0)),n==="hex8"&&(a=this.toHex8String()),n==="name"&&(a=this.toName()),n==="hsl"&&(a=this.toHslString()),n==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},r.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},r.prototype.clone=function(){return new r(this.toString())},r.prototype.lighten=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l+=n/100,o.l=clamp01(o.l),new r(o)},r.prototype.brighten=function(n){n===void 0&&(n=10);var o=this.toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(255*-(n/100)))),o.g=Math.max(0,Math.min(255,o.g-Math.round(255*-(n/100)))),o.b=Math.max(0,Math.min(255,o.b-Math.round(255*-(n/100)))),new r(o)},r.prototype.darken=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.l-=n/100,o.l=clamp01(o.l),new r(o)},r.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},r.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},r.prototype.desaturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s-=n/100,o.s=clamp01(o.s),new r(o)},r.prototype.saturate=function(n){n===void 0&&(n=10);var o=this.toHsl();return o.s+=n/100,o.s=clamp01(o.s),new r(o)},r.prototype.greyscale=function(){return this.desaturate(100)},r.prototype.spin=function(n){var o=this.toHsl(),a=(o.h+n)%360;return o.h=a<0?360+a:a,new r(o)},r.prototype.mix=function(n,o){o===void 0&&(o=50);var a=this.toRgb(),l=new r(n).toRgb(),f=o/100,u={r:(l.r-a.r)*f+a.r,g:(l.g-a.g)*f+a.g,b:(l.b-a.b)*f+a.b,a:(l.a-a.a)*f+a.a};return new r(u)},r.prototype.analogous=function(n,o){n===void 0&&(n=6),o===void 0&&(o=30);var a=this.toHsl(),l=360/o,f=[this];for(a.h=(a.h-(l*n>>1)+720)%360;--n;)a.h=(a.h+l)%360,f.push(new r(a));return f},r.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new r(n)},r.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var o=this.toHsv(),a=o.h,l=o.s,f=o.v,u=[],p=1/n;n--;)u.push(new r({h:a,s:l,v:f})),f=(f+p)%1;return u},r.prototype.splitcomplement=function(){var n=this.toHsl(),o=n.h;return[this,new r({h:(o+72)%360,s:n.s,l:n.l}),new r({h:(o+216)%360,s:n.s,l:n.l})]},r.prototype.onBackground=function(n){var o=this.toRgb(),a=new r(n).toRgb(),l=o.a+a.a*(1-o.a);return new r({r:(o.r*o.a+a.r*a.a*(1-o.a))/l,g:(o.g*o.a+a.g*a.a*(1-o.a))/l,b:(o.b*o.a+a.b*a.a*(1-o.a))/l,a:l})},r.prototype.triad=function(){return this.polyad(3)},r.prototype.tetrad=function(){return this.polyad(4)},r.prototype.polyad=function(n){for(var o=this.toHsl(),a=o.h,l=[this],f=360/n,u=1;u<n;u++)l.push(new r({h:(a+u*f)%360,s:o.s,l:o.l}));return l},r.prototype.equals=function(n){return this.toRgbString()===new r(n).toRgbString()},r}();function darken(r,n=20){return r.mix("#141414",n).toString()}function useButtonCustomStyle(r){const n=useFormDisabled(),o=useNamespace("button");return computed(()=>{let a={},l=r.color;if(l){const f=l.match(/var\((.*?)\)/);f&&(l=window.getComputedStyle(window.document.documentElement).getPropertyValue(f[1]));const u=new TinyColor(l),p=r.dark?u.tint(20).toString():darken(u,20);if(r.plain)a=o.cssVarBlock({"bg-color":r.dark?darken(u,90):u.tint(90).toString(),"text-color":l,"border-color":r.dark?darken(u,50):u.tint(50).toString(),"hover-text-color":`var(${o.cssVarName("color-white")})`,"hover-bg-color":l,"hover-border-color":l,"active-bg-color":p,"active-text-color":`var(${o.cssVarName("color-white")})`,"active-border-color":p}),n.value&&(a[o.cssVarBlockName("disabled-bg-color")]=r.dark?darken(u,90):u.tint(90).toString(),a[o.cssVarBlockName("disabled-text-color")]=r.dark?darken(u,50):u.tint(50).toString(),a[o.cssVarBlockName("disabled-border-color")]=r.dark?darken(u,80):u.tint(80).toString());else{const g=r.dark?darken(u,30):u.tint(30).toString(),d=u.isDark()?`var(${o.cssVarName("color-white")})`:`var(${o.cssVarName("color-black")})`;if(a=o.cssVarBlock({"bg-color":l,"text-color":d,"border-color":l,"hover-bg-color":g,"hover-text-color":d,"hover-border-color":g,"active-bg-color":p,"active-border-color":p}),n.value){const c=r.dark?darken(u,50):u.tint(50).toString();a[o.cssVarBlockName("disabled-bg-color")]=c,a[o.cssVarBlockName("disabled-text-color")]=r.dark?"rgba(255, 255, 255, 0.5)":`var(${o.cssVarName("color-white")})`,a[o.cssVarBlockName("disabled-border-color")]=c}}}return a})}const __default__$9=defineComponent({name:"ElButton"}),_sfc_main$n=defineComponent({...__default__$9,props:buttonProps,emits:buttonEmits,setup(r,{expose:n,emit:o}){const a=r,l=useButtonCustomStyle(a),f=useNamespace("button"),{_ref:u,_size:p,_type:g,_disabled:d,_props:c,shouldAddSpace:t,handleClick:e}=useButton(a,o),i=computed(()=>[f.b(),f.m(g.value),f.m(p.value),f.is("disabled",d.value),f.is("loading",a.loading),f.is("plain",a.plain),f.is("round",a.round),f.is("circle",a.circle),f.is("text",a.text),f.is("link",a.link),f.is("has-bg",a.bg)]);return n({ref:u,size:p,type:g,disabled:d,shouldAddSpace:t}),(s,m)=>(openBlock(),createBlock(resolveDynamicComponent(s.tag),mergeProps({ref_key:"_ref",ref:u},unref(c),{class:unref(i),style:unref(l),onClick:unref(e)}),{default:withCtx(()=>[s.loading?(openBlock(),createElementBlock(Fragment,{key:0},[s.$slots.loading?renderSlot(s.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(f).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(s.loadingIcon)))]),_:1},8,["class"]))],64)):s.icon||s.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[s.icon?(openBlock(),createBlock(resolveDynamicComponent(s.icon),{key:0})):renderSlot(s.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),s.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref(f).em("text","expand")]:unref(t)})},[renderSlot(s.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc(_sfc_main$n,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$8=defineComponent({name:"ElButtonGroup"}),_sfc_main$m=defineComponent({...__default__$8,props:buttonGroupProps,setup(r){const n=r;provide(buttonGroupContextKey,reactive({size:toRef(n,"size"),type:toRef(n,"type")}));const o=useNamespace("button");return(a,l)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(o).b("group"))},[renderSlot(a.$slots,"default")],2))}});var ButtonGroup=_export_sfc(_sfc_main$m,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup});withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(r){if(r.__esModule)return r;var n=r.default;if(typeof n=="function"){var o=function a(){return this instanceof a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(a){var l=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(o,a,l.get?l:{enumerable:!0,get:function(){return r[a]}})}),o}const nodeList=new Map;if(isClient){let r;document.addEventListener("mousedown",n=>r=n),document.addEventListener("mouseup",n=>{if(r){for(const o of nodeList.values())for(const{documentHandler:a}of o)a(n,r);r=void 0}})}function createDocumentHandler(r,n){let o=[];return Array.isArray(n.arg)?o=n.arg:isElement(n.arg)&&o.push(n.arg),function(a,l){const f=n.instance.popperRef,u=a.target,p=l==null?void 0:l.target,g=!n||!n.instance,d=!u||!p,c=r.contains(u)||r.contains(p),t=r===u,e=o.length&&o.some(s=>s==null?void 0:s.contains(u))||o.length&&o.includes(p),i=f&&(f.contains(u)||f.contains(p));g||d||c||t||e||i||n.value(a,l)}}const ClickOutside={beforeMount(r,n){nodeList.has(r)||nodeList.set(r,[]),nodeList.get(r).push({documentHandler:createDocumentHandler(r,n),bindingFn:n.value})},updated(r,n){nodeList.has(r)||nodeList.set(r,[]);const o=nodeList.get(r),a=o.findIndex(f=>f.bindingFn===n.oldValue),l={documentHandler:createDocumentHandler(r,n),bindingFn:n.value};a>=0?o.splice(a,1,l):o.push(l)},unmounted(r){nodeList.delete(r)}},REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(r,n){const o=n.value,{interval:a=REPEAT_INTERVAL,delay:l=REPEAT_DELAY}=isFunction$2(o)?{}:o;let f,u;const p=()=>isFunction$2(o)?o():o.handler(),g=()=>{u&&(clearTimeout(u),u=void 0),f&&(clearInterval(f),f=void 0)};r.addEventListener("mousedown",d=>{d.button===0&&(g(),p(),document.addEventListener("mouseup",()=>g(),{once:!0}),u=setTimeout(()=>{f=setInterval(()=>{p()},a)},l))})}},tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:r=>r instanceof MouseEvent,click:r=>r instanceof MouseEvent},__default__$7=defineComponent({name:"ElTag"}),_sfc_main$l=defineComponent({...__default__$7,props:tagProps,emits:tagEmits,setup(r,{emit:n}){const o=r,a=useFormSize(),l=useNamespace("tag"),f=computed(()=>{const{type:g,hit:d,effect:c,closable:t,round:e}=o;return[l.b(),l.is("closable",t),l.m(g||"primary"),l.m(a.value),l.m(c),l.is("hit",d),l.is("round",e)]}),u=g=>{n("close",g)},p=g=>{n("click",g)};return(g,d)=>g.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(f)),style:normalizeStyle({backgroundColor:g.color}),onClick:p},[createBaseVNode("span",{class:normalizeClass(unref(l).e("content"))},[renderSlot(g.$slots,"default")],2),g.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(l).e("close")),onClick:withModifiers(u,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(l).namespace.value}-zoom-in-center`,appear:""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref(f)),style:normalizeStyle({backgroundColor:g.color}),onClick:p},[createBaseVNode("span",{class:normalizeClass(unref(l).e("content"))},[renderSlot(g.$slots,"default")],2),g.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(l).e("close")),onClick:withModifiers(u,["stop"])},{default:withCtx(()=>[createVNode(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$l,[["__file","tag.vue"]]);const ElTag=withInstall(Tag),overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:r=>r instanceof MouseEvent},BLOCK="overlay";var Overlay=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(r,{slots:n,emit:o}){const a=useNamespace(BLOCK),l=g=>{o("click",g)},{onClick:f,onMousedown:u,onMouseup:p}=useSameTarget(r.customMaskEvent?void 0:l);return()=>r.mask?createVNode("div",{class:[a.b(),r.overlayClass],style:{zIndex:r.zIndex},onClick:f,onMousedown:u,onMouseup:p},[renderSlot(n,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h("div",{class:r.overlayClass,style:{zIndex:r.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(n,"default")])}});const ElOverlay=Overlay,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},__default__$6=defineComponent({name:"ElDialogContent"}),_sfc_main$k=defineComponent({...__default__$6,props:dialogContentProps,emits:dialogContentEmits,setup(r,{expose:n}){const o=r,{t:a}=useLocale(),{Close:l}=CloseComponents,{dialogRef:f,headerRef:u,bodyId:p,ns:g,style:d}=inject(dialogInjectionKey),{focusTrapRef:c}=inject(FOCUS_TRAP_INJECTION_KEY),t=computed(()=>[g.b(),g.is("fullscreen",o.fullscreen),g.is("draggable",o.draggable),g.is("align-center",o.alignCenter),{[g.m("center")]:o.center}]),e=composeRefs(c,f),i=computed(()=>o.draggable),s=computed(()=>o.overflow),{resetPosition:m}=useDraggable(f,u,i,s);return n({resetPosition:m}),(b,y)=>(openBlock(),createElementBlock("div",{ref:unref(e),class:normalizeClass(unref(t)),style:normalizeStyle(unref(d)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:u,class:normalizeClass([unref(g).e("header"),{"show-close":b.showClose}])},[renderSlot(b.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":b.ariaLevel,class:normalizeClass(unref(g).e("title"))},toDisplayString(b.title),11,["aria-level"])]),b.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(a)("el.dialog.close"),class:normalizeClass(unref(g).e("headerbtn")),type:"button",onClick:v=>b.$emit("close")},[createVNode(unref(ElIcon),{class:normalizeClass(unref(g).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(b.closeIcon||unref(l))))]),_:1},8,["class"])],10,["aria-label","onClick"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(p),class:normalizeClass(unref(g).e("body"))},[renderSlot(b.$slots,"default")],10,["id"]),b.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass(unref(g).e("footer"))},[renderSlot(b.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc(_sfc_main$k,[["__file","dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:definePropType([String,Object]),default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:r=>isBoolean$1(r),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useDialog=(r,n)=>{var o;const l=getCurrentInstance().emit,{nextZIndex:f}=useZIndex();let u="";const p=useId(),g=useId(),d=ref(!1),c=ref(!1),t=ref(!1),e=ref((o=r.zIndex)!=null?o:f());let i,s;const m=useGlobalConfig("namespace",defaultNamespace),b=computed(()=>{const z={},M=`--${m.value}-dialog`;return r.fullscreen||(r.top&&(z[`${M}-margin-top`]=r.top),r.width&&(z[`${M}-width`]=addUnit(r.width))),z}),y=computed(()=>r.alignCenter?{display:"flex"}:{});function v(){l("opened")}function w(){l("closed"),l(UPDATE_MODEL_EVENT,!1),r.destroyOnClose&&(t.value=!1)}function T(){l("close")}function _(){s==null||s(),i==null||i(),r.openDelay&&r.openDelay>0?{stop:i}=useTimeoutFn(()=>S(),r.openDelay):S()}function x(){i==null||i(),s==null||s(),r.closeDelay&&r.closeDelay>0?{stop:s}=useTimeoutFn(()=>k(),r.closeDelay):k()}function A(){function z(M){M||(c.value=!0,d.value=!1)}r.beforeClose?r.beforeClose(z):x()}function $(){r.closeOnClickModal&&A()}function S(){isClient&&(d.value=!0)}function k(){d.value=!1}function V(){l("openAutoFocus")}function oe(){l("closeAutoFocus")}function Y(z){var M;((M=z.detail)==null?void 0:M.focusReason)==="pointer"&&z.preventDefault()}r.lockScroll&&useLockscreen(d);function ie(){r.closeOnPressEscape&&A()}return watch(()=>r.modelValue,z=>{z?(c.value=!1,_(),t.value=!0,e.value=isUndefined$2(r.zIndex)?f():e.value++,nextTick(()=>{l("open"),n.value&&(n.value.scrollTop=0)})):d.value&&x()}),watch(()=>r.fullscreen,z=>{n.value&&(z?(u=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=u)}),onMounted(()=>{r.modelValue&&(d.value=!0,t.value=!0,_())}),{afterEnter:v,afterLeave:w,beforeLeave:T,handleClose:A,onModalClick:$,close:x,doClose:k,onOpenAutoFocus:V,onCloseAutoFocus:oe,onCloseRequested:ie,onFocusoutPrevented:Y,titleId:p,bodyId:g,closed:c,style:b,overlayDialogStyle:y,rendered:t,visible:d,zIndex:e}},__default__$5=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$j=defineComponent({...__default__$5,props:dialogProps,emits:dialogEmits,setup(r,{expose:n}){const o=r,a=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!a.title));const l=useNamespace("dialog"),f=ref(),u=ref(),p=ref(),{visible:g,titleId:d,bodyId:c,style:t,overlayDialogStyle:e,rendered:i,zIndex:s,afterEnter:m,afterLeave:b,beforeLeave:y,handleClose:v,onModalClick:w,onOpenAutoFocus:T,onCloseAutoFocus:_,onCloseRequested:x,onFocusoutPrevented:A}=useDialog(o,f);provide(dialogInjectionKey,{dialogRef:f,headerRef:u,bodyId:c,ns:l,rendered:i,style:t});const $=useSameTarget(w),S=computed(()=>o.draggable&&!o.fullscreen);return n({visible:g,dialogContentRef:p,resetPosition:()=>{var V;(V=p.value)==null||V.resetPosition()}}),(V,oe)=>(openBlock(),createBlock(unref(ElTeleport),{to:V.appendTo,disabled:V.appendTo!=="body"?!1:!V.appendToBody},{default:withCtx(()=>[createVNode(Transition,{name:"dialog-fade",onAfterEnter:unref(m),onAfterLeave:unref(b),onBeforeLeave:unref(y),persisted:""},{default:withCtx(()=>[withDirectives(createVNode(unref(ElOverlay),{"custom-mask-event":"",mask:V.modal,"overlay-class":V.modalClass,"z-index":unref(s)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":V.title||void 0,"aria-labelledby":V.title?void 0:unref(d),"aria-describedby":unref(c),class:normalizeClass(`${unref(l).namespace.value}-overlay-dialog`),style:normalizeStyle(unref(e)),onClick:unref($).onClick,onMousedown:unref($).onMousedown,onMouseup:unref($).onMouseup},[createVNode(unref(ElFocusTrap),{loop:"",trapped:unref(g),"focus-start-el":"container",onFocusAfterTrapped:unref(T),onFocusAfterReleased:unref(_),onFocusoutPrevented:unref(A),onReleaseRequested:unref(x)},{default:withCtx(()=>[unref(i)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:p},V.$attrs,{center:V.center,"align-center":V.alignCenter,"close-icon":V.closeIcon,draggable:unref(S),overflow:V.overflow,fullscreen:V.fullscreen,"show-close":V.showClose,title:V.title,"aria-level":V.headerAriaLevel,onClose:unref(v)}),createSlots({header:withCtx(()=>[V.$slots.title?renderSlot(V.$slots,"title",{key:1}):renderSlot(V.$slots,"header",{key:0,close:unref(v),titleId:unref(d),titleClass:unref(l).e("title")})]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:2},[V.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(V.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(g)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Dialog=_export_sfc(_sfc_main$j,[["__file","dialog.vue"]]);const ElDialog=withInstall(Dialog),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:r=>r===null||isNumber$1(r)||["min","max"].includes(r),default:null},name:String,placeholder:String,precision:{type:Number,validator:r=>r>=0&&r===Number.parseInt(`${r}`,10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),inputNumberEmits={[CHANGE_EVENT]:(r,n)=>n!==r,blur:r=>r instanceof FocusEvent,focus:r=>r instanceof FocusEvent,[INPUT_EVENT]:r=>isNumber$1(r)||isNil(r),[UPDATE_MODEL_EVENT]:r=>isNumber$1(r)||isNil(r)},__default__$4=defineComponent({name:"ElInputNumber"}),_sfc_main$i=defineComponent({...__default__$4,props:inputNumberProps,emits:inputNumberEmits,setup(r,{expose:n,emit:o}){const a=r,{t:l}=useLocale(),f=useNamespace("input-number"),u=ref(),p=reactive({currentValue:a.modelValue,userInput:null}),{formItem:g}=useFormItem(),d=computed(()=>isNumber$1(a.modelValue)&&a.modelValue<=a.min),c=computed(()=>isNumber$1(a.modelValue)&&a.modelValue>=a.max),t=computed(()=>{const z=y(a.step);return isUndefined$1(a.precision)?Math.max(y(a.modelValue),z):(z>a.precision,a.precision)}),e=computed(()=>a.controls&&a.controlsPosition==="right"),i=useFormSize(),s=useFormDisabled(),m=computed(()=>{if(p.userInput!==null)return p.userInput;let z=p.currentValue;if(isNil(z))return"";if(isNumber$1(z)){if(Number.isNaN(z))return"";isUndefined$1(a.precision)||(z=z.toFixed(a.precision))}return z}),b=(z,M)=>{if(isUndefined$1(M)&&(M=t.value),M===0)return Math.round(z);let re=String(z);const Ne=re.indexOf(".");if(Ne===-1||!re.replace(".","").split("")[Ne+M])return z;const Et=re.length;return re.charAt(Et-1)==="5"&&(re=`${re.slice(0,Math.max(0,Et-1))}6`),Number.parseFloat(Number(re).toFixed(M))},y=z=>{if(isNil(z))return 0;const M=z.toString(),re=M.indexOf(".");let Ne=0;return re!==-1&&(Ne=M.length-re-1),Ne},v=(z,M=1)=>isNumber$1(z)?b(z+a.step*M):p.currentValue,w=()=>{if(a.readonly||s.value||c.value)return;const z=Number(m.value)||0,M=v(z);x(M),o(INPUT_EVENT,p.currentValue),Y()},T=()=>{if(a.readonly||s.value||d.value)return;const z=Number(m.value)||0,M=v(z,-1);x(M),o(INPUT_EVENT,p.currentValue),Y()},_=(z,M)=>{const{max:re,min:Ne,step:pe,precision:Ve,stepStrictly:Et,valueOnClear:Fe}=a;re<Ne&&throwError("InputNumber","min should not be greater than max.");let Dt=Number(z);if(isNil(z)||Number.isNaN(Dt))return null;if(z===""){if(Fe===null)return null;Dt=isString$2(Fe)?{min:Ne,max:re}[Fe]:Fe}return Et&&(Dt=b(Math.round(Dt/pe)*pe,Ve)),isUndefined$1(Ve)||(Dt=b(Dt,Ve)),(Dt>re||Dt<Ne)&&(Dt=Dt>re?re:Ne,M&&o(UPDATE_MODEL_EVENT,Dt)),Dt},x=(z,M=!0)=>{var re;const Ne=p.currentValue,pe=_(z);if(!M){o(UPDATE_MODEL_EVENT,pe);return}Ne===pe&&z||(p.userInput=null,o(UPDATE_MODEL_EVENT,pe),Ne!==pe&&o(CHANGE_EVENT,pe,Ne),a.validateEvent&&((re=g==null?void 0:g.validate)==null||re.call(g,"change").catch(Ve=>void 0)),p.currentValue=pe)},A=z=>{p.userInput=z;const M=z===""?null:Number(z);o(INPUT_EVENT,M),x(M,!1)},$=z=>{const M=z!==""?Number(z):"";(isNumber$1(M)&&!Number.isNaN(M)||z==="")&&x(M),Y(),p.userInput=null},S=()=>{var z,M;(M=(z=u.value)==null?void 0:z.focus)==null||M.call(z)},k=()=>{var z,M;(M=(z=u.value)==null?void 0:z.blur)==null||M.call(z)},V=z=>{o("focus",z)},oe=z=>{var M;p.userInput=null,o("blur",z),a.validateEvent&&((M=g==null?void 0:g.validate)==null||M.call(g,"blur").catch(re=>void 0))},Y=()=>{p.currentValue!==a.modelValue&&(p.currentValue=a.modelValue)},ie=z=>{document.activeElement===z.target&&z.preventDefault()};return watch(()=>a.modelValue,(z,M)=>{const re=_(z,!0);p.userInput===null&&re!==M&&(p.currentValue=re)},{immediate:!0}),onMounted(()=>{var z;const{min:M,max:re,modelValue:Ne}=a,pe=(z=u.value)==null?void 0:z.input;if(pe.setAttribute("role","spinbutton"),Number.isFinite(re)?pe.setAttribute("aria-valuemax",String(re)):pe.removeAttribute("aria-valuemax"),Number.isFinite(M)?pe.setAttribute("aria-valuemin",String(M)):pe.removeAttribute("aria-valuemin"),pe.setAttribute("aria-valuenow",p.currentValue||p.currentValue===0?String(p.currentValue):""),pe.setAttribute("aria-disabled",String(s.value)),!isNumber$1(Ne)&&Ne!=null){let Ve=Number(Ne);Number.isNaN(Ve)&&(Ve=null),o(UPDATE_MODEL_EVENT,Ve)}pe.addEventListener("wheel",ie,{passive:!1})}),onUpdated(()=>{var z,M;const re=(z=u.value)==null?void 0:z.input;re==null||re.setAttribute("aria-valuenow",`${(M=p.currentValue)!=null?M:""}`)}),n({focus:S,blur:k}),(z,M)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(f).b(),unref(f).m(unref(i)),unref(f).is("disabled",unref(s)),unref(f).is("without-controls",!z.controls),unref(f).is("controls-right",unref(e))]),onDragstart:withModifiers(()=>{},["prevent"])},[z.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(l)("el.inputNumber.decrease"),class:normalizeClass([unref(f).e("decrease"),unref(f).is("disabled",unref(d))]),onKeydown:withKeys(T,["enter"])},[renderSlot(z.$slots,"decrease-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(e)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),T]]):createCommentVNode("v-if",!0),z.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(l)("el.inputNumber.increase"),class:normalizeClass([unref(f).e("increase"),unref(f).is("disabled",unref(c))]),onKeydown:withKeys(w,["enter"])},[renderSlot(z.$slots,"increase-icon",{},()=>[createVNode(unref(ElIcon),null,{default:withCtx(()=>[unref(e)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),w]]):createCommentVNode("v-if",!0),createVNode(unref(ElInput),{id:z.id,ref_key:"input",ref:u,type:"number",step:z.step,"model-value":unref(m),placeholder:z.placeholder,readonly:z.readonly,disabled:unref(s),size:unref(i),max:z.max,min:z.min,name:z.name,"aria-label":z.ariaLabel,"validate-event":!1,onKeydown:[withKeys(withModifiers(w,["prevent"]),["up"]),withKeys(withModifiers(T,["prevent"]),["down"])],onBlur:oe,onFocus:V,onInput:A,onChange:$},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var InputNumber=_export_sfc(_sfc_main$i,[["__file","input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(r,n){const o=inject(selectKey),a=inject(selectGroupKey,{disabled:!1}),l=computed(()=>c(castArray(o.props.modelValue),r.value)),f=computed(()=>{var i;if(o.props.multiple){const s=castArray((i=o.props.modelValue)!=null?i:[]);return!l.value&&s.length>=o.props.multipleLimit&&o.props.multipleLimit>0}else return!1}),u=computed(()=>r.label||(isObject$2(r.value)?"":r.value)),p=computed(()=>r.value||r.label||""),g=computed(()=>r.disabled||n.groupDisabled||f.value),d=getCurrentInstance(),c=(i=[],s)=>{if(isObject$2(r.value)){const m=o.props.valueKey;return i&&i.some(b=>toRaw(get(b,m))===get(s,m))}else return i&&i.includes(s)},t=()=>{!r.disabled&&!a.disabled&&(o.states.hoveringIndex=o.optionsArray.indexOf(d.proxy))},e=i=>{const s=new RegExp(escapeStringRegexp(i),"i");n.visible=s.test(u.value)||r.created};return watch(()=>u.value,()=>{!r.created&&!o.props.remote&&o.setSelected()}),watch(()=>r.value,(i,s)=>{const{remote:m,valueKey:b}=o.props;if(i!==s&&(o.onOptionDestroy(s,d.proxy),o.onOptionCreate(d.proxy)),!r.created&&!m){if(b&&isObject$2(i)&&isObject$2(s)&&i[b]===s[b])return;o.setSelected()}}),watch(()=>a.disabled,()=>{n.groupDisabled=a.disabled},{immediate:!0}),{select:o,currentLabel:u,currentValue:p,itemSelected:l,isDisabled:g,hoverItem:t,updateOption:e}}const _sfc_main$h=defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(r){const n=useNamespace("select"),o=useId(),a=computed(()=>[n.be("dropdown","item"),n.is("disabled",unref(p)),n.is("selected",unref(u)),n.is("hovering",unref(e))]),l=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:f,itemSelected:u,isDisabled:p,select:g,hoverItem:d,updateOption:c}=useOption(r,l),{visible:t,hover:e}=toRefs(l),i=getCurrentInstance().proxy;g.onOptionCreate(i),onBeforeUnmount(()=>{const m=i.value,{selected:b}=g.states,v=(g.props.multiple?b:[b]).some(w=>w.value===i.value);nextTick(()=>{g.states.cachedOptions.get(m)===i&&!v&&g.states.cachedOptions.delete(m)}),g.onOptionDestroy(m,i)});function s(){p.value||g.handleOptionSelect(i)}return{ns:n,id:o,containerKls:a,currentLabel:f,itemSelected:u,isDisabled:p,select:g,hoverItem:d,updateOption:c,visible:t,hover:e,selectOptionClick:s,states:l}}});function _sfc_render$3(r,n,o,a,l,f){return withDirectives((openBlock(),createElementBlock("li",{id:r.id,class:normalizeClass(r.containerKls),role:"option","aria-disabled":r.isDisabled||void 0,"aria-selected":r.itemSelected,onMouseenter:r.hoverItem,onClick:withModifiers(r.selectOptionClick,["stop"])},[renderSlot(r.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(r.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[vShow,r.visible]])}var Option=_export_sfc(_sfc_main$h,[["render",_sfc_render$3],["__file","option.vue"]]);const _sfc_main$g=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const r=inject(selectKey),n=useNamespace("select"),o=computed(()=>r.props.popperClass),a=computed(()=>r.props.multiple),l=computed(()=>r.props.fitInputWidth),f=ref("");function u(){var p;f.value=`${(p=r.selectRef)==null?void 0:p.offsetWidth}px`}return onMounted(()=>{u(),useResizeObserver(r.selectRef,u)}),{ns:n,minWidth:f,popperClass:o,isMultiple:a,isFitInputWidth:l}}});function _sfc_render$2(r,n,o,a,l,f){return openBlock(),createElementBlock("div",{class:normalizeClass([r.ns.b("dropdown"),r.ns.is("multiple",r.isMultiple),r.popperClass]),style:normalizeStyle({[r.isFitInputWidth?"width":"minWidth"]:r.minWidth})},[r.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.ns.be("dropdown","header"))},[renderSlot(r.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(r.$slots,"default"),r.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.ns.be("dropdown","footer"))},[renderSlot(r.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu=_export_sfc(_sfc_main$g,[["render",_sfc_render$2],["__file","select-dropdown.vue"]]);const MINIMUM_INPUT_WIDTH=11,useSelect=(r,n)=>{const{t:o}=useLocale(),a=useId(),l=useNamespace("select"),f=useNamespace("input"),u=reactive({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:r.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),p=ref(null),g=ref(null),d=ref(null),c=ref(null),t=ref(null),e=ref(null),i=ref(null),s=ref(null),m=ref(null),b=ref(null),y=ref(null),v=ref(null),{isComposing:w,handleCompositionStart:T,handleCompositionUpdate:_,handleCompositionEnd:x}=useComposition({afterComposition:Oe=>nr(Oe)}),{wrapperRef:A,isFocused:$,handleBlur:S}=useFocusController(t,{afterFocus(){r.automaticDropdown&&!k.value&&(k.value=!0,u.menuVisibleOnFocus=!0)},beforeBlur(Oe){var kt,D;return((kt=d.value)==null?void 0:kt.isFocusInsideContent(Oe))||((D=c.value)==null?void 0:D.isFocusInsideContent(Oe))},afterBlur(){k.value=!1,u.menuVisibleOnFocus=!1}}),k=ref(!1),V=ref(),{form:oe,formItem:Y}=useFormItem(),{inputId:ie}=useFormItemInputId(r,{formItemContext:Y}),{valueOnClear:z,isEmptyValue:M}=useEmptyValues(r),re=computed(()=>r.disabled||(oe==null?void 0:oe.disabled)),Ne=computed(()=>isArray$2(r.modelValue)?r.modelValue.length>0:!M(r.modelValue)),pe=computed(()=>r.clearable&&!re.value&&u.inputHovering&&Ne.value),Ve=computed(()=>r.remote&&r.filterable&&!r.remoteShowSuffix?"":r.suffixIcon),Et=computed(()=>l.is("reverse",Ve.value&&k.value)),Fe=computed(()=>(Y==null?void 0:Y.validateState)||""),Dt=computed(()=>ValidateComponentsMap[Fe.value]),_n=computed(()=>r.remote?300:0),At=computed(()=>r.loading?r.loadingText||o("el.select.loading"):r.remote&&!u.inputValue&&u.options.size===0?!1:r.filterable&&u.inputValue&&u.options.size>0&&Pn.value===0?r.noMatchText||o("el.select.noMatch"):u.options.size===0?r.noDataText||o("el.select.noData"):null),Pn=computed(()=>Ue.value.filter(Oe=>Oe.visible).length),Ue=computed(()=>{const Oe=Array.from(u.options.values()),kt=[];return u.optionValues.forEach(D=>{const j=Oe.findIndex(ue=>ue.value===D);j>-1&&kt.push(Oe[j])}),kt.length>=Oe.length?kt:Oe}),$n=computed(()=>Array.from(u.cachedOptions.values())),Jn=computed(()=>{const Oe=Ue.value.filter(kt=>!kt.created).some(kt=>kt.currentLabel===u.inputValue);return r.filterable&&r.allowCreate&&u.inputValue!==""&&!Oe}),Dn=()=>{r.filterable&&isFunction$2(r.filterMethod)||r.filterable&&r.remote&&isFunction$2(r.remoteMethod)||Ue.value.forEach(Oe=>{var kt;(kt=Oe.updateOption)==null||kt.call(Oe,u.inputValue)})},Nn=useFormSize(),Wn=computed(()=>["small"].includes(Nn.value)?"small":"default"),Un=computed({get(){return k.value&&At.value!==!1},set(Oe){k.value=Oe}}),Rn=computed(()=>{if(r.multiple&&!isUndefined$1(r.modelValue))return castArray(r.modelValue).length===0&&!u.inputValue;const Oe=isArray$2(r.modelValue)?r.modelValue[0]:r.modelValue;return r.filterable||isUndefined$1(Oe)?!u.inputValue:!0}),er=computed(()=>{var Oe;const kt=(Oe=r.placeholder)!=null?Oe:o("el.select.placeholder");return r.multiple||!Ne.value?kt:u.selectedLabel}),tr=computed(()=>isIOS?null:"mouseenter");watch(()=>r.modelValue,(Oe,kt)=>{r.multiple&&r.filterable&&!r.reserveKeyword&&(u.inputValue="",Zn("")),xn(),!isEqual(Oe,kt)&&r.validateEvent&&(Y==null||Y.validate("change").catch(D=>void 0))},{flush:"post",deep:!0}),watch(()=>k.value,Oe=>{Oe?Zn(u.inputValue):(u.inputValue="",u.previousQuery=null,u.isBeforeHide=!0),n("visible-change",Oe)}),watch(()=>u.options.entries(),()=>{var Oe;if(!isClient)return;const kt=((Oe=p.value)==null?void 0:Oe.querySelectorAll("input"))||[];(!r.filterable&&!r.defaultFirstOption&&!isUndefined$1(r.modelValue)||!Array.from(kt).includes(document.activeElement))&&xn(),r.defaultFirstOption&&(r.filterable||r.remote)&&Pn.value&&Tn()},{flush:"post"}),watch(()=>u.hoveringIndex,Oe=>{isNumber$1(Oe)&&Oe>-1?V.value=Ue.value[Oe]||{}:V.value={},Ue.value.forEach(kt=>{kt.hover=V.value===kt})}),watchEffect(()=>{u.isBeforeHide||Dn()});const Zn=Oe=>{u.previousQuery===Oe||w.value||(u.previousQuery=Oe,r.filterable&&isFunction$2(r.filterMethod)?r.filterMethod(Oe):r.filterable&&r.remote&&isFunction$2(r.remoteMethod)&&r.remoteMethod(Oe),r.defaultFirstOption&&(r.filterable||r.remote)&&Pn.value?nextTick(Tn):nextTick(vn))},Tn=()=>{const Oe=Ue.value.filter(j=>j.visible&&!j.disabled&&!j.states.groupDisabled),kt=Oe.find(j=>j.created),D=Oe[0];u.hoveringIndex=rr(Ue.value,kt||D)},xn=()=>{if(r.multiple)u.selectedLabel="";else{const kt=isArray$2(r.modelValue)?r.modelValue[0]:r.modelValue,D=Lt(kt);u.selectedLabel=D.currentLabel,u.selected=D;return}const Oe=[];isUndefined$1(r.modelValue)||castArray(r.modelValue).forEach(kt=>{Oe.push(Lt(kt))}),u.selected=Oe},Lt=Oe=>{let kt;const D=toRawType(Oe).toLowerCase()==="object",j=toRawType(Oe).toLowerCase()==="null",ue=toRawType(Oe).toLowerCase()==="undefined";for(let _e=u.cachedOptions.size-1;_e>=0;_e--){const qe=$n.value[_e];if(D?get(qe.value,r.valueKey)===get(Oe,r.valueKey):qe.value===Oe){kt={value:Oe,currentLabel:qe.currentLabel,get isDisabled(){return qe.isDisabled}};break}}if(kt)return kt;const le=D?Oe.label:!j&&!ue?Oe:"";return{value:Oe,currentLabel:le}},vn=()=>{r.multiple?u.hoveringIndex=Ue.value.findIndex(Oe=>u.selected.some(kt=>vr(kt)===vr(Oe))):u.hoveringIndex=Ue.value.findIndex(Oe=>vr(Oe)===vr(u.selected))},En=()=>{u.selectionWidth=g.value.getBoundingClientRect().width},Ln=()=>{u.calculatorWidth=e.value.getBoundingClientRect().width},Kn=()=>{u.collapseItemWidth=y.value.getBoundingClientRect().width},xe=()=>{var Oe,kt;(kt=(Oe=d.value)==null?void 0:Oe.updatePopper)==null||kt.call(Oe)},In=()=>{var Oe,kt;(kt=(Oe=c.value)==null?void 0:Oe.updatePopper)==null||kt.call(Oe)},Yn=()=>{u.inputValue.length>0&&!k.value&&(k.value=!0),Zn(u.inputValue)},nr=Oe=>{if(u.inputValue=Oe.target.value,r.remote)sr();else return Yn()},sr=debounce(()=>{Yn()},_n.value),cr=Oe=>{isEqual(r.modelValue,Oe)||n(CHANGE_EVENT,Oe)},gr=Oe=>findLastIndex(Oe,kt=>!u.disabledOptions.has(kt)),hn=Oe=>{if(r.multiple&&Oe.code!==EVENT_CODE.delete&&Oe.target.value.length<=0){const kt=castArray(r.modelValue).slice(),D=gr(kt);if(D<0)return;const j=kt[D];kt.splice(D,1),n(UPDATE_MODEL_EVENT,kt),cr(kt),n("remove-tag",j)}},On=(Oe,kt)=>{const D=u.selected.indexOf(kt);if(D>-1&&!re.value){const j=castArray(r.modelValue).slice();j.splice(D,1),n(UPDATE_MODEL_EVENT,j),cr(j),n("remove-tag",kt.value)}Oe.stopPropagation(),dr()},ze=Oe=>{Oe.stopPropagation();const kt=r.multiple?[]:z.value;if(r.multiple)for(const D of u.selected)D.isDisabled&&kt.push(D.value);n(UPDATE_MODEL_EVENT,kt),cr(kt),u.hoveringIndex=-1,k.value=!1,n("clear"),dr()},zn=Oe=>{var kt;if(r.multiple){const D=castArray((kt=r.modelValue)!=null?kt:[]).slice(),j=rr(D,Oe.value);j>-1?D.splice(j,1):(r.multipleLimit<=0||D.length<r.multipleLimit)&&D.push(Oe.value),n(UPDATE_MODEL_EVENT,D),cr(D),Oe.created&&Zn(""),r.filterable&&!r.reserveKeyword&&(u.inputValue="")}else n(UPDATE_MODEL_EVENT,Oe.value),cr(Oe.value),k.value=!1;dr(),!k.value&&nextTick(()=>{ur(Oe)})},rr=(Oe=[],kt)=>{if(!isObject$2(kt))return Oe.indexOf(kt);const D=r.valueKey;let j=-1;return Oe.some((ue,le)=>toRaw(get(ue,D))===get(kt,D)?(j=le,!0):!1),j},ur=Oe=>{var kt,D,j,ue,le;const he=isArray$2(Oe)?Oe[0]:Oe;let _e=null;if(he!=null&&he.value){const qe=Ue.value.filter(bn=>bn.value===he.value);qe.length>0&&(_e=qe[0].$el)}if(d.value&&_e){const qe=(ue=(j=(D=(kt=d.value)==null?void 0:kt.popperRef)==null?void 0:D.contentRef)==null?void 0:j.querySelector)==null?void 0:ue.call(j,`.${l.be("dropdown","wrap")}`);qe&&scrollIntoView(qe,_e)}(le=v.value)==null||le.handleScroll()},or=Oe=>{u.options.set(Oe.value,Oe),u.cachedOptions.set(Oe.value,Oe),Oe.disabled&&u.disabledOptions.set(Oe.value,Oe)},kn=(Oe,kt)=>{u.options.get(Oe)===kt&&u.options.delete(Oe)},lr=computed(()=>{var Oe,kt;return(kt=(Oe=d.value)==null?void 0:Oe.popperRef)==null?void 0:kt.contentRef}),pr=()=>{u.isBeforeHide=!1,nextTick(()=>ur(u.selected))},dr=()=>{var Oe;(Oe=t.value)==null||Oe.focus()},Sn=()=>{Cn()},An=Oe=>{ze(Oe)},Cn=Oe=>{if(k.value=!1,$.value){const kt=new FocusEvent("focus",Oe);nextTick(()=>S(kt))}},Er=()=>{u.inputValue.length>0?u.inputValue="":k.value=!1},_r=()=>{re.value||(isIOS&&(u.inputHovering=!0),u.menuVisibleOnFocus?u.menuVisibleOnFocus=!1:k.value=!k.value)},Ar=()=>{k.value?Ue.value[u.hoveringIndex]&&zn(Ue.value[u.hoveringIndex]):_r()},vr=Oe=>isObject$2(Oe.value)?get(Oe.value,r.valueKey):Oe.value,Or=computed(()=>Ue.value.filter(Oe=>Oe.visible).every(Oe=>Oe.disabled)),Cr=computed(()=>r.multiple?r.collapseTags?u.selected.slice(0,r.maxCollapseTags):u.selected:[]),Pr=computed(()=>r.multiple?r.collapseTags?u.selected.slice(r.maxCollapseTags):[]:[]),Sr=Oe=>{if(!k.value){k.value=!0;return}if(!(u.options.size===0||u.filteredOptionsCount===0||w.value)&&!Or.value){Oe==="next"?(u.hoveringIndex++,u.hoveringIndex===u.options.size&&(u.hoveringIndex=0)):Oe==="prev"&&(u.hoveringIndex--,u.hoveringIndex<0&&(u.hoveringIndex=u.options.size-1));const kt=Ue.value[u.hoveringIndex];(kt.disabled===!0||kt.states.groupDisabled===!0||!kt.visible)&&Sr(Oe),nextTick(()=>ur(V.value))}},Ir=()=>{if(!g.value)return 0;const Oe=window.getComputedStyle(g.value);return Number.parseFloat(Oe.gap||"6px")},$r=computed(()=>{const Oe=Ir();return{maxWidth:`${y.value&&r.maxCollapseTags===1?u.selectionWidth-u.collapseItemWidth-Oe:u.selectionWidth}px`}}),kr=computed(()=>({maxWidth:`${u.selectionWidth}px`})),Dr=computed(()=>({width:`${Math.max(u.calculatorWidth,MINIMUM_INPUT_WIDTH)}px`}));return useResizeObserver(g,En),useResizeObserver(e,Ln),useResizeObserver(m,xe),useResizeObserver(A,xe),useResizeObserver(b,In),useResizeObserver(y,Kn),onMounted(()=>{xn()}),{inputId:ie,contentId:a,nsSelect:l,nsInput:f,states:u,isFocused:$,expanded:k,optionsArray:Ue,hoverOption:V,selectSize:Nn,filteredOptionsCount:Pn,resetCalculatorWidth:Ln,updateTooltip:xe,updateTagTooltip:In,debouncedOnInputChange:sr,onInput:nr,deletePrevTag:hn,deleteTag:On,deleteSelected:ze,handleOptionSelect:zn,scrollToOption:ur,hasModelValue:Ne,shouldShowPlaceholder:Rn,currentPlaceholder:er,mouseEnterEventName:tr,showClose:pe,iconComponent:Ve,iconReverse:Et,validateState:Fe,validateIcon:Dt,showNewOption:Jn,updateOptions:Dn,collapseTagSize:Wn,setSelected:xn,selectDisabled:re,emptyText:At,handleCompositionStart:T,handleCompositionUpdate:_,handleCompositionEnd:x,onOptionCreate:or,onOptionDestroy:kn,handleMenuEnter:pr,focus:dr,blur:Sn,handleClearClick:An,handleClickOutside:Cn,handleEsc:Er,toggleMenu:_r,selectOption:Ar,getValueKey:vr,navigateOptions:Sr,dropdownMenuVisible:Un,showTagList:Cr,collapseTagList:Pr,tagStyle:$r,collapseTagStyle:kr,inputStyle:Dr,popperRef:lr,inputRef:t,tooltipRef:d,tagTooltipRef:c,calculatorRef:e,prefixRef:i,suffixRef:s,selectRef:p,wrapperRef:A,selectionRef:g,scrollbarRef:v,menuRef:m,tagMenuRef:b,collapseItemRef:y}};var ElOptions=defineComponent({name:"ElOptions",setup(r,{slots:n}){const o=inject(selectKey);let a=[];return()=>{var l,f;const u=(l=n.default)==null?void 0:l.call(n),p=[];function g(d){isArray$2(d)&&d.forEach(c=>{var t,e,i,s;const m=(t=(c==null?void 0:c.type)||{})==null?void 0:t.name;m==="ElOptionGroup"?g(!isString$2(c.children)&&!isArray$2(c.children)&&isFunction$2((e=c.children)==null?void 0:e.default)?(i=c.children)==null?void 0:i.default():c.children):m==="ElOption"?p.push((s=c.props)==null?void 0:s.value):isArray$2(c.children)&&g(c.children)})}return u.length&&g((f=u[0])==null?void 0:f.children),isEqual(p,a)||(a=p,o&&(o.states.optionValues=p)),u}}});const SelectProps=buildProps({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),COMPONENT_NAME$1="ElSelect",_sfc_main$f=defineComponent({name:COMPONENT_NAME$1,componentName:COMPONENT_NAME$1,components:{ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(r,{emit:n}){const o=useSelect(r,n);return provide(selectKey,reactive({props:r,states:o.states,optionsArray:o.optionsArray,handleOptionSelect:o.handleOptionSelect,onOptionCreate:o.onOptionCreate,onOptionDestroy:o.onOptionDestroy,selectRef:o.selectRef,setSelected:o.setSelected})),{...o}}});function _sfc_render$1(r,n,o,a,l,f){const u=resolveComponent("el-tag"),p=resolveComponent("el-tooltip"),g=resolveComponent("el-icon"),d=resolveComponent("el-option"),c=resolveComponent("el-options"),t=resolveComponent("el-scrollbar"),e=resolveComponent("el-select-menu"),i=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([r.nsSelect.b(),r.nsSelect.m(r.selectSize)]),[toHandlerKey(r.mouseEnterEventName)]:s=>r.states.inputHovering=!0,onMouseleave:s=>r.states.inputHovering=!1},[createVNode(p,{ref:"tooltipRef",visible:r.dropdownMenuVisible,placement:r.placement,teleported:r.teleported,"popper-class":[r.nsSelect.e("popper"),r.popperClass],"popper-options":r.popperOptions,"fallback-placements":r.fallbackPlacements,effect:r.effect,pure:"",trigger:"click",transition:`${r.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:r.persistent,onBeforeShow:r.handleMenuEnter,onHide:s=>r.states.isBeforeHide=!1},{default:withCtx(()=>{var s;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([r.nsSelect.e("wrapper"),r.nsSelect.is("focused",r.isFocused),r.nsSelect.is("hovering",r.states.inputHovering),r.nsSelect.is("filterable",r.filterable),r.nsSelect.is("disabled",r.selectDisabled)]),onClick:withModifiers(r.toggleMenu,["prevent"])},[r.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(r.nsSelect.e("prefix"))},[renderSlot(r.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([r.nsSelect.e("selection"),r.nsSelect.is("near",r.multiple&&!r.$slots.prefix&&!!r.states.selected.length)])},[r.multiple?renderSlot(r.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.showTagList,m=>(openBlock(),createElementBlock("div",{key:r.getValueKey(m),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode(u,{closable:!r.selectDisabled&&!m.isDisabled,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",style:normalizeStyle(r.tagStyle),onClose:b=>r.deleteTag(b,m)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:m.currentLabel,value:m.value},()=>[createTextVNode(toDisplayString(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),r.collapseTags&&r.states.selected.length>r.maxCollapseTags?(openBlock(),createBlock(p,{key:0,ref:"tagTooltipRef",disabled:r.dropdownMenuVisible||!r.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:r.effect,placement:"bottom",teleported:r.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode(u,{closable:!1,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",style:normalizeStyle(r.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))}," + "+toDisplayString(r.states.selected.length-r.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(r.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.collapseTagList,m=>(openBlock(),createElementBlock("div",{key:r.getValueKey(m),class:normalizeClass(r.nsSelect.e("selected-item"))},[createVNode(u,{class:"in-tooltip",closable:!r.selectDisabled&&!m.isDisabled,size:r.collapseTagSize,type:r.tagType,effect:r.tagEffect,"disable-transitions":"",onClose:b=>r.deleteTag(b,m)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(r.nsSelect.e("tags-text"))},[renderSlot(r.$slots,"label",{label:m.currentLabel,value:m.value},()=>[createTextVNode(toDisplayString(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),r.selectDisabled?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("input-wrapper"),r.nsSelect.is("hidden",!r.filterable)])},[withDirectives(createBaseVNode("input",{id:r.inputId,ref:"inputRef","onUpdate:modelValue":m=>r.states.inputValue=m,type:"text",name:r.name,class:normalizeClass([r.nsSelect.e("input"),r.nsSelect.is(r.selectSize)]),disabled:r.selectDisabled,autocomplete:r.autocomplete,style:normalizeStyle(r.inputStyle),role:"combobox",readonly:!r.filterable,spellcheck:"false","aria-activedescendant":((s=r.hoverOption)==null?void 0:s.id)||"","aria-controls":r.contentId,"aria-expanded":r.dropdownMenuVisible,"aria-label":r.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[withKeys(withModifiers(m=>r.navigateOptions("next"),["stop","prevent"]),["down"]),withKeys(withModifiers(m=>r.navigateOptions("prev"),["stop","prevent"]),["up"]),withKeys(withModifiers(r.handleEsc,["stop","prevent"]),["esc"]),withKeys(withModifiers(r.selectOption,["stop","prevent"]),["enter"]),withKeys(withModifiers(r.deletePrevTag,["stop"]),["delete"])],onCompositionstart:r.handleCompositionStart,onCompositionupdate:r.handleCompositionUpdate,onCompositionend:r.handleCompositionEnd,onInput:r.onInput,onClick:withModifiers(r.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[vModelText,r.states.inputValue]]),r.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(r.nsSelect.e("input-calculator")),textContent:toDisplayString(r.states.inputValue)},null,10,["textContent"])):createCommentVNode("v-if",!0)],2)),r.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass([r.nsSelect.e("selected-item"),r.nsSelect.e("placeholder"),r.nsSelect.is("transparent",!r.hasModelValue||r.expanded&&!r.states.inputValue)])},[r.hasModelValue?renderSlot(r.$slots,"label",{key:0,label:r.currentPlaceholder,value:r.modelValue},()=>[createBaseVNode("span",null,toDisplayString(r.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",{key:1},toDisplayString(r.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(r.nsSelect.e("suffix"))},[r.iconComponent&&!r.showClose?(openBlock(),createBlock(g,{key:0,class:normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),r.showClose&&r.clearIcon?(openBlock(),createBlock(g,{key:1,class:normalizeClass([r.nsSelect.e("caret"),r.nsSelect.e("icon"),r.nsSelect.e("clear")]),onClick:r.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),r.validateState&&r.validateIcon?(openBlock(),createBlock(g,{key:2,class:normalizeClass([r.nsInput.e("icon"),r.nsInput.e("validateIcon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(r.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],10,["onClick"])]}),content:withCtx(()=>[createVNode(e,{ref:"menuRef"},{default:withCtx(()=>[r.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(r.nsSelect.be("dropdown","header")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(r.$slots,"header")],10,["onClick"])):createCommentVNode("v-if",!0),withDirectives(createVNode(t,{id:r.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":r.nsSelect.be("dropdown","wrap"),"view-class":r.nsSelect.be("dropdown","list"),class:normalizeClass([r.nsSelect.is("empty",r.filteredOptionsCount===0)]),role:"listbox","aria-label":r.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[r.showNewOption?(openBlock(),createBlock(d,{key:0,value:r.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode(c,null,{default:withCtx(()=>[renderSlot(r.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vShow,r.states.options.size>0&&!r.loading]]),r.$slots.loading&&r.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(r.nsSelect.be("dropdown","loading"))},[renderSlot(r.$slots,"loading")],2)):r.loading||r.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(r.nsSelect.be("dropdown","empty"))},[renderSlot(r.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(r.emptyText),1)])],2)):createCommentVNode("v-if",!0),r.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(r.nsSelect.be("dropdown","footer")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(r.$slots,"footer")],10,["onClick"])):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow","onHide"])],16,["onMouseleave"])),[[i,r.handleClickOutside,r.popperRef]])}var Select=_export_sfc(_sfc_main$f,[["render",_sfc_render$1],["__file","select.vue"]]);const _sfc_main$e=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(r){const n=useNamespace("select"),o=ref(null),a=getCurrentInstance(),l=ref([]);provide(selectGroupKey,reactive({...toRefs(r)}));const f=computed(()=>l.value.some(d=>d.visible===!0)),u=d=>{var c,t;return((c=d.type)==null?void 0:c.name)==="ElOption"&&!!((t=d.component)!=null&&t.proxy)},p=d=>{const c=castArray(d),t=[];return c.forEach(e=>{var i,s;u(e)?t.push(e.component.proxy):(i=e.children)!=null&&i.length?t.push(...p(e.children)):(s=e.component)!=null&&s.subTree&&t.push(...p(e.component.subTree))}),t},g=()=>{l.value=p(a.subTree)};return onMounted(()=>{g()}),useMutationObserver(o,g,{attributes:!0,subtree:!0,childList:!0}),{groupRef:o,visible:f,ns:n}}});function _sfc_render(r,n,o,a,l,f){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(r.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(r.ns.be("group","title"))},toDisplayString(r.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(r.ns.b("group"))},[renderSlot(r.$slots,"default")],2)])],2)),[[vShow,r.visible]])}var OptionGroup=_export_sfc(_sfc_main$e,[["render",_sfc_render],["__file","option-group.vue"]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue=r=>isNumber$1(r)||isArray$2(r)&&r.every(isNumber$1),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue,[INPUT_EVENT]:isValidValue,[CHANGE_EVENT]:isValidValue},useLifecycle=(r,n,o)=>{const a=ref();return onMounted(async()=>{r.range?(Array.isArray(r.modelValue)?(n.firstValue=Math.max(r.min,r.modelValue[0]),n.secondValue=Math.min(r.max,r.modelValue[1])):(n.firstValue=r.min,n.secondValue=r.max),n.oldValue=[n.firstValue,n.secondValue]):(typeof r.modelValue!="number"||Number.isNaN(r.modelValue)?n.firstValue=r.min:n.firstValue=Math.min(r.max,Math.max(r.min,r.modelValue)),n.oldValue=n.firstValue),useEventListener(window,"resize",o),await nextTick(),o()}),{sliderWrapper:a}},useMarks=r=>computed(()=>r.marks?Object.keys(r.marks).map(Number.parseFloat).sort((o,a)=>o-a).filter(o=>o<=r.max&&o>=r.min).map(o=>({point:o,position:(o-r.min)*100/(r.max-r.min),mark:r.marks[o]})):[]),useSlide=(r,n,o)=>{const{form:a,formItem:l}=useFormItem(),f=shallowRef(),u=ref(),p=ref(),g={firstButton:u,secondButton:p},d=computed(()=>r.disabled||(a==null?void 0:a.disabled)||!1),c=computed(()=>Math.min(n.firstValue,n.secondValue)),t=computed(()=>Math.max(n.firstValue,n.secondValue)),e=computed(()=>r.range?`${100*(t.value-c.value)/(r.max-r.min)}%`:`${100*(n.firstValue-r.min)/(r.max-r.min)}%`),i=computed(()=>r.range?`${100*(c.value-r.min)/(r.max-r.min)}%`:"0%"),s=computed(()=>r.vertical?{height:r.height}:{}),m=computed(()=>r.vertical?{height:e.value,bottom:i.value}:{width:e.value,left:i.value}),b=()=>{f.value&&(n.sliderSize=f.value[`client${r.vertical?"Height":"Width"}`])},y=oe=>{const Y=r.min+oe*(r.max-r.min)/100;if(!r.range)return u;let ie;return Math.abs(c.value-Y)<Math.abs(t.value-Y)?ie=n.firstValue<n.secondValue?"firstButton":"secondButton":ie=n.firstValue>n.secondValue?"firstButton":"secondButton",g[ie]},v=oe=>{const Y=y(oe);return Y.value.setPosition(oe),Y},w=oe=>{n.firstValue=oe??r.min,_(r.range?[c.value,t.value]:oe??r.min)},T=oe=>{n.secondValue=oe,r.range&&_([c.value,t.value])},_=oe=>{o(UPDATE_MODEL_EVENT,oe),o(INPUT_EVENT,oe)},x=async()=>{await nextTick(),o(CHANGE_EVENT,r.range?[c.value,t.value]:r.modelValue)},A=oe=>{var Y,ie,z,M,re,Ne;if(d.value||n.dragging)return;b();let pe=0;if(r.vertical){const Ve=(z=(ie=(Y=oe.touches)==null?void 0:Y.item(0))==null?void 0:ie.clientY)!=null?z:oe.clientY;pe=(f.value.getBoundingClientRect().bottom-Ve)/n.sliderSize*100}else{const Ve=(Ne=(re=(M=oe.touches)==null?void 0:M.item(0))==null?void 0:re.clientX)!=null?Ne:oe.clientX,Et=f.value.getBoundingClientRect().left;pe=(Ve-Et)/n.sliderSize*100}if(!(pe<0||pe>100))return v(pe)};return{elFormItem:l,slider:f,firstButton:u,secondButton:p,sliderDisabled:d,minValue:c,maxValue:t,runwayStyle:s,barStyle:m,resetSize:b,setPosition:v,emitChange:x,onSliderWrapperPrevent:oe=>{var Y,ie;((Y=g.firstButton.value)!=null&&Y.dragging||(ie=g.secondButton.value)!=null&&ie.dragging)&&oe.preventDefault()},onSliderClick:oe=>{A(oe)&&x()},onSliderDown:async oe=>{const Y=A(oe);Y&&(await nextTick(),Y.value.onButtonDown(oe))},onSliderMarkerDown:oe=>{d.value||n.dragging||v(oe)},setFirstValue:w,setSecondValue:T}},{left,down,right,up,home,end,pageUp,pageDown}=EVENT_CODE,useTooltip=(r,n,o)=>{const a=ref(),l=ref(!1),f=computed(()=>n.value instanceof Function),u=computed(()=>f.value&&n.value(r.modelValue)||r.modelValue),p=debounce(()=>{o.value&&(l.value=!0)},50),g=debounce(()=>{o.value&&(l.value=!1)},50);return{tooltip:a,tooltipVisible:l,formatValue:u,displayTooltip:p,hideTooltip:g}},useSliderButton=(r,n,o)=>{const{disabled:a,min:l,max:f,step:u,showTooltip:p,precision:g,sliderSize:d,formatTooltip:c,emitChange:t,resetSize:e,updateDragging:i}=inject(sliderContextKey),{tooltip:s,tooltipVisible:m,formatValue:b,displayTooltip:y,hideTooltip:v}=useTooltip(r,c,p),w=ref(),T=computed(()=>`${(r.modelValue-l.value)/(f.value-l.value)*100}%`),_=computed(()=>r.vertical?{bottom:T.value}:{left:T.value}),x=()=>{n.hovering=!0,y()},A=()=>{n.hovering=!1,n.dragging||v()},$=Fe=>{a.value||(Fe.preventDefault(),Ne(Fe),window.addEventListener("mousemove",pe),window.addEventListener("touchmove",pe),window.addEventListener("mouseup",Ve),window.addEventListener("touchend",Ve),window.addEventListener("contextmenu",Ve),w.value.focus())},S=Fe=>{a.value||(n.newPosition=Number.parseFloat(T.value)+Fe/(f.value-l.value)*100,Et(n.newPosition),t())},k=()=>{S(-u.value)},V=()=>{S(u.value)},oe=()=>{S(-u.value*4)},Y=()=>{S(u.value*4)},ie=()=>{a.value||(Et(0),t())},z=()=>{a.value||(Et(100),t())},M=Fe=>{let Dt=!0;[left,down].includes(Fe.key)?k():[right,up].includes(Fe.key)?V():Fe.key===home?ie():Fe.key===end?z():Fe.key===pageDown?oe():Fe.key===pageUp?Y():Dt=!1,Dt&&Fe.preventDefault()},re=Fe=>{let Dt,_n;return Fe.type.startsWith("touch")?(_n=Fe.touches[0].clientY,Dt=Fe.touches[0].clientX):(_n=Fe.clientY,Dt=Fe.clientX),{clientX:Dt,clientY:_n}},Ne=Fe=>{n.dragging=!0,n.isClick=!0;const{clientX:Dt,clientY:_n}=re(Fe);r.vertical?n.startY=_n:n.startX=Dt,n.startPosition=Number.parseFloat(T.value),n.newPosition=n.startPosition},pe=Fe=>{if(n.dragging){n.isClick=!1,y(),e();let Dt;const{clientX:_n,clientY:At}=re(Fe);r.vertical?(n.currentY=At,Dt=(n.startY-n.currentY)/d.value*100):(n.currentX=_n,Dt=(n.currentX-n.startX)/d.value*100),n.newPosition=n.startPosition+Dt,Et(n.newPosition)}},Ve=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||v(),n.isClick||Et(n.newPosition),t()},0),window.removeEventListener("mousemove",pe),window.removeEventListener("touchmove",pe),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),window.removeEventListener("contextmenu",Ve))},Et=async Fe=>{if(Fe===null||Number.isNaN(+Fe))return;Fe<0?Fe=0:Fe>100&&(Fe=100);const Dt=100/((f.value-l.value)/u.value);let At=Math.round(Fe/Dt)*Dt*(f.value-l.value)*.01+l.value;At=Number.parseFloat(At.toFixed(g.value)),At!==r.modelValue&&o(UPDATE_MODEL_EVENT,At),!n.dragging&&r.modelValue!==n.oldValue&&(n.oldValue=r.modelValue),await nextTick(),n.dragging&&y(),s.value.updatePopper()};return watch(()=>n.dragging,Fe=>{i(Fe)}),useEventListener(w,"touchstart",$,{passive:!1}),{disabled:a,button:w,tooltip:s,tooltipVisible:m,showTooltip:p,wrapperStyle:_,formatValue:b,handleMouseEnter:x,handleMouseLeave:A,onButtonDown:$,onKeyDown:M,setPosition:Et}},useStops=(r,n,o,a)=>({stops:computed(()=>{if(!r.showStops||r.min>r.max)return[];if(r.step===0)return[];const u=(r.max-r.min)/r.step,p=100*r.step/(r.max-r.min),g=Array.from({length:u-1}).map((d,c)=>(c+1)*p);return r.range?g.filter(d=>d<100*(o.value-r.min)/(r.max-r.min)||d>100*(a.value-r.min)/(r.max-r.min)):g.filter(d=>d>100*(n.firstValue-r.min)/(r.max-r.min))}),getStopStyle:u=>r.vertical?{bottom:`${u}%`}:{left:`${u}%`}}),useWatch=(r,n,o,a,l,f)=>{const u=d=>{l(UPDATE_MODEL_EVENT,d),l(INPUT_EVENT,d)},p=()=>r.range?![o.value,a.value].every((d,c)=>d===n.oldValue[c]):r.modelValue!==n.oldValue,g=()=>{var d,c;r.min>r.max&&throwError("Slider","min should not be greater than max.");const t=r.modelValue;r.range&&Array.isArray(t)?t[1]<r.min?u([r.min,r.min]):t[0]>r.max?u([r.max,r.max]):t[0]<r.min?u([r.min,t[1]]):t[1]>r.max?u([t[0],r.max]):(n.firstValue=t[0],n.secondValue=t[1],p()&&(r.validateEvent&&((d=f==null?void 0:f.validate)==null||d.call(f,"change").catch(e=>void 0)),n.oldValue=t.slice())):!r.range&&typeof t=="number"&&!Number.isNaN(t)&&(t<r.min?u(r.min):t>r.max?u(r.max):(n.firstValue=t,p()&&(r.validateEvent&&((c=f==null?void 0:f.validate)==null||c.call(f,"change").catch(e=>void 0)),n.oldValue=t)))};g(),watch(()=>n.dragging,d=>{d||g()}),watch(()=>r.modelValue,(d,c)=>{n.dragging||Array.isArray(d)&&Array.isArray(c)&&d.every((t,e)=>t===c[e])&&n.firstValue===d[0]&&n.secondValue===d[1]||g()},{deep:!0}),watch(()=>[r.min,r.max],()=>{g()})},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:r=>isNumber$1(r)},__default__$3=defineComponent({name:"ElSliderButton"}),_sfc_main$d=defineComponent({...__default__$3,props:sliderButtonProps,emits:sliderButtonEmits,setup(r,{expose:n,emit:o}){const a=r,l=useNamespace("slider"),f=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:a.modelValue}),{disabled:u,button:p,tooltip:g,showTooltip:d,tooltipVisible:c,wrapperStyle:t,formatValue:e,handleMouseEnter:i,handleMouseLeave:s,onButtonDown:m,onKeyDown:b,setPosition:y}=useSliderButton(a,f,o),{hovering:v,dragging:w}=toRefs(f);return n({onButtonDown:m,onKeyDown:b,setPosition:y,hovering:v,dragging:w}),(T,_)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:p,class:normalizeClass([unref(l).e("button-wrapper"),{hover:unref(v),dragging:unref(w)}]),style:normalizeStyle(unref(t)),tabindex:unref(u)?-1:0,onMouseenter:unref(i),onMouseleave:unref(s),onMousedown:unref(m),onFocus:unref(i),onBlur:unref(s),onKeydown:unref(b)},[createVNode(unref(ElTooltip),{ref_key:"tooltip",ref:g,visible:unref(c),placement:T.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":T.tooltipClass,disabled:!unref(d),persistent:""},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(e)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(l).e("button"),{hover:unref(v),dragging:unref(w)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var SliderButton=_export_sfc(_sfc_main$d,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(r){const n=useNamespace("slider"),o=computed(()=>isString$2(r.mark)?r.mark:r.mark.label),a=computed(()=>isString$2(r.mark)?void 0:r.mark.style);return()=>h("div",{class:n.e("marks-text"),style:a.value},o.value)}});const __default__$2=defineComponent({name:"ElSlider"}),_sfc_main$c=defineComponent({...__default__$2,props:sliderProps,emits:sliderEmits,setup(r,{expose:n,emit:o}){const a=r,l=useNamespace("slider"),{t:f}=useLocale(),u=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:p,slider:g,firstButton:d,secondButton:c,sliderDisabled:t,minValue:e,maxValue:i,runwayStyle:s,barStyle:m,resetSize:b,emitChange:y,onSliderWrapperPrevent:v,onSliderClick:w,onSliderDown:T,onSliderMarkerDown:_,setFirstValue:x,setSecondValue:A}=useSlide(a,u,o),{stops:$,getStopStyle:S}=useStops(a,u,e,i),{inputId:k,isLabeledByFormItem:V}=useFormItemInputId(a,{formItemContext:p}),oe=useFormSize(),Y=computed(()=>a.inputSize||oe.value),ie=computed(()=>a.ariaLabel||f("el.slider.defaultLabel",{min:a.min,max:a.max})),z=computed(()=>a.range?a.rangeStartLabel||f("el.slider.defaultRangeStartLabel"):ie.value),M=computed(()=>a.formatValueText?a.formatValueText(Dt.value):`${Dt.value}`),re=computed(()=>a.rangeEndLabel||f("el.slider.defaultRangeEndLabel")),Ne=computed(()=>a.formatValueText?a.formatValueText(_n.value):`${_n.value}`),pe=computed(()=>[l.b(),l.m(oe.value),l.is("vertical",a.vertical),{[l.m("with-input")]:a.showInput}]),Ve=useMarks(a);useWatch(a,u,e,i,o,p);const Et=computed(()=>{const Ue=[a.min,a.max,a.step].map($n=>{const Jn=`${$n}`.split(".")[1];return Jn?Jn.length:0});return Math.max.apply(null,Ue)}),{sliderWrapper:Fe}=useLifecycle(a,u,b),{firstValue:Dt,secondValue:_n,sliderSize:At}=toRefs(u),Pn=Ue=>{u.dragging=Ue};return useEventListener(Fe,"touchstart",v,{passive:!1}),useEventListener(Fe,"touchmove",v,{passive:!1}),provide(sliderContextKey,{...toRefs(a),sliderSize:At,disabled:t,precision:Et,emitChange:y,resetSize:b,updateDragging:Pn}),n({onSliderClick:w}),(Ue,$n)=>{var Jn,Dn;return openBlock(),createElementBlock("div",{id:Ue.range?unref(k):void 0,ref_key:"sliderWrapper",ref:Fe,class:normalizeClass(unref(pe)),role:Ue.range?"group":void 0,"aria-label":Ue.range&&!unref(V)?unref(ie):void 0,"aria-labelledby":Ue.range&&unref(V)?(Jn=unref(p))==null?void 0:Jn.labelId:void 0},[createBaseVNode("div",{ref_key:"slider",ref:g,class:normalizeClass([unref(l).e("runway"),{"show-input":Ue.showInput&&!Ue.range},unref(l).is("disabled",unref(t))]),style:normalizeStyle(unref(s)),onMousedown:unref(T),onTouchstartPassive:unref(T)},[createBaseVNode("div",{class:normalizeClass(unref(l).e("bar")),style:normalizeStyle(unref(m))},null,6),createVNode(SliderButton,{id:Ue.range?void 0:unref(k),ref_key:"firstButton",ref:d,"model-value":unref(Dt),vertical:Ue.vertical,"tooltip-class":Ue.tooltipClass,placement:Ue.placement,role:"slider","aria-label":Ue.range||!unref(V)?unref(z):void 0,"aria-labelledby":!Ue.range&&unref(V)?(Dn=unref(p))==null?void 0:Dn.labelId:void 0,"aria-valuemin":Ue.min,"aria-valuemax":Ue.range?unref(_n):Ue.max,"aria-valuenow":unref(Dt),"aria-valuetext":unref(M),"aria-orientation":Ue.vertical?"vertical":"horizontal","aria-disabled":unref(t),"onUpdate:modelValue":unref(x)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),Ue.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:c,"model-value":unref(_n),vertical:Ue.vertical,"tooltip-class":Ue.tooltipClass,placement:Ue.placement,role:"slider","aria-label":unref(re),"aria-valuemin":unref(Dt),"aria-valuemax":Ue.max,"aria-valuenow":unref(_n),"aria-valuetext":unref(Ne),"aria-orientation":Ue.vertical?"vertical":"horizontal","aria-disabled":unref(t),"onUpdate:modelValue":unref(A)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),Ue.showStops?(openBlock(),createElementBlock("div",{key:1},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(Nn,Wn)=>(openBlock(),createElementBlock("div",{key:Wn,class:normalizeClass(unref(l).e("stop")),style:normalizeStyle(unref(S)(Nn))},null,6))),128))])):createCommentVNode("v-if",!0),unref(Ve).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ve),(Nn,Wn)=>(openBlock(),createElementBlock("div",{key:Wn,style:normalizeStyle(unref(S)(Nn.position)),class:normalizeClass([unref(l).e("stop"),unref(l).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(l).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Ve),(Nn,Wn)=>(openBlock(),createBlock(unref(SliderMarker),{key:Wn,mark:Nn.mark,style:normalizeStyle(unref(S)(Nn.position)),onMousedown:withModifiers(Un=>unref(_)(Nn.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):createCommentVNode("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),Ue.showInput&&!Ue.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(Dt),class:normalizeClass(unref(l).e("input")),step:Ue.step,disabled:unref(t),controls:Ue.showInputControls,min:Ue.min,max:Ue.max,precision:unref(Et),debounce:Ue.debounce,size:unref(Y),"onUpdate:modelValue":unref(x),onChange:unref(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Slider=_export_sfc(_sfc_main$c,[["__file","slider.vue"]]);const ElSlider=withInstall(Slider),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:r=>isBoolean$1(r)||isString$2(r)||isNumber$1(r),[CHANGE_EVENT]:r=>isBoolean$1(r)||isString$2(r)||isNumber$1(r),[INPUT_EVENT]:r=>isBoolean$1(r)||isString$2(r)||isNumber$1(r)},COMPONENT_NAME="ElSwitch",__default__$1=defineComponent({name:COMPONENT_NAME}),_sfc_main$b=defineComponent({...__default__$1,props:switchProps,emits:switchEmits,setup(r,{expose:n,emit:o}){const a=r,{formItem:l}=useFormItem(),f=useFormSize(),u=useNamespace("switch"),{inputId:p}=useFormItemInputId(a,{formItemContext:l}),g=useFormDisabled(computed(()=>a.loading)),d=ref(a.modelValue!==!1),c=ref(),t=ref(),e=computed(()=>[u.b(),u.m(f.value),u.is("disabled",g.value),u.is("checked",y.value)]),i=computed(()=>[u.e("label"),u.em("label","left"),u.is("active",!y.value)]),s=computed(()=>[u.e("label"),u.em("label","right"),u.is("active",y.value)]),m=computed(()=>({width:addUnit(a.width)}));watch(()=>a.modelValue,()=>{d.value=!0});const b=computed(()=>d.value?a.modelValue:!1),y=computed(()=>b.value===a.activeValue);[a.activeValue,a.inactiveValue].includes(b.value)||(o(UPDATE_MODEL_EVENT,a.inactiveValue),o(CHANGE_EVENT,a.inactiveValue),o(INPUT_EVENT,a.inactiveValue)),watch(y,_=>{var x;c.value.checked=_,a.validateEvent&&((x=l==null?void 0:l.validate)==null||x.call(l,"change").catch(A=>void 0))});const v=()=>{const _=y.value?a.inactiveValue:a.activeValue;o(UPDATE_MODEL_EVENT,_),o(CHANGE_EVENT,_),o(INPUT_EVENT,_),nextTick(()=>{c.value.checked=y.value})},w=()=>{if(g.value)return;const{beforeChange:_}=a;if(!_){v();return}const x=_();[isPromise(x),isBoolean$1(x)].includes(!0)||throwError(COMPONENT_NAME,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(x)?x.then($=>{$&&v()}).catch($=>{}):x&&v()},T=()=>{var _,x;(x=(_=c.value)==null?void 0:_.focus)==null||x.call(_)};return onMounted(()=>{c.value.checked=y.value}),n({focus:T,checked:y}),(_,x)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(e)),onClick:withModifiers(w,["prevent"])},[createBaseVNode("input",{id:unref(p),ref_key:"input",ref:c,class:normalizeClass(unref(u).e("input")),type:"checkbox",role:"switch","aria-checked":unref(y),"aria-disabled":unref(g),"aria-label":_.ariaLabel,name:_.name,"true-value":_.activeValue,"false-value":_.inactiveValue,disabled:unref(g),tabindex:_.tabindex,onChange:v,onKeydown:withKeys(w,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!_.inlinePrompt&&(_.inactiveIcon||_.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(i))},[_.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!_.inactiveIcon&&_.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(y)},toDisplayString(_.inactiveText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:t,class:normalizeClass(unref(u).e("core")),style:normalizeStyle(unref(m))},[_.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(u).e("inner"))},[_.activeIcon||_.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(u).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(y)?_.activeIcon:_.inactiveIcon)))]),_:1},8,["class"])):_.activeText||_.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(u).is("text")),"aria-hidden":!unref(y)},toDisplayString(unref(y)?_.activeText:_.inactiveText),11,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(u).e("action"))},[_.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(u).is("loading"))},{default:withCtx(()=>[createVNode(unref(loading_default))]),_:1},8,["class"])):unref(y)?renderSlot(_.$slots,"active-action",{key:1},()=>[_.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(y)?createCommentVNode("v-if",!0):renderSlot(_.$slots,"inactive-action",{key:2},()=>[_.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!_.inlinePrompt&&(_.activeIcon||_.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(s))},[_.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(_.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!_.activeIcon&&_.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(y)},toDisplayString(_.activeText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,["onClick"]))}});var Switch=_export_sfc(_sfc_main$b,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch);function createLoadingComponent(r){let n;const o=ref(!1),a=reactive({...r,originalPosition:"",originalOverflow:"",visible:!1});function l(e){a.text=e}function f(){const e=a.parent,i=t.ns;if(!e.vLoadingAddClassList){let s=e.getAttribute("loading-number");s=Number.parseInt(s)-1,s?e.setAttribute("loading-number",s.toString()):(removeClass(e,i.bm("parent","relative")),e.removeAttribute("loading-number")),removeClass(e,i.bm("parent","hidden"))}u(),c.unmount()}function u(){var e,i;(i=(e=t.$el)==null?void 0:e.parentNode)==null||i.removeChild(t.$el)}function p(){var e;r.beforeClose&&!r.beforeClose()||(o.value=!0,clearTimeout(n),n=setTimeout(g,400),a.visible=!1,(e=r.closed)==null||e.call(r))}function g(){if(!o.value)return;const e=a.parent;o.value=!1,e.vLoadingAddClassList=void 0,f()}const d=defineComponent({name:"ElLoading",setup(e,{expose:i}){const{ns:s,zIndex:m}=useGlobalComponentSettings("loading");return i({ns:s,zIndex:m}),()=>{const b=a.spinner||a.svg,y=h("svg",{class:"circular",viewBox:a.svgViewBox?a.svgViewBox:"0 0 50 50",...b?{innerHTML:b}:{}},[h("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),v=a.text?h("p",{class:s.b("text")},[a.text]):void 0;return h(Transition,{name:s.b("fade"),onAfterLeave:g},{default:withCtx(()=>[withDirectives(createVNode("div",{style:{backgroundColor:a.background||""},class:[s.b("mask"),a.customClass,a.fullscreen?"is-fullscreen":""]},[h("div",{class:s.b("spinner")},[y,v])]),[[vShow,a.visible]])])})}}}),c=createApp(d),t=c.mount(document.createElement("div"));return{...toRefs(a),setText:l,removeElLoadingChild:u,close:p,handleAfterLeave:g,vm:t,get $el(){return t.$el}}}let fullscreenInstance;const Loading=function(r={}){if(!isClient)return;const n=resolveOptions(r);if(n.fullscreen&&fullscreenInstance)return fullscreenInstance;const o=createLoadingComponent({...n,closed:()=>{var l;(l=n.closed)==null||l.call(n),n.fullscreen&&(fullscreenInstance=void 0)}});addStyle(n,n.parent,o),addClassList(n,n.parent,o),n.parent.vLoadingAddClassList=()=>addClassList(n,n.parent,o);let a=n.parent.getAttribute("loading-number");return a?a=`${Number.parseInt(a)+1}`:a="1",n.parent.setAttribute("loading-number",a),n.parent.appendChild(o.$el),nextTick(()=>o.visible.value=n.visible),n.fullscreen&&(fullscreenInstance=o),o},resolveOptions=r=>{var n,o,a,l;let f;return isString$2(r.target)?f=(n=document.querySelector(r.target))!=null?n:document.body:f=r.target||document.body,{parent:f===document.body||r.body?document.body:f,background:r.background||"",svg:r.svg||"",svgViewBox:r.svgViewBox||"",spinner:r.spinner||!1,text:r.text||"",fullscreen:f===document.body&&((o=r.fullscreen)!=null?o:!0),lock:(a=r.lock)!=null?a:!1,customClass:r.customClass||"",visible:(l=r.visible)!=null?l:!0,beforeClose:r.beforeClose,closed:r.closed,target:f}},addStyle=async(r,n,o)=>{const{nextZIndex:a}=o.vm.zIndex||o.vm._.exposed.zIndex,l={};if(r.fullscreen)o.originalPosition.value=getStyle(document.body,"position"),o.originalOverflow.value=getStyle(document.body,"overflow"),l.zIndex=a();else if(r.parent===document.body){o.originalPosition.value=getStyle(document.body,"position"),await nextTick();for(const f of["top","left"]){const u=f==="top"?"scrollTop":"scrollLeft";l[f]=`${r.target.getBoundingClientRect()[f]+document.body[u]+document.documentElement[u]-Number.parseInt(getStyle(document.body,`margin-${f}`),10)}px`}for(const f of["height","width"])l[f]=`${r.target.getBoundingClientRect()[f]}px`}else o.originalPosition.value=getStyle(n,"position");for(const[f,u]of Object.entries(l))o.$el.style[f]=u},addClassList=(r,n,o)=>{const a=o.vm.ns||o.vm._.exposed.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?removeClass(n,a.bm("parent","relative")):addClass(n,a.bm("parent","relative")),r.fullscreen&&r.lock?addClass(n,a.bm("parent","hidden")):removeClass(n,a.bm("parent","hidden"))},INSTANCE_KEY=Symbol("ElLoading"),createInstance$1=(r,n)=>{var o,a,l,f;const u=n.instance,p=e=>isObject$2(n.value)?n.value[e]:void 0,g=e=>{const i=isString$2(e)&&(u==null?void 0:u[e])||e;return i&&ref(i)},d=e=>g(p(e)||r.getAttribute(`element-loading-${hyphenate(e)}`)),c=(o=p("fullscreen"))!=null?o:n.modifiers.fullscreen,t={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:c,target:(a=p("target"))!=null?a:c?void 0:r,body:(l=p("body"))!=null?l:n.modifiers.body,lock:(f=p("lock"))!=null?f:n.modifiers.lock};r[INSTANCE_KEY]={options:t,instance:Loading(t)}},updateOptions=(r,n)=>{for(const o of Object.keys(n))isRef(n[o])&&(n[o].value=r[o])},vLoading={mounted(r,n){n.value&&createInstance$1(r,n)},updated(r,n){const o=r[INSTANCE_KEY];n.oldValue!==n.value&&(n.value&&!n.oldValue?createInstance$1(r,n):n.value&&n.oldValue?isObject$2(n.value)&&updateOptions(n.value,o.options):o==null||o.instance.close())},unmounted(r){var n;(n=r[INSTANCE_KEY])==null||n.instance.close(),r[INSTANCE_KEY]=null}},messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances=shallowReactive([]),getInstance=r=>{const n=instances.findIndex(l=>l.id===r),o=instances[n];let a;return n>0&&(a=instances[n-1]),{current:o,prev:a}},getLastOffset=r=>{const{prev:n}=getInstance(r);return n?n.vm.exposed.bottom.value:0},getOffsetOrSpace=(r,n)=>instances.findIndex(a=>a.id===r)>0?16:n,__default__=defineComponent({name:"ElMessage"}),_sfc_main$a=defineComponent({...__default__,props:messageProps,emits:messageEmits,setup(r,{expose:n}){const o=r,{Close:a}=TypeComponents,{ns:l,zIndex:f}=useGlobalComponentSettings("message"),{currentZIndex:u,nextZIndex:p}=f,g=ref(),d=ref(!1),c=ref(0);let t;const e=computed(()=>o.type?o.type==="error"?"danger":o.type:"info"),i=computed(()=>{const A=o.type;return{[l.bm("icon",A)]:A&&TypeComponentsMap[A]}}),s=computed(()=>o.icon||TypeComponentsMap[o.type]||""),m=computed(()=>getLastOffset(o.id)),b=computed(()=>getOffsetOrSpace(o.id,o.offset)+m.value),y=computed(()=>c.value+b.value),v=computed(()=>({top:`${b.value}px`,zIndex:u.value}));function w(){o.duration!==0&&({stop:t}=useTimeoutFn(()=>{_()},o.duration))}function T(){t==null||t()}function _(){d.value=!1}function x({code:A}){A===EVENT_CODE.esc&&_()}return onMounted(()=>{w(),p(),d.value=!0}),watch(()=>o.repeatNum,()=>{T(),w()}),useEventListener(document,"keydown",x),useResizeObserver(g,()=>{c.value=g.value.getBoundingClientRect().height}),n({visible:d,bottom:y,close:_}),(A,$)=>(openBlock(),createBlock(Transition,{name:unref(l).b("fade"),onBeforeLeave:A.onClose,onAfterLeave:S=>A.$emit("destroy"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:A.id,ref_key:"messageRef",ref:g,class:normalizeClass([unref(l).b(),{[unref(l).m(A.type)]:A.type},unref(l).is("center",A.center),unref(l).is("closable",A.showClose),unref(l).is("plain",A.plain),A.customClass]),style:normalizeStyle(unref(v)),role:"alert",onMouseenter:T,onMouseleave:w},[A.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:A.repeatNum,type:unref(e),class:normalizeClass(unref(l).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(s)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(l).e("icon"),unref(i)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(s))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(A.$slots,"default",{},()=>[A.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(l).e("content")),innerHTML:A.message},null,10,["innerHTML"])],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(l).e("content"))},toDisplayString(A.message),3))]),A.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(l).e("closeBtn")),onClick:withModifiers(_,["stop"])},{default:withCtx(()=>[createVNode(unref(a))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,["id"]),[[vShow,d.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var MessageConstructor=_export_sfc(_sfc_main$a,[["__file","message.vue"]]);let seed=1;const normalizeOptions=r=>{const n=!r||isString$2(r)||isVNode(r)||isFunction$2(r)?{message:r}:r,o={...messageDefaults,...n};if(!o.appendTo)o.appendTo=document.body;else if(isString$2(o.appendTo)){let a=document.querySelector(o.appendTo);isElement(a)||(a=document.body),o.appendTo=a}return o},closeMessage=r=>{const n=instances.indexOf(r);if(n===-1)return;instances.splice(n,1);const{handler:o}=r;o.close()},createMessage=({appendTo:r,...n},o)=>{const a=`message_${seed++}`,l=n.onClose,f=document.createElement("div"),u={...n,id:a,onClose:()=>{l==null||l(),closeMessage(c)},onDestroy:()=>{render(null,f)}},p=createVNode(MessageConstructor,u,isFunction$2(u.message)||isVNode(u.message)?{default:isFunction$2(u.message)?u.message:()=>u.message}:null);p.appContext=o||message._context,render(p,f),r.appendChild(f.firstElementChild);const g=p.component,c={id:a,vnode:p,vm:g,handler:{close:()=>{g.exposed.visible.value=!1}},props:p.component.props};return c},message=(r={},n)=>{if(!isClient)return{close:()=>{}};if(isNumber$1(messageConfig.max)&&instances.length>=messageConfig.max)return{close:()=>{}};const o=normalizeOptions(r);if(o.grouping&&instances.length){const l=instances.find(({vnode:f})=>{var u;return((u=f.props)==null?void 0:u.message)===o.message});if(l)return l.props.repeatNum+=1,l.props.type=o.type,l.handler}const a=createMessage(o,n);return instances.push(a),a.handler};messageTypes.forEach(r=>{message[r]=(n={},o)=>{const a=normalizeOptions(n);return message({...a,type:r},o)}});function closeAll(r){for(const n of instances)(!r||r===n.props.type)&&n.handler.close()}message.closeAll=closeAll;message._context=null;const ElMessage=withInstallFunction(message,"$message"),_hoisted_1$8={class:"user-config-title"},_hoisted_2$8={class:"config-item"},_hoisted_3$6={class:"config-item-label"},_hoisted_4$5={class:"config-item-content"},_hoisted_5$5={key:0,class:"config-item"},_hoisted_6$5={class:"config-item-label"},_hoisted_7$3={class:"config-item-content"},_hoisted_8$3={class:"config-item"},_hoisted_9$3={class:"config-item-label"},_hoisted_10$1={class:"config-item-content vad-slider"},_hoisted_11$1={key:1,class:"prompt-item"},_hoisted_12={class:"prompt-item-label"},_hoisted_13={class:"prompt-item-content"},_hoisted_14={class:"timbre-model"},_hoisted_15={class:"timbre-model-label"},_hoisted_16={class:"timbre-model-content"},_sfc_main$9={__name:"index",props:{isCalling:{},isCallingModifiers:{},type:{},typeModifiers:{}},emits:["update:isCalling","update:type"],setup(r){const n=useModel(r,"isCalling"),o=useModel(r,"type"),{t:a,locale:l}=useI18n();let f="AI",u="";ref([]),ref("");const p=ref({canStopByVoice:!1,videoQuality:!1,useAudioPrompt:1,vadThreshold:.8,voiceClonePrompt:f,assistantPrompt:u,timbre:[1],audioFormat:"mp3",base64Str:""});watch(l,(c,t)=>{console.log(`Language switched from ${t} to ${c}`),c==="zh"&&o.value==="video"||c==="zh"&&o.value==="voice"?u="":(c==="en"&&o.value,u="As an assistant, you will speak using this voice style."),p.value.assistantPrompt=u},{immediate:!0}),onMounted(()=>{g()}),watch(p.value,()=>{g()});const g=()=>{const{timbre:c,canStopByVoice:t,...e}=p.value,i={canStopByVoice:t,...e};localStorage.setItem("configData",JSON.stringify(i)),localStorage.setItem("canStopByVoice",t)},d=c=>{console.log("val: ",c),p.value.voiceClonePrompt=f,p.value.assistantPrompt=u,p.value.timbre=[1]};return(c,t)=>{const e=__unplugin_components_0,i=ElTooltip,s=ElSwitch,m=ElSlider,b=ElInput,y=ElOption,v=ElSelect;return openBlock(),createElementBlock("div",{class:normalizeClass(`user-config ${unref(a)("modelConfigTitle")===""?"":"en-user-config"}`)},[createBaseVNode("div",_hoisted_1$8,toDisplayString(unref(a)("modelConfigTitle")),1),createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("span",null,toDisplayString(unref(a)("audioInterruptionBtn")),1),createVNode(i,{class:"box-item",effect:"dark",content:unref(a)("audioInterruptionTips"),placement:"top"},{default:withCtx(()=>[createVNode(e,{name:"question",class:"question-icon"})]),_:1},8,["content"]),t[5]||(t[5]=createTextVNode(": "))]),createBaseVNode("div",_hoisted_4$5,[createVNode(s,{modelValue:unref(p).canStopByVoice,"onUpdate:modelValue":t[0]||(t[0]=w=>unref(p).canStopByVoice=w),"inline-prompt":"","active-text":unref(a)("yes"),"inactive-text":unref(a)("no"),size:"small",disabled:n.value},null,8,["modelValue","active-text","inactive-text","disabled"])])]),o.value==="video"?(openBlock(),createElementBlock("div",_hoisted_5$5,[createBaseVNode("div",_hoisted_6$5,[createBaseVNode("span",null,toDisplayString(unref(a)("videoQualityBtn")),1),createVNode(i,{class:"box-item",effect:"dark",content:unref(a)("videoQualityTips"),placement:"top"},{default:withCtx(()=>[createVNode(e,{name:"question",class:"question-icon"})]),_:1},8,["content"]),t[6]||(t[6]=createTextVNode(": "))]),createBaseVNode("div",_hoisted_7$3,[createVNode(s,{modelValue:unref(p).videoQuality,"onUpdate:modelValue":t[1]||(t[1]=w=>unref(p).videoQuality=w),"inline-prompt":"","active-text":unref(a)("yes"),"inactive-text":unref(a)("no"),size:"small",disabled:n.value},null,8,["modelValue","active-text","inactive-text","disabled"])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$3,[createBaseVNode("div",_hoisted_9$3,[createBaseVNode("span",null,toDisplayString(unref(a)("vadThresholdBtn")),1),createVNode(i,{class:"box-item",effect:"dark",content:unref(a)("vadThresholdTips"),placement:"top"},{default:withCtx(()=>[createVNode(e,{name:"question",class:"question-icon"})]),_:1},8,["content"]),t[7]||(t[7]=createTextVNode(": "))]),createBaseVNode("div",_hoisted_10$1,[createVNode(m,{modelValue:unref(p).vadThreshold,"onUpdate:modelValue":t[2]||(t[2]=w=>unref(p).vadThreshold=w),min:.5,max:1,step:.1,size:"small",disabled:n.value},null,8,["modelValue","disabled"])])]),o.value==="voice"?(openBlock(),createElementBlock("div",_hoisted_11$1,[createBaseVNode("div",_hoisted_12,[createBaseVNode("span",null,toDisplayString(unref(a)("assistantPromptBtn")),1),createVNode(i,{class:"box-item",effect:"dark",content:unref(a)("assistantPromptTips"),placement:"top"},{default:withCtx(()=>[createVNode(e,{name:"question",class:"question-icon"})]),_:1},8,["content"]),t[8]||(t[8]=createTextVNode(": "))]),createBaseVNode("div",_hoisted_13,[createVNode(b,{type:"textarea",rows:3,modelValue:unref(p).assistantPrompt,"onUpdate:modelValue":t[3]||(t[3]=w=>unref(p).assistantPrompt=w),resize:"none",disabled:n.value},null,8,["modelValue","disabled"])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,[createBaseVNode("span",null,toDisplayString(unref(a)("toneColorOptions")),1),createVNode(i,{class:"box-item",effect:"dark",content:unref(a)("toneColorOptionsTips"),placement:"top"},{default:withCtx(()=>[createVNode(e,{name:"question",class:"question-icon"})]),_:1},8,["content"]),t[9]||(t[9]=createTextVNode(": "))]),createBaseVNode("div",_hoisted_16,[createVNode(v,{modelValue:unref(p).useAudioPrompt,"onUpdate:modelValue":t[4]||(t[4]=w=>unref(p).useAudioPrompt=w),style:{width:"100%"},onChange:d,placeholder:"",disabled:n.value},{default:withCtx(()=>[createVNode(y,{value:0,label:unref(a)("nullOption")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a)("nullOption")),1)]),_:1},8,["label"]),createVNode(y,{value:1,label:unref(a)("defaultOption")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a)("defaultOption")),1)]),_:1},8,["label"]),createVNode(y,{value:2,label:unref(a)("femaleOption")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a)("femaleOption")),1)]),_:1},8,["label"]),createVNode(y,{value:3,label:unref(a)("maleOption")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(a)("maleOption")),1)]),_:1},8,["label"])]),_:1},8,["modelValue","disabled"])])])],2)}}},__unplugin_components_1=_export_sfc$1(_sfc_main$9,[["__scopeId","data-v-813509b0"]]),_imports_0$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAWxSURBVHgB7ZzNbxtFGMaf2SQIkRacllZwQHLFh4QAkdxL694acQCkVL0m4opE/wPaA6LHWpxRwrEqh97oLY7aeyu1CMSHYg6VokLpqk0Qapsd5tmPeO3s2jOza49j+yfFu97sOtnH7/POzLu7I2CJ3KxVsI15iOATCFFVm+YhZUUtK3CLr/6fJqRaSrkBeA3xQaMBSwQMkXdrtVAUYBnuxdDFV6d6XQlXF+817pgcqC1QJIz8Sq3VcKARDUyJFfFuo6m1d68dQivtBEoYXMBocQWz3iVxouF326mrQPLnWhW7cl2tVTGaNDHlnekWTV7eL+RPtXnsBrdHWByiAiBYD881h8wICg+QgYqcA5OEi6JaPhVJGQl8n0BjYKs8fGW3hU67tQkUJWQ56rbqRlMl7oV04m7PQWFrNbbikGrcYu+xF0GRtYJNTFBiqHwU975bEbQrVzEhIuwQx6t8iVut25jQIo6iKIKk/BIT2hHBp+GCL/LeqUdw3ec5tgLMnVVW3wYe3wL+cu54X7VoJ6bDQSiCYuJU68B/vwNb38KK40qcY8vR+oz6efEt9SKVSGtwSFjOURYLaijCyyeBWdVTP7oETB2CFUeW9m87eg7OUTbzVI3kNIpw+KPW+itnYQzFzRKW22bn4ZiqiiBpby+eQCUlytxibA8DKov5vzt8Eo75UBgn6JnXovBnQvVyLPVsC/j7B+Cfaz0/Du9cjT4zCybsXz6GQ3w282YRlOQbr0u+4Qm//kX+iac/q9s+7m1W8WDKk1tRa8VWK48dVTW4/00USV3//CJ64thmtJiELfz23/yulWQp2qbqcwbbesd3s1eCY5uZR1AaRoj/Y+v9w2v64vSyV4JjmxUTiNByWeu90LFXgkObFReI+YZRxLy0qxk9xCQqTMQsmWmUwf3LRrtr2yshsdmO0TW/UigeQTbYRIQjmw1eIEZOxWJIQlFNoq4kijXzJtAiHLd164Hr4N+Ict6A7NZfgcoSJQt2MZIGoo9ilS9QP0XJo49ilSOQC1HyKFmsYgKxTPrqkntR8mCvnlWFAuVb+35Qukw6rPCLO76MIuVb+2befTFLnzn7nri9QFNDaqssTIZAHdgLlB7FDzuPb8IW+xz0YC1aHjk3vNHEyGHZt8Dlo/KaeQ4fXloAXhj8cKANisLoZunFeTOfhQuxShYlTf+HGv0Sq4+ipBnsYJViFSl+DUiUNIMTKKGz0G/Cr+d7XykpmcHXgzoL/brwmAGLQ9xUFE2K+wmsAznAjUDMHya926dbTurRxI1AxMRm/7q7O9CdQCY2M7UX71kqqX7tTiBdm5nai7ffvPF11FKWgDuBiI7NTO2VXDEp6ZK1W4F0bGZsr9QdbyVckeVo3oerO1wTm+V1GnXtxUjhcIY18XTuqcTvk/q0eT/Kn4YQfvwwrhv4z+fdsKljLyZk5pw8KB5/+EX8dt6weCaaHgK46WAkdLOZjr0YZU81IoP3LplXFlUEQf4Jl+TZjNt07MUTZ2RkDYaTgtmjG3bDFCk3VJL2rsM1WTd7PtS4ATRNeNvf5XZRH6xGlU/rMZzXmMZzZbEZh4maJOVbXnxkJDEv2ZZJn9xsNe82Y74WPh9miZ7VuHvqCgRG44EWCvz21Shq/vgc9og18f7GSly0p82C0RCIeYd1o6IIUQ8XyXt57/T6wZ9VoSxEQ0XPGa61etJSXMKEiCmxkqzuCRQ+oylRx4R6+tHw9rHYc+8ie48YX/hY+MX0hjaBxELDV+FF7/kYP6J5PDomO9k3mg/DS3jjJhKnpvgsa5KTzHJHOIdFKNJY2C133g4ymR7HdnocEh74TCyMaOtWD+fp6DETlf4UXVE0rY7EFF2qz6c78Zv5JG/RxEsXVOxxojd3A1wzVFEQ33NIZTojnrFAaeJn7mvxk9OVOFcNwzSBflQIZK1LjTMP4U6vucry+B9bzzpYScBuoAAAAABJRU5ErkJggg==",_hoisted_1$7={class:"ideas"},_hoisted_2$7={class:"ideas-content"},_sfc_main$8={__name:"index",props:{ideasList:{type:Array,default:()=>[]}},setup(r){return(n,o)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[o[0]||(o[0]=createBaseVNode("div",{class:"ideas-title"},[createBaseVNode("img",{src:_imports_0$1}),createBaseVNode("span",null,"Convsersation ideas")],-1)),createBaseVNode("div",_hoisted_2$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.ideasList,(a,l)=>(openBlock(),createElementBlock("div",{class:"ideas-content-item",key:l},toDisplayString(a),1))),128))])]))}},__unplugin_components_9=_export_sfc$1(_sfc_main$8,[["__scopeId","data-v-0dfccf4e"]]),voiceIdeasList=["TBD","TBD","TBD"],videoIdeasList=["TBD","TBD","TBD"],limitTime=10*60,tipsRemainingTime=30,videoConfigList=[8,8,8,8,18,28,26,36,26,28,18,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,24,14,30,14,34,30,14,24,8,8,8,8,8,8,8,8,18,28,26,36,26,28,18,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,24,14,30,14,34,30,14,24,8,8,8,8,8,8,8,8,18,28,26,36,26,28,18,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,24,14,30,14,34,30,14,24,8,8,8,8],showIdeasList=!1,_hoisted_1$6={class:"time"},_hoisted_2$6={class:"time-minute"},_hoisted_3$5={class:"time-second"},_sfc_main$7={__name:"index",props:{modelValue:{},modelModifiers:{}},emits:mergeModels(["timeUp"],["update:modelValue"]),setup(r,{emit:n}){const o=useModel(r,"modelValue"),a=n,l=ref(),f=ref(),u=ref(),p=ref(null),g=()=>{l.value=limitTime,d(),p.value=setInterval(()=>{d()},1e3)},d=()=>{let c=Math.floor(l.value/60),t=l.value%60;f.value=c<10?"0"+c:c,u.value=t<10?"0"+t:t,l.value===tipsRemainingTime&&ElMessage({type:"warning",message:`This call will disconnect in ${tipsRemainingTime} seconds.`,duration:3e3,customClass:"time-warning"}),l.value>0?l.value--:(clearInterval(p),a("timeUp"))};return watch(()=>o.value,c=>{p.value&&clearInterval(p.value),c&&g()},{immediate:!0}),(c,t)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("div",_hoisted_2$6,toDisplayString(unref(f)||"00"),1),t[0]||(t[0]=createBaseVNode("div",{class:"time-colon"},":",-1)),createBaseVNode("div",_hoisted_3$5,toDisplayString(unref(u)||"00"),1)]))}},__unplugin_components_8=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-0925a4a7"]]),_hoisted_1$5={class:"pause-icon"},_hoisted_2$5={class:"btn-text"},_sfc_main$6={__name:"index",props:{disabled:{type:Boolean,default:!1}},setup(r){const{t:n}=useI18n();return(o,a)=>{const l=__unplugin_components_0;return openBlock(),createElementBlock("div",{class:normalizeClass(`skip-btn ${r.disabled?"disabled-btn":""}`)},[createBaseVNode("div",_hoisted_1$5,[createVNode(l,{name:"pause",className:"pause-svg"})]),createBaseVNode("span",_hoisted_2$5,toDisplayString(unref(n)("skipMessageBtn")),1)],2)}}},_imports_0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAD1BMVEVHcExYWmpYWGxYWGhYWGod1un2AAAABHRSTlMAgUC/+MP2NQAAALNJREFUeAHVlMESwyAIRF3W///mRowZMQocemi5JOM8V2AZyn+GsFYi5lA1kOBIXKISgJdY/zAU1EeZAEsKHFVE1YyXJQLvUtoFyQg+qUacm6KodeKDQqpvtDbq0XxD7kOsB6vrzV+YQvGEIfVfDh2ZPQrA+mXFbI7GIw80E+yAMH30wZICrelnEFmQdi6P4CLYW7ADF8Hu0htsk4zXumlbBCa42UCcB3U/s0Nzg2ZW32/FB4NfBHVYf9fJAAAAAElFTkSuQmCC",_imports_1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAANlBMVEVHcEx0XP92YP92YP90YP92YP92YP90YP92Yv94YP92YP90YP92YP92YP92Yv92YP92YP92YP/aJiYRAAAAEXRSTlMACvnFVql2v4FAt5n7RoXdXjMcisYAAADvSURBVHgB7dXdboMwDAVgb2Ozvf76/V+2aooqQhMo+Ej1hc8VV5+OEytQJpOBRtlYgJ5YicLAh4cTx4JmDC6IqvgsiKo4AQ08MQZUNChokNGggcFqYsTaVCDggajuGAEK+AhrDwAyGJwVdINzzwvq3HO+hy/9nIvd8DyLqC2ukKLT9IWv01Ay/obfTq/z3/fkIm1L2uK12oxNYHuXfhxg8xyPDrA5syX4UVDRIIFBRoMSHlQ0SGCQ0aCEByk6KOFBig5KeJDAoIQHCQz2C9JlF9j36LwHXChI9L8ZZF3yiIbDb8n9m1ciIrrCZTKZbm6jRZNPAMwD1gAAAABJRU5ErkJggg==",_imports_2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAD1BMVEVHcExYWmpYWGxYWGhYWGod1un2AAAABHRSTlMAgUC/+MP2NQAAALhJREFUeAHVlEsSwyAMQ7Hh/mcuIY2D/GXZatGZel5sEIL2P6I+jDpZzsGWNErX5/fPLkvOhq3xGGwHIbn+O+Dd4QSctX4EzpaHoCrGYMPZCYjbSUCsJiBuJwe3cgaClRkIswtwoFkRuI++UkKwapasQYJY55Si9DJhjd/70G2k1r3hB3QuzCuShat4eSS50Q5Ni7wyYSlBsXcUi5TZ1W7EmBJ8WhZGfg9FnXDspfc+BU9gL8z5TX0AbZEEj8lsOFkAAAAASUVORK5CYII=",_imports_3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAD1BMVEVHcEx2Yv90YP94YP92YP+mc8KMAAAABHRSTlMAgb9ARuXkygAAAHlJREFUeAHV0kEKwzAQQ9HRSPc/cwMlFCcx/oYuWi2yeswn4PqXWUlXHd9h3b7AziM8phFmCi/yGzCmUBQGQ1MoCoOhKRSFwdAUisLeh2qYPv1459zNvV/6Lfc4zXMzuYIfuYKFoWi7MNRuu2jb9CSFvU6Xm/z0D+4FzzUJJWn+B48AAAAASUVORK5CYII=";function bind(r,n){return function(){return r.apply(n,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(r=>n=>{const o=toString.call(n);return r[o]||(r[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=r=>(r=r.toLowerCase(),n=>kindOf(n)===r),typeOfTest=r=>n=>typeof n===r,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(r){return r!==null&&!isUndefined(r)&&r.constructor!==null&&!isUndefined(r.constructor)&&isFunction(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(r){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(r):n=r&&r.buffer&&isArrayBuffer(r.buffer),n}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=r=>r!==null&&typeof r=="object",isBoolean=r=>r===!0||r===!1,isPlainObject=r=>{if(kindOf(r)!=="object")return!1;const n=getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=r=>isObject(r)&&isFunction(r.pipe),isFormData=r=>{let n;return r&&(typeof FormData=="function"&&r instanceof FormData||isFunction(r.append)&&((n=kindOf(r))==="formdata"||n==="object"&&isFunction(r.toString)&&r.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(r,n,{allOwnKeys:o=!1}={}){if(r===null||typeof r>"u")return;let a,l;if(typeof r!="object"&&(r=[r]),isArray(r))for(a=0,l=r.length;a<l;a++)n.call(null,r[a],a,r);else{const f=o?Object.getOwnPropertyNames(r):Object.keys(r),u=f.length;let p;for(a=0;a<u;a++)p=f[a],n.call(null,r[p],p,r)}}function findKey(r,n){n=n.toLowerCase();const o=Object.keys(r);let a=o.length,l;for(;a-- >0;)if(l=o[a],n===l.toLowerCase())return l;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=r=>!isUndefined(r)&&r!==_global;function merge(){const{caseless:r}=isContextDefined(this)&&this||{},n={},o=(a,l)=>{const f=r&&findKey(n,l)||l;isPlainObject(n[f])&&isPlainObject(a)?n[f]=merge(n[f],a):isPlainObject(a)?n[f]=merge({},a):isArray(a)?n[f]=a.slice():n[f]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&forEach(arguments[a],o);return n}const extend=(r,n,o,{allOwnKeys:a}={})=>(forEach(n,(l,f)=>{o&&isFunction(l)?r[f]=bind(l,o):r[f]=l},{allOwnKeys:a}),r),stripBOM=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),inherits=(r,n,o,a)=>{r.prototype=Object.create(n.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:n.prototype}),o&&Object.assign(r.prototype,o)},toFlatObject=(r,n,o,a)=>{let l,f,u;const p={};if(n=n||{},r==null)return n;do{for(l=Object.getOwnPropertyNames(r),f=l.length;f-- >0;)u=l[f],(!a||a(u,r,n))&&!p[u]&&(n[u]=r[u],p[u]=!0);r=o!==!1&&getPrototypeOf(r)}while(r&&(!o||o(r,n))&&r!==Object.prototype);return n},endsWith=(r,n,o)=>{r=String(r),(o===void 0||o>r.length)&&(o=r.length),o-=n.length;const a=r.indexOf(n,o);return a!==-1&&a===o},toArray=r=>{if(!r)return null;if(isArray(r))return r;let n=r.length;if(!isNumber(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=r[n];return o},isTypedArray=(r=>n=>r&&n instanceof r)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(r,n)=>{const a=(r&&r[Symbol.iterator]).call(r);let l;for(;(l=a.next())&&!l.done;){const f=l.value;n.call(r,f[0],f[1])}},matchAll=(r,n)=>{let o;const a=[];for(;(o=r.exec(n))!==null;)a.push(o);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,a,l){return a.toUpperCase()+l}),hasOwnProperty=(({hasOwnProperty:r})=>(n,o)=>r.call(n,o))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(r,n)=>{const o=Object.getOwnPropertyDescriptors(r),a={};forEach(o,(l,f)=>{let u;(u=n(l,f,r))!==!1&&(a[f]=u||l)}),Object.defineProperties(r,a)},freezeMethods=r=>{reduceDescriptors(r,(n,o)=>{if(isFunction(r)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const a=r[o];if(isFunction(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},toObjectSet=(r,n)=>{const o={},a=l=>{l.forEach(f=>{o[f]=!0})};return isArray(r)?a(r):a(String(r).split(n)),o},noop=()=>{},toFiniteNumber=(r,n)=>r!=null&&Number.isFinite(r=+r)?r:n,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(r=16,n=ALPHABET.ALPHA_DIGIT)=>{let o="";const{length:a}=n;for(;r--;)o+=n[Math.random()*a|0];return o};function isSpecCompliantForm(r){return!!(r&&isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const toJSONObject=r=>{const n=new Array(10),o=(a,l)=>{if(isObject(a)){if(n.indexOf(a)>=0)return;if(!("toJSON"in a)){n[l]=a;const f=isArray(a)?[]:{};return forEach(a,(u,p)=>{const g=o(u,l+1);!isUndefined(g)&&(f[p]=g)}),n[l]=void 0,f}}return a};return o(r,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=r=>r&&(isObject(r)||isFunction(r))&&isFunction(r.then)&&isFunction(r.catch),_setImmediate=((r,n)=>r?setImmediate:n?((o,a)=>(_global.addEventListener("message",({source:l,data:f})=>{l===_global&&f===o&&a.length&&a.shift()()},!1),l=>{a.push(l),_global.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,utils$2={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(r,n,o,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),a&&(this.request=a),l&&(this.response=l,this.status=l.status?l.status:null)}utils$2.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$2.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{descriptors[r]={value:r}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(r,n,o,a,l,f)=>{const u=Object.create(prototype$1);return utils$2.toFlatObject(r,u,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),AxiosError.call(u,r.message,n,o,a,l),u.cause=r,u.name=r.name,f&&Object.assign(u,f),u};const httpAdapter=null;function isVisitable(r){return utils$2.isPlainObject(r)||utils$2.isArray(r)}function removeBrackets(r){return utils$2.endsWith(r,"[]")?r.slice(0,-2):r}function renderKey(r,n,o){return r?r.concat(n).map(function(l,f){return l=removeBrackets(l),!o&&f?"["+l+"]":l}).join(o?".":""):n}function isFlatArray(r){return utils$2.isArray(r)&&!r.some(isVisitable)}const predicates=utils$2.toFlatObject(utils$2,{},null,function(n){return/^is[A-Z]/.test(n)});function toFormData(r,n,o){if(!utils$2.isObject(r))throw new TypeError("target must be an object");n=n||new FormData,o=utils$2.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,b){return!utils$2.isUndefined(b[m])});const a=o.metaTokens,l=o.visitor||c,f=o.dots,u=o.indexes,g=(o.Blob||typeof Blob<"u"&&Blob)&&utils$2.isSpecCompliantForm(n);if(!utils$2.isFunction(l))throw new TypeError("visitor must be a function");function d(s){if(s===null)return"";if(utils$2.isDate(s))return s.toISOString();if(!g&&utils$2.isBlob(s))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$2.isArrayBuffer(s)||utils$2.isTypedArray(s)?g&&typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function c(s,m,b){let y=s;if(s&&!b&&typeof s=="object"){if(utils$2.endsWith(m,"{}"))m=a?m:m.slice(0,-2),s=JSON.stringify(s);else if(utils$2.isArray(s)&&isFlatArray(s)||(utils$2.isFileList(s)||utils$2.endsWith(m,"[]"))&&(y=utils$2.toArray(s)))return m=removeBrackets(m),y.forEach(function(w,T){!(utils$2.isUndefined(w)||w===null)&&n.append(u===!0?renderKey([m],T,f):u===null?m:m+"[]",d(w))}),!1}return isVisitable(s)?!0:(n.append(renderKey(b,m,f),d(s)),!1)}const t=[],e=Object.assign(predicates,{defaultVisitor:c,convertValue:d,isVisitable});function i(s,m){if(!utils$2.isUndefined(s)){if(t.indexOf(s)!==-1)throw Error("Circular reference detected in "+m.join("."));t.push(s),utils$2.forEach(s,function(y,v){(!(utils$2.isUndefined(y)||y===null)&&l.call(n,y,utils$2.isString(v)?v.trim():v,m,e))===!0&&i(y,m?m.concat(v):[v])}),t.pop()}}if(!utils$2.isObject(r))throw new TypeError("data must be an object");return i(r),n}function encode$1(r){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function AxiosURLSearchParams(r,n){this._pairs=[],r&&toFormData(r,this,n)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(n,o){this._pairs.push([n,o])};prototype.toString=function(n){const o=n?function(a){return n.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(l){return o(l[0])+"="+o(l[1])},"").join("&")};function encode(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(r,n,o){if(!n)return r;const a=o&&o.encode||encode,l=o&&o.serialize;let f;if(l?f=l(n,o):f=utils$2.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,o).toString(a),f){const u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+f}return r}class InterceptorManager{constructor(){this.handlers=[]}use(n,o,a){return this.handlers.push({fulfilled:n,rejected:o,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){utils$2.forEach(this.handlers,function(a){a!==null&&n(a)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$1,...platform$1};function toURLEncodedForm(r,n){return toFormData(r,new platform.classes.URLSearchParams,Object.assign({visitor:function(o,a,l,f){return platform.isNode&&utils$2.isBuffer(o)?(this.append(a,o.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function parsePropPath(r){return utils$2.matchAll(/\w+|\[(\w*)]/g,r).map(n=>n[0]==="[]"?"":n[1]||n[0])}function arrayToObject(r){const n={},o=Object.keys(r);let a;const l=o.length;let f;for(a=0;a<l;a++)f=o[a],n[f]=r[f];return n}function formDataToJSON(r){function n(o,a,l,f){let u=o[f++];if(u==="__proto__")return!0;const p=Number.isFinite(+u),g=f>=o.length;return u=!u&&utils$2.isArray(l)?l.length:u,g?(utils$2.hasOwnProp(l,u)?l[u]=[l[u],a]:l[u]=a,!p):((!l[u]||!utils$2.isObject(l[u]))&&(l[u]=[]),n(o,a,l[u],f)&&utils$2.isArray(l[u])&&(l[u]=arrayToObject(l[u])),!p)}if(utils$2.isFormData(r)&&utils$2.isFunction(r.entries)){const o={};return utils$2.forEachEntry(r,(a,l)=>{n(parsePropPath(a),l,o,0)}),o}return null}function stringifySafely(r,n,o){if(utils$2.isString(r))try{return(n||JSON.parse)(r),utils$2.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(o||JSON.stringify)(r)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const a=o.getContentType()||"",l=a.indexOf("application/json")>-1,f=utils$2.isObject(n);if(f&&utils$2.isHTMLForm(n)&&(n=new FormData(n)),utils$2.isFormData(n))return l?JSON.stringify(formDataToJSON(n)):n;if(utils$2.isArrayBuffer(n)||utils$2.isBuffer(n)||utils$2.isStream(n)||utils$2.isFile(n)||utils$2.isBlob(n)||utils$2.isReadableStream(n))return n;if(utils$2.isArrayBufferView(n))return n.buffer;if(utils$2.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let p;if(f){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(n,this.formSerializer).toString();if((p=utils$2.isFileList(n))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return toFormData(p?{"files[]":n}:n,g&&new g,this.formSerializer)}}return f||l?(o.setContentType("application/json",!1),stringifySafely(n)):n}],transformResponse:[function(n){const o=this.transitional||defaults.transitional,a=o&&o.forcedJSONParsing,l=this.responseType==="json";if(utils$2.isResponse(n)||utils$2.isReadableStream(n))return n;if(n&&utils$2.isString(n)&&(a&&!this.responseType||l)){const u=!(o&&o.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(p){if(u)throw p.name==="SyntaxError"?AxiosError.from(p,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):p}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$2.forEach(["delete","get","head","post","put","patch"],r=>{defaults.headers[r]={}});const ignoreDuplicateOf=utils$2.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=r=>{const n={};let o,a,l;return r&&r.split(`
`).forEach(function(u){l=u.indexOf(":"),o=u.substring(0,l).trim().toLowerCase(),a=u.substring(l+1).trim(),!(!o||n[o]&&ignoreDuplicateOf[o])&&(o==="set-cookie"?n[o]?n[o].push(a):n[o]=[a]:n[o]=n[o]?n[o]+", "+a:a)}),n},$internals=Symbol("internals");function normalizeHeader(r){return r&&String(r).trim().toLowerCase()}function normalizeValue(r){return r===!1||r==null?r:utils$2.isArray(r)?r.map(normalizeValue):String(r)}function parseTokens(r){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=o.exec(r);)n[a[1]]=a[2];return n}const isValidHeaderName=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function matchHeaderValue(r,n,o,a,l){if(utils$2.isFunction(a))return a.call(this,n,o);if(l&&(n=o),!!utils$2.isString(n)){if(utils$2.isString(a))return n.indexOf(a)!==-1;if(utils$2.isRegExp(a))return a.test(n)}}function formatHeader(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,a)=>o.toUpperCase()+a)}function buildAccessors(r,n){const o=utils$2.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+o,{value:function(l,f,u){return this[a].call(this,n,l,f,u)},configurable:!0})})}class AxiosHeaders{constructor(n){n&&this.set(n)}set(n,o,a){const l=this;function f(p,g,d){const c=normalizeHeader(g);if(!c)throw new Error("header name must be a non-empty string");const t=utils$2.findKey(l,c);(!t||l[t]===void 0||d===!0||d===void 0&&l[t]!==!1)&&(l[t||g]=normalizeValue(p))}const u=(p,g)=>utils$2.forEach(p,(d,c)=>f(d,c,g));if(utils$2.isPlainObject(n)||n instanceof this.constructor)u(n,o);else if(utils$2.isString(n)&&(n=n.trim())&&!isValidHeaderName(n))u(parseHeaders(n),o);else if(utils$2.isHeaders(n))for(const[p,g]of n.entries())f(g,p,a);else n!=null&&f(o,n,a);return this}get(n,o){if(n=normalizeHeader(n),n){const a=utils$2.findKey(this,n);if(a){const l=this[a];if(!o)return l;if(o===!0)return parseTokens(l);if(utils$2.isFunction(o))return o.call(this,l,a);if(utils$2.isRegExp(o))return o.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=normalizeHeader(n),n){const a=utils$2.findKey(this,n);return!!(a&&this[a]!==void 0&&(!o||matchHeaderValue(this,this[a],a,o)))}return!1}delete(n,o){const a=this;let l=!1;function f(u){if(u=normalizeHeader(u),u){const p=utils$2.findKey(a,u);p&&(!o||matchHeaderValue(a,a[p],p,o))&&(delete a[p],l=!0)}}return utils$2.isArray(n)?n.forEach(f):f(n),l}clear(n){const o=Object.keys(this);let a=o.length,l=!1;for(;a--;){const f=o[a];(!n||matchHeaderValue(this,this[f],f,n,!0))&&(delete this[f],l=!0)}return l}normalize(n){const o=this,a={};return utils$2.forEach(this,(l,f)=>{const u=utils$2.findKey(a,f);if(u){o[u]=normalizeValue(l),delete o[f];return}const p=n?formatHeader(f):String(f).trim();p!==f&&delete o[f],o[p]=normalizeValue(l),a[p]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return utils$2.forEach(this,(a,l)=>{a!=null&&a!==!1&&(o[l]=n&&utils$2.isArray(a)?a.join(", "):a)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const a=new this(n);return o.forEach(l=>a.set(l)),a}static accessor(n){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,l=this.prototype;function f(u){const p=normalizeHeader(u);a[p]||(buildAccessors(l,u),a[p]=!0)}return utils$2.isArray(n)?n.forEach(f):f(n),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$2.reduceDescriptors(AxiosHeaders.prototype,({value:r},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>r,set(a){this[o]=a}}});utils$2.freezeMethods(AxiosHeaders);function transformData(r,n){const o=this||defaults,a=n||o,l=AxiosHeaders.from(a.headers);let f=a.data;return utils$2.forEach(r,function(p){f=p.call(o,f,l.normalize(),n?n.status:void 0)}),l.normalize(),f}function isCancel(r){return!!(r&&r.__CANCEL__)}function CanceledError(r,n,o){AxiosError.call(this,r??"canceled",AxiosError.ERR_CANCELED,n,o),this.name="CanceledError"}utils$2.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(r,n,o){const a=o.config.validateStatus;!o.status||!a||a(o.status)?r(o):n(new AxiosError("Request failed with status code "+o.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function parseProtocol(r){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return n&&n[1]||""}function speedometer(r,n){r=r||10;const o=new Array(r),a=new Array(r);let l=0,f=0,u;return n=n!==void 0?n:1e3,function(g){const d=Date.now(),c=a[f];u||(u=d),o[l]=g,a[l]=d;let t=f,e=0;for(;t!==l;)e+=o[t++],t=t%r;if(l=(l+1)%r,l===f&&(f=(f+1)%r),d-u<n)return;const i=c&&d-c;return i?Math.round(e*1e3/i):void 0}}function throttle(r,n){let o=0,a=1e3/n,l,f;const u=(d,c=Date.now())=>{o=c,l=null,f&&(clearTimeout(f),f=null),r.apply(null,d)};return[(...d)=>{const c=Date.now(),t=c-o;t>=a?u(d,c):(l=d,f||(f=setTimeout(()=>{f=null,u(l)},a-t)))},()=>l&&u(l)]}const progressEventReducer=(r,n,o=3)=>{let a=0;const l=speedometer(50,250);return throttle(f=>{const u=f.loaded,p=f.lengthComputable?f.total:void 0,g=u-a,d=l(g),c=u<=p;a=u;const t={loaded:u,total:p,progress:p?u/p:void 0,bytes:g,rate:d||void 0,estimated:d&&p&&c?(p-u)/d:void 0,event:f,lengthComputable:p!=null,[n?"download":"upload"]:!0};r(t)},o)},progressEventDecorator=(r,n)=>{const o=r!=null;return[a=>n[0]({lengthComputable:o,total:r,loaded:a}),n[1]]},asyncDecorator=r=>(...n)=>utils$2.asap(()=>r(...n)),isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const n=platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent),o=document.createElement("a");let a;function l(f){let u=f;return n&&(o.setAttribute("href",u),u=o.href),o.setAttribute("href",u),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return a=l(window.location.href),function(u){const p=utils$2.isString(u)?l(u):u;return p.protocol===a.protocol&&p.host===a.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(r,n,o,a,l,f){const u=[r+"="+encodeURIComponent(n)];utils$2.isNumber(o)&&u.push("expires="+new Date(o).toGMTString()),utils$2.isString(a)&&u.push("path="+a),utils$2.isString(l)&&u.push("domain="+l),f===!0&&u.push("secure"),document.cookie=u.join("; ")},read(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function combineURLs(r,n){return n?r.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):r}function buildFullPath(r,n){return r&&!isAbsoluteURL(n)?combineURLs(r,n):n}const headersToObject=r=>r instanceof AxiosHeaders?{...r}:r;function mergeConfig(r,n){n=n||{};const o={};function a(d,c,t){return utils$2.isPlainObject(d)&&utils$2.isPlainObject(c)?utils$2.merge.call({caseless:t},d,c):utils$2.isPlainObject(c)?utils$2.merge({},c):utils$2.isArray(c)?c.slice():c}function l(d,c,t){if(utils$2.isUndefined(c)){if(!utils$2.isUndefined(d))return a(void 0,d,t)}else return a(d,c,t)}function f(d,c){if(!utils$2.isUndefined(c))return a(void 0,c)}function u(d,c){if(utils$2.isUndefined(c)){if(!utils$2.isUndefined(d))return a(void 0,d)}else return a(void 0,c)}function p(d,c,t){if(t in n)return a(d,c);if(t in r)return a(void 0,d)}const g={url:f,method:f,data:f,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p,headers:(d,c)=>l(headersToObject(d),headersToObject(c),!0)};return utils$2.forEach(Object.keys(Object.assign({},r,n)),function(c){const t=g[c]||l,e=t(r[c],n[c],c);utils$2.isUndefined(e)&&t!==p||(o[c]=e)}),o}const resolveConfig=r=>{const n=mergeConfig({},r);let{data:o,withXSRFToken:a,xsrfHeaderName:l,xsrfCookieName:f,headers:u,auth:p}=n;n.headers=u=AxiosHeaders.from(u),n.url=buildURL(buildFullPath(n.baseURL,n.url),r.params,r.paramsSerializer),p&&u.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(utils$2.isFormData(o)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((g=u.getContentType())!==!1){const[d,...c]=g?g.split(";").map(t=>t.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...c].join("; "))}}if(platform.hasStandardBrowserEnv&&(a&&utils$2.isFunction(a)&&(a=a(n)),a||a!==!1&&isURLSameOrigin(n.url))){const d=l&&f&&cookies.read(f);d&&u.set(l,d)}return n},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(r){return new Promise(function(o,a){const l=resolveConfig(r);let f=l.data;const u=AxiosHeaders.from(l.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:d}=l,c,t,e,i,s;function m(){i&&i(),s&&s(),l.cancelToken&&l.cancelToken.unsubscribe(c),l.signal&&l.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(l.method.toUpperCase(),l.url,!0),b.timeout=l.timeout;function y(){if(!b)return;const w=AxiosHeaders.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!p||p==="text"||p==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:r,request:b};settle(function(A){o(A),m()},function(A){a(A),m()},_),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(a(new AxiosError("Request aborted",AxiosError.ECONNABORTED,r,b)),b=null)},b.onerror=function(){a(new AxiosError("Network Error",AxiosError.ERR_NETWORK,r,b)),b=null},b.ontimeout=function(){let T=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const _=l.transitional||transitionalDefaults;l.timeoutErrorMessage&&(T=l.timeoutErrorMessage),a(new AxiosError(T,_.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,r,b)),b=null},f===void 0&&u.setContentType(null),"setRequestHeader"in b&&utils$2.forEach(u.toJSON(),function(T,_){b.setRequestHeader(_,T)}),utils$2.isUndefined(l.withCredentials)||(b.withCredentials=!!l.withCredentials),p&&p!=="json"&&(b.responseType=l.responseType),d&&([e,s]=progressEventReducer(d,!0),b.addEventListener("progress",e)),g&&b.upload&&([t,i]=progressEventReducer(g),b.upload.addEventListener("progress",t),b.upload.addEventListener("loadend",i)),(l.cancelToken||l.signal)&&(c=w=>{b&&(a(!w||w.type?new CanceledError(null,r,b):w),b.abort(),b=null)},l.cancelToken&&l.cancelToken.subscribe(c),l.signal&&(l.signal.aborted?c():l.signal.addEventListener("abort",c)));const v=parseProtocol(l.url);if(v&&platform.protocols.indexOf(v)===-1){a(new AxiosError("Unsupported protocol "+v+":",AxiosError.ERR_BAD_REQUEST,r));return}b.send(f||null)})},composeSignals=(r,n)=>{const{length:o}=r=r?r.filter(Boolean):[];if(n||o){let a=new AbortController,l;const f=function(d){if(!l){l=!0,p();const c=d instanceof Error?d:this.reason;a.abort(c instanceof AxiosError?c:new CanceledError(c instanceof Error?c.message:c))}};let u=n&&setTimeout(()=>{u=null,f(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const p=()=>{r&&(u&&clearTimeout(u),u=null,r.forEach(d=>{d.unsubscribe?d.unsubscribe(f):d.removeEventListener("abort",f)}),r=null)};r.forEach(d=>d.addEventListener("abort",f));const{signal:g}=a;return g.unsubscribe=()=>utils$2.asap(p),g}},streamChunk=function*(r,n){let o=r.byteLength;if(!n||o<n){yield r;return}let a=0,l;for(;a<o;)l=a+n,yield r.slice(a,l),a=l},readBytes=async function*(r,n){for await(const o of readStream(r))yield*streamChunk(o,n)},readStream=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const n=r.getReader();try{for(;;){const{done:o,value:a}=await n.read();if(o)break;yield a}}finally{await n.cancel()}},trackStream=(r,n,o,a)=>{const l=readBytes(r,n);let f=0,u,p=g=>{u||(u=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:d,value:c}=await l.next();if(d){p(),g.close();return}let t=c.byteLength;if(o){let e=f+=t;o(e)}g.enqueue(new Uint8Array(c))}catch(d){throw p(d),d}},cancel(g){return p(g),l.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(r=>n=>r.encode(n))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),test=(r,...n)=>{try{return!!r(...n)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let r=!1;const n=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!n}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$2.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(r=>r.body)};isFetchSupported&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!resolvers[n]&&(resolvers[n]=utils$2.isFunction(r[n])?o=>o[n]():(o,a)=>{throw new AxiosError(`Response type '${n}' is not supported`,AxiosError.ERR_NOT_SUPPORT,a)})})})(new Response);const getBodyLength=async r=>{if(r==null)return 0;if(utils$2.isBlob(r))return r.size;if(utils$2.isSpecCompliantForm(r))return(await new Request(platform.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(utils$2.isArrayBufferView(r)||utils$2.isArrayBuffer(r))return r.byteLength;if(utils$2.isURLSearchParams(r)&&(r=r+""),utils$2.isString(r))return(await encodeText(r)).byteLength},resolveBodyLength=async(r,n)=>{const o=utils$2.toFiniteNumber(r.getContentLength());return o??getBodyLength(n)},fetchAdapter=isFetchSupported&&(async r=>{let{url:n,method:o,data:a,signal:l,cancelToken:f,timeout:u,onDownloadProgress:p,onUploadProgress:g,responseType:d,headers:c,withCredentials:t="same-origin",fetchOptions:e}=resolveConfig(r);d=d?(d+"").toLowerCase():"text";let i=composeSignals([l,f&&f.toAbortSignal()],u),s;const m=i&&i.unsubscribe&&(()=>{i.unsubscribe()});let b;try{if(g&&supportsRequestStream&&o!=="get"&&o!=="head"&&(b=await resolveBodyLength(c,a))!==0){let _=new Request(n,{method:"POST",body:a,duplex:"half"}),x;if(utils$2.isFormData(a)&&(x=_.headers.get("content-type"))&&c.setContentType(x),_.body){const[A,$]=progressEventDecorator(b,progressEventReducer(asyncDecorator(g)));a=trackStream(_.body,DEFAULT_CHUNK_SIZE,A,$)}}utils$2.isString(t)||(t=t?"include":"omit");const y="credentials"in Request.prototype;s=new Request(n,{...e,signal:i,method:o.toUpperCase(),headers:c.normalize().toJSON(),body:a,duplex:"half",credentials:y?t:void 0});let v=await fetch(s);const w=supportsResponseStream&&(d==="stream"||d==="response");if(supportsResponseStream&&(p||w&&m)){const _={};["status","statusText","headers"].forEach(S=>{_[S]=v[S]});const x=utils$2.toFiniteNumber(v.headers.get("content-length")),[A,$]=p&&progressEventDecorator(x,progressEventReducer(asyncDecorator(p),!0))||[];v=new Response(trackStream(v.body,DEFAULT_CHUNK_SIZE,A,()=>{$&&$(),m&&m()}),_)}d=d||"text";let T=await resolvers[utils$2.findKey(resolvers,d)||"text"](v,r);return!w&&m&&m(),await new Promise((_,x)=>{settle(_,x,{data:T,headers:AxiosHeaders.from(v.headers),status:v.status,statusText:v.statusText,config:r,request:s})})}catch(y){throw m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,r,s),{cause:y.cause||y}):AxiosError.from(y,y&&y.code,r,s)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$2.forEach(knownAdapters,(r,n)=>{if(r){try{Object.defineProperty(r,"name",{value:n})}catch{}Object.defineProperty(r,"adapterName",{value:n})}});const renderReason=r=>`- ${r}`,isResolvedHandle=r=>utils$2.isFunction(r)||r===null||r===!1,adapters={getAdapter:r=>{r=utils$2.isArray(r)?r:[r];const{length:n}=r;let o,a;const l={};for(let f=0;f<n;f++){o=r[f];let u;if(a=o,!isResolvedHandle(o)&&(a=knownAdapters[(u=String(o)).toLowerCase()],a===void 0))throw new AxiosError(`Unknown adapter '${u}'`);if(a)break;l[u||"#"+f]=a}if(!a){const f=Object.entries(l).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let u=n?f.length>1?`since :
`+f.map(renderReason).join(`
`):" "+renderReason(f[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return a},adapters:knownAdapters};function throwIfCancellationRequested(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new CanceledError(null,r)}function dispatchRequest(r){return throwIfCancellationRequested(r),r.headers=AxiosHeaders.from(r.headers),r.data=transformData.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(r.adapter||defaults.adapter)(r).then(function(a){return throwIfCancellationRequested(r),a.data=transformData.call(r,r.transformResponse,a),a.headers=AxiosHeaders.from(a.headers),a},function(a){return isCancel(a)||(throwIfCancellationRequested(r),a&&a.response&&(a.response.data=transformData.call(r,r.transformResponse,a.response),a.response.headers=AxiosHeaders.from(a.response.headers))),Promise.reject(a)})}const VERSION="1.7.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((r,n)=>{validators$1[r]=function(a){return typeof a===r||"a"+(n<1?"n ":" ")+r}});const deprecatedWarnings={};validators$1.transitional=function(n,o,a){function l(f,u){return"[Axios v"+VERSION+"] Transitional option '"+f+"'"+u+(a?". "+a:"")}return(f,u,p)=>{if(n===!1)throw new AxiosError(l(u," has been removed"+(o?" in "+o:"")),AxiosError.ERR_DEPRECATED);return o&&!deprecatedWarnings[u]&&(deprecatedWarnings[u]=!0,console.warn(l(u," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(f,u,p):!0}};function assertOptions(r,n,o){if(typeof r!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let l=a.length;for(;l-- >0;){const f=a[l],u=n[f];if(u){const p=r[f],g=p===void 0||u(p,f,r);if(g!==!0)throw new AxiosError("option "+f+" must be "+g,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new AxiosError("Unknown option "+f,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(n){this.defaults=n,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(n,o){try{return await this._request(n,o)}catch(a){if(a instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;const f=l.stack?l.stack.replace(/^.+\n/,""):"";try{a.stack?f&&!String(a.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+f):a.stack=f}catch{}}throw a}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=mergeConfig(this.defaults,o);const{transitional:a,paramsSerializer:l,headers:f}=o;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),l!=null&&(utils$2.isFunction(l)?o.paramsSerializer={serialize:l}:validator.assertOptions(l,{encode:validators.function,serialize:validators.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let u=f&&utils$2.merge(f.common,f[o.method]);f&&utils$2.forEach(["delete","get","head","post","put","patch","common"],s=>{delete f[s]}),o.headers=AxiosHeaders.concat(u,f);const p=[];let g=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(o)===!1||(g=g&&m.synchronous,p.unshift(m.fulfilled,m.rejected))});const d=[];this.interceptors.response.forEach(function(m){d.push(m.fulfilled,m.rejected)});let c,t=0,e;if(!g){const s=[dispatchRequest.bind(this),void 0];for(s.unshift.apply(s,p),s.push.apply(s,d),e=s.length,c=Promise.resolve(o);t<e;)c=c.then(s[t++],s[t++]);return c}e=p.length;let i=o;for(t=0;t<e;){const s=p[t++],m=p[t++];try{i=s(i)}catch(b){m.call(this,b);break}}try{c=dispatchRequest.call(this,i)}catch(s){return Promise.reject(s)}for(t=0,e=d.length;t<e;)c=c.then(d[t++],d[t++]);return c}getUri(n){n=mergeConfig(this.defaults,n);const o=buildFullPath(n.baseURL,n.url);return buildURL(o,n.params,n.paramsSerializer)}}utils$2.forEach(["delete","get","head","options"],function(n){Axios.prototype[n]=function(o,a){return this.request(mergeConfig(a||{},{method:n,url:o,data:(a||{}).data}))}});utils$2.forEach(["post","put","patch"],function(n){function o(a){return function(f,u,p){return this.request(mergeConfig(p||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:f,data:u}))}}Axios.prototype[n]=o(),Axios.prototype[n+"Form"]=o(!0)});class CancelToken{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(f){o=f});const a=this;this.promise.then(l=>{if(!a._listeners)return;let f=a._listeners.length;for(;f-- >0;)a._listeners[f](l);a._listeners=null}),this.promise.then=l=>{let f;const u=new Promise(p=>{a.subscribe(p),f=p}).then(l);return u.cancel=function(){a.unsubscribe(f)},u},n(function(f,u,p){a.reason||(a.reason=new CanceledError(f,u,p),o(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const n=new AbortController,o=a=>{n.abort(a)};return this.subscribe(o),n.signal.unsubscribe=()=>this.unsubscribe(o),n.signal}static source(){let n;return{token:new CancelToken(function(l){n=l}),cancel:n}}}function spread(r){return function(o){return r.apply(null,o)}}function isAxiosError(r){return utils$2.isObject(r)&&r.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([r,n])=>{HttpStatusCode[n]=r});function createInstance(r){const n=new Axios(r),o=bind(Axios.prototype.request,n);return utils$2.extend(o,Axios.prototype,n,{allOwnKeys:!0}),utils$2.extend(o,n,null,{allOwnKeys:!0}),o.create=function(l){return createInstance(mergeConfig(r,l))},o}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(n){return Promise.all(n)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=r=>formDataToJSON(utils$2.isHTMLForm(r)?new FormData(r):r);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;const uid="uid",setNewUserId=()=>{const r=Math.random().toString(36).slice(2).toUpperCase();return localStorage.setItem(uid,r),r},getNewUserId=()=>localStorage.getItem("uid"),service=axios.create({baseURL:"/",timeout:3e4,responseType:"json"});service.interceptors.request.use(r=>(r.url.includes("stream")&&(r.timeout=3e3),window.location.search&&(r.url+=window.location.search),Object.assign(r.headers,ajaxHeader()),r));service.interceptors.response.use(r=>{let n=r.data;return(r==null?void 0:r.status)===200?Promise.resolve({code:0,message:"",data:n}):Promise.resolve({code:-1,message:"",data:null})},r=>{var o,a;const n={code:-1,message:((a=(o=r==null?void 0:r.response)==null?void 0:o.data)==null?void 0:a.detail)||"",data:null};return Promise.resolve(n)});const ajaxHeader=()=>(localStorage.getItem("uid")||setNewUserId(),{"Content-Type":"application/json;charset=UTF-8",Accept:"application/json",service:"minicpmo-server",uid:getNewUserId()}),useHttp={get(r,n,o={}){return service.get(r,{params:n,...o})},post(r,n,o={}){return service.post(r,n,{...o})}},sendMessage=r=>useHttp.post("/api/v1/stream",r),stopMessage=()=>useHttp.post("/api/v1/stop"),feedback=r=>useHttp.post("/api/v1/feedback",r),uploadConfig=r=>useHttp.post("/api/v1/init_options",r),_hoisted_1$4={class:"like-box"},_hoisted_2$4={key:0,src:_imports_0},_hoisted_3$4={key:1,src:_imports_1},_hoisted_4$4={key:0,src:_imports_2},_hoisted_5$4={key:1,src:_imports_3},_hoisted_6$4={class:"operate-btn"},_sfc_main$5={__name:"index",props:{feedbackStatus:{},feedbackStatusModifiers:{},curResponseId:{},curResponseIdModifiers:{}},emits:["update:feedbackStatus","update:curResponseId"],setup(r){const{t:n}=useI18n(),o=useModel(r,"feedbackStatus"),a=useModel(r,"curResponseId"),l=ref(!1),f=ref(""),u=ref(!1),p=c=>{a.value&&(o.value=c,l.value=!0)},g=async()=>{u.value=!0;const{code:c,message:t}=await feedback({response_id:a.value,rating:o.value,comment:f.value});if(u.value=!1,c!==0){ElMessage({type:"error",message:t,duration:3e3,customClass:"system-error"});return}ElMessage.success(""),l.value=!1,setTimeout(()=>{o.value=""},2e3)},d=()=>{l.value=!1,o.value=""};return(c,t)=>{const e=ElInput,i=ElButton,s=ElDialog;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$4,[createBaseVNode("div",{class:"like-btn",onClick:t[0]||(t[0]=m=>p("like"))},[o.value===""||o.value==="dislike"?(openBlock(),createElementBlock("img",_hoisted_2$4)):(openBlock(),createElementBlock("img",_hoisted_3$4))]),createBaseVNode("div",{class:"dislike-btn",onClick:t[1]||(t[1]=m=>p("dislike"))},[o.value===""||o.value==="like"?(openBlock(),createElementBlock("img",_hoisted_4$4)):(openBlock(),createElementBlock("img",_hoisted_5$4))])]),createVNode(s,{modelValue:unref(l),"onUpdate:modelValue":t[3]||(t[3]=m=>isRef(l)?l.value=m:null),title:unref(n)("feedbackDialogTitle"),width:"400","align-center":!0,onClose:d},{default:withCtx(()=>[createVNode(e,{type:"textarea",rows:4,modelValue:unref(f),"onUpdate:modelValue":t[2]||(t[2]=m=>isRef(f)?f.value=m:null)},null,8,["modelValue"]),createBaseVNode("div",_hoisted_6$4,[createVNode(i,{type:"primary",loading:unref(u),onClick:g},{default:withCtx(()=>t[4]||(t[4]=[createTextVNode("")])),_:1},8,["loading"]),createVNode(i,{onClick:d},{default:withCtx(()=>t[5]||(t[5]=[createTextVNode("")])),_:1})])]),_:1},8,["modelValue","title"])],64)}}},__unplugin_components_5=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-96baf8f0"]]),_hoisted_1$3={class:"output-area"},_hoisted_2$3={key:0,class:"user-input"},_hoisted_3$3=["src"],_hoisted_4$3={key:1,class:"bot-output"},_hoisted_5$3={class:"output-item"},_hoisted_6$3=["src"],_sfc_main$4={__name:"index",props:{outputData:{type:Array,default:()=>[]},containerClass:{type:String,default:""}},setup(r){const n=r;return watch(()=>n.outputData,o=>{nextTick(()=>{if(o&&n.containerClass){let a=document.querySelector(`.${n.containerClass}`);a&&(a.scrollTop=a.scrollHeight)}})},{deep:!0}),(o,a)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.outputData,(l,f)=>(openBlock(),createElementBlock("div",{class:normalizeClass(`output-area-item ${l.type==="USER"?"user-item":"bot-item"}`),key:f},[l.type==="USER"?(openBlock(),createElementBlock("div",_hoisted_2$3,[l.audio?(openBlock(),createElementBlock("audio",{key:0,src:l.audio,controls:""},null,8,_hoisted_3$3)):createCommentVNode("",!0)])):(openBlock(),createElementBlock("div",_hoisted_4$3,[createBaseVNode("div",_hoisted_5$3,toDisplayString(l.text),1),l.audio?(openBlock(),createElementBlock("audio",{key:0,src:l.audio,controls:""},null,8,_hoisted_6$3)):createCommentVNode("",!0)]))],2))),128))]))}},__unplugin_components_3=_export_sfc$1(_sfc_main$4,[["__scopeId","data-v-e21a63f8"]]),_sfc_main$3={__name:"index",props:{analyser:{type:Object},dataArray:{type:[Array,Uint8Array]},isCalling:{type:Boolean,default:!1},isPlaying:{type:Boolean,default:!1},boxStyle:{type:Object,default:()=>({height:"80px"})},itemStyle:{type:Object,default:()=>({width:"6px",margin:"0 2px",borderRadius:"5px"})},configList:{type:Array,default:()=>[]}},setup(r){const n=r,o=ref(),a=ref([]),l=ref("#4c5cf8"),f=computed(()=>g=>({height:g+"px",...n.itemStyle}));watch(()=>n.dataArray,g=>{g&&n.isCalling?(console.log("draw"),u()):(console.log("stop"),p())}),watch(()=>n.configList,g=>{g.length>0&&(a.value=g)},{immediate:!0}),watch(()=>n.isPlaying,g=>{g?l.value="#4dc100":l.value="#4c5cf8"});function u(){const g=document.querySelectorAll(".bar");if(g.length===0){cancelAnimationFrame(o.value);return}const d=document.querySelector(".bars").clientHeight,c=n.dataArray.reduce((e,i)=>e+i,0)/n.dataArray.length,t=n.isPlaying?Math.random():c/128;g.forEach((e,i)=>{const s=a.value[i],m=Math.random()*1.5+.5,b=Math.min(d,s+(d-s)*t*m);e.style.height=`${b}px`,e.style.backgroundColor=l.value}),o.value=requestAnimationFrame(u)}const p=()=>{o.value&&cancelAnimationFrame(o.value)};return(g,d)=>(openBlock(),createElementBlock("div",{class:"bars",id:"bars",style:normalizeStyle(r.boxStyle)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(a),(c,t)=>(openBlock(),createElementBlock("div",{class:"bar",key:t,style:normalizeStyle(unref(f)(c))},null,4))),128))],4))}},__unplugin_components_2=_export_sfc$1(_sfc_main$3,[["__scopeId","data-v-9feeb4b4"]]),writeString$1=(r,n,o)=>{for(let a=0;a<o.length;a++)r.setUint8(n+a,o.charCodeAt(a))},floatTo16BitPCM$1=(r,n,o)=>{for(let a=0;a<o.length;a++,n+=2){const l=Math.max(-1,Math.min(1,o[a]));r.setInt16(n,l<0?l*32768:l*32767,!0)}},encodeWAV$1=(r,n)=>{const o=new ArrayBuffer(44+r.length*2),a=new DataView(o),l=1,f=16;return writeString$1(a,0,"RIFF"),a.setUint32(4,36+r.length*2,!0),writeString$1(a,8,"WAVE"),writeString$1(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,l,!0),a.setUint32(24,n,!0),a.setUint32(28,n*l*f/8,!0),a.setUint16(32,l*f/8,!0),a.setUint16(34,f,!0),writeString$1(a,36,"data"),a.setUint32(40,r.length*2,!0),floatTo16BitPCM$1(a,44,r),new Blob([a],{type:"audio/wav"})};async function getBytes(r,n){const o=r.getReader();let a;for(;!(a=await o.read()).done;)n(a.value)}function getLines(r){let n,o,a,l=!1;return function(u){n===void 0?(n=u,o=0,a=-1):n=concat(n,u);const p=n.length;let g=0;for(;o<p;){l&&(n[o]===10&&(g=++o),l=!1);let d=-1;for(;o<p&&d===-1;++o)switch(n[o]){case 58:a===-1&&(a=o-g);break;case 13:l=!0;case 10:d=o;break}if(d===-1)break;r(n.subarray(g,d),a),g=o,a=-1}g===p?n=void 0:g!==0&&(n=n.subarray(g),o-=g)}}function getMessages(r,n,o){let a=newMessage();const l=new TextDecoder;return function(u,p){if(u.length===0)o==null||o(a),a=newMessage();else if(p>0){const g=l.decode(u.subarray(0,p)),d=p+(u[p+1]===32?2:1),c=l.decode(u.subarray(d));switch(g){case"data":a.data=a.data?a.data+`
`+c:c;break;case"event":a.event=c;break;case"id":r(a.id=c);break;case"retry":const t=parseInt(c,10);isNaN(t)||n(a.retry=t);break}}}}function concat(r,n){const o=new Uint8Array(r.length+n.length);return o.set(r),o.set(n,r.length),o}function newMessage(){return{data:"",event:"",id:"",retry:void 0}}var __rest=function(r,n){var o={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&n.indexOf(a)<0&&(o[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)n.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(o[a[l]]=r[a[l]]);return o};const EventStreamContentType="text/event-stream",DefaultRetryInterval=1e3,LastEventId="last-event-id";function fetchEventSource(r,n){var{signal:o,headers:a,onopen:l,onmessage:f,onclose:u,onerror:p,openWhenHidden:g,fetch:d}=n,c=__rest(n,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((t,e)=>{const i=Object.assign({},a);i.accept||(i.accept=EventStreamContentType);let s;function m(){s.abort(),document.hidden||_()}g||document.addEventListener("visibilitychange",m);let b=DefaultRetryInterval,y=0;function v(){document.removeEventListener("visibilitychange",m),window.clearTimeout(y),s.abort()}o==null||o.addEventListener("abort",()=>{v(),t()});const w=d??window.fetch,T=l??defaultOnOpen;async function _(){var x;s=new AbortController;try{const A=await w(r,Object.assign(Object.assign({},c),{headers:i,signal:s.signal}));await T(A),await getBytes(A.body,getLines(getMessages($=>{$?i[LastEventId]=$:delete i[LastEventId]},$=>{b=$},f))),u==null||u(),v(),t()}catch(A){if(!s.signal.aborted)try{const $=(x=p==null?void 0:p(A))!==null&&x!==void 0?x:b;window.clearTimeout(y),y=window.setTimeout(_,$)}catch($){v(),e($)}}}_()})}function defaultOnOpen(r){const n=r.headers.get("content-type");if(!(n!=null&&n.startsWith(EventStreamContentType)))throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${n}`)}var dist={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(r,n,o)=>{if(n&&typeof n.init=="function"&&typeof n.createSessionHandler=="function"){const a=backends[r];if(a===void 0)backends[r]={backend:n,priority:o};else{if(a.priority>o)return;if(a.priority===o&&a.backend!==n)throw new Error(`cannot register backend "${r}" using priority ${o}`)}if(o>=0){const l=backendsSortedByPriority.indexOf(r);l!==-1&&backendsSortedByPriority.splice(l,1);for(let f=0;f<backendsSortedByPriority.length;f++)if(backends[backendsSortedByPriority[f]].priority<=o){backendsSortedByPriority.splice(f,0,r);return}backendsSortedByPriority.push(r)}return}throw new TypeError("not a valid backend")},resolveBackend=async r=>{const n=r.length===0?backendsSortedByPriority:r,o=[];for(const a of n){const l=backends[a];if(l){if(l.initialized)return l.backend;if(l.aborted)continue;const f=!!l.initPromise;try{return f||(l.initPromise=l.backend.init()),await l.initPromise,l.initialized=!0,l.backend}catch(u){f||o.push({name:a,err:u}),l.aborted=!0}finally{delete l.initPromise}}}throw new Error(`no available backend found. ERR: ${o.map(a=>`[${a.name}] ${a.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);this.logLevelInternal=n}}get logLevel(){return this.logLevelInternal}}const env=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=r=>{let n=1;for(let o=0;o<r.length;o++){const a=r[o];if(typeof a!="number"||!Number.isSafeInteger(a))throw new TypeError(`dims[${o}] must be an integer, got: ${a}`);if(a<0)throw new RangeError(`dims[${o}] must be a non-negative integer, got: ${a}`);n*=a}return n};let Tensor$1=class Nr{constructor(n,o,a){let l,f,u;if(typeof n=="string")if(l=n,u=a,n==="string"){if(!Array.isArray(o))throw new TypeError("A string tensor's data must be a string array.");f=o}else{const g=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(n);if(g===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(o))f=g.from(o);else if(o instanceof g)f=o;else throw new TypeError(`A ${l} tensor's data must be type of ${g}`)}else if(u=o,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const g=typeof n[0];if(g==="string")l="string",f=n;else if(g==="boolean")l="bool",f=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${g}.`)}else{const g=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(n.constructor);if(g===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);l=g,f=n}if(u===void 0)u=[f.length];else if(!Array.isArray(u))throw new TypeError("A tensor's dims must be a number array");const p=calculateSize(u);if(p!==f.length)throw new Error(`Tensor's size(${p}) does not match data length(${f.length}).`);this.dims=u,this.type=l,this.data=f,this.size=p}static bufferToTensor(n,o){if(n===void 0)throw new Error("Image buffer must be defined");if(o.height===void 0||o.width===void 0)throw new Error("Image height and width must be defined");const{height:a,width:l}=o,f=o.norm;let u,p;f===void 0||f.mean===void 0?u=255:u=f.mean,f===void 0||f.bias===void 0?p=0:p=f.bias;const g=o.bitmapFormat!==void 0?o.bitmapFormat:"RGBA",d=o.tensorFormat!==void 0&&o.tensorFormat!==void 0?o.tensorFormat:"RGB",c=a*l,t=d==="RGBA"?new Float32Array(c*4):new Float32Array(c*3);let e=4,i=0,s=1,m=2,b=3,y=0,v=c,w=c*2,T=-1;g==="RGB"&&(e=3,i=0,s=1,m=2,b=-1),d==="RGBA"?T=c*3:d==="RBG"?(y=0,w=c,v=c*2):d==="BGR"&&(w=0,v=c,y=c*2);for(let x=0;x<c;x++,i+=e,m+=e,s+=e,b+=e)t[y++]=(n[i]+p)/u,t[v++]=(n[s]+p)/u,t[w++]=(n[m]+p)/u,T!==-1&&b!==-1&&(t[T++]=(n[b]+p)/u);return d==="RGBA"?new Nr("float32",t,[1,4,a,l]):new Nr("float32",t,[1,3,a,l])}static async fromImage(n,o){const a=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,l=typeof ImageData<"u"&&n instanceof ImageData,f=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,u=typeof String<"u"&&(n instanceof String||typeof n=="string");let p,g={};if(a){const d=document.createElement("canvas"),c=d.getContext("2d");if(c!=null){let t=n.naturalHeight,e=n.naturalWidth;if(o!==void 0&&o.resizedHeight!==void 0&&o.resizedWidth!==void 0&&(t=o.resizedHeight,e=o.resizedWidth),o!==void 0){if(g=o,o.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(g.tensorFormat="RGBA",o.height!==void 0&&o.height!==t)throw new Error("Image input config height doesn't match HTMLImageElement height");if(g.height=t,o.width!==void 0&&o.width!==e)throw new Error("Image input config width doesn't match HTMLImageElement width");g.width=e}else g.tensorFormat="RGBA",g.height=t,g.width=e;d.width=e,d.height=t,c.drawImage(n,0,0,e,t),p=c.getImageData(0,0,e,t).data}else throw new Error("Can not access image data")}else if(l){const d="RGBA";let c,t;if(o!==void 0&&o.resizedWidth!==void 0&&o.resizedHeight!==void 0?(c=o.resizedHeight,t=o.resizedWidth):(c=n.height,t=n.width),o!==void 0){if(g=o,o.bitmapFormat!==void 0&&o.bitmapFormat!==d)throw new Error("Image input config format must be RGBA for ImageData");g.bitmapFormat="RGBA"}else g.bitmapFormat="RGBA";if(g.height=c,g.width=t,o!==void 0){const e=document.createElement("canvas");e.width=t,e.height=c;const i=e.getContext("2d");if(i!=null)i.putImageData(n,0,0),p=i.getImageData(0,0,t,c).data;else throw new Error("Can not access image data")}else p=n.data}else if(f){if(o===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(o.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const d=document.createElement("canvas").getContext("2d");if(d!=null){const c=n.height,t=n.width;if(d.drawImage(n,0,0,t,c),p=d.getImageData(0,0,t,c).data,o!==void 0){if(o.height!==void 0&&o.height!==c)throw new Error("Image input config height doesn't match ImageBitmap height");if(g.height=c,o.width!==void 0&&o.width!==t)throw new Error("Image input config width doesn't match ImageBitmap width");g.width=t}else g.height=c,g.width=t;return Nr.bufferToTensor(p,g)}else throw new Error("Can not access image data")}else{if(u)return new Promise((d,c)=>{const t=document.createElement("canvas"),e=t.getContext("2d");if(!n||!e)return c();const i=new Image;i.crossOrigin="Anonymous",i.src=n,i.onload=()=>{t.width=i.width,t.height=i.height,e.drawImage(i,0,0,t.width,t.height);const s=e.getImageData(0,0,t.width,t.height);if(o!==void 0){if(o.height!==void 0&&o.height!==t.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(g.height=t.height,o.width!==void 0&&o.width!==t.width)throw new Error("Image input config width doesn't match ImageBitmap width");g.width=t.width}else g.height=t.height,g.width=t.width;d(Nr.bufferToTensor(s.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(p!==void 0)return Nr.bufferToTensor(p,g);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(n){var o,a;const l=document.createElement("canvas").getContext("2d");let f;if(l!=null){const u=this.dims[3],p=this.dims[2],g=this.dims[1],d=n!==void 0&&n.format!==void 0?n.format:"RGB",c=n!==void 0&&((o=n.norm)===null||o===void 0?void 0:o.mean)!==void 0?n.norm.mean:255,t=n!==void 0&&((a=n.norm)===null||a===void 0?void 0:a.bias)!==void 0?n.norm.bias:0,e=p*u;if(n!==void 0){if(n.height!==void 0&&n.height!==p)throw new Error("Image output config height doesn't match tensor height");if(n.width!==void 0&&n.width!==u)throw new Error("Image output config width doesn't match tensor width");if(n.format!==void 0&&g===4&&n.format!=="RGBA"||g===3&&n.format!=="RGB"&&n.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const i=4;let s=0,m=1,b=2,y=3,v=0,w=e,T=e*2,_=-1;d==="RGBA"?(v=0,w=e,T=e*2,_=e*3):d==="RGB"?(v=0,w=e,T=e*2):d==="RBG"&&(v=0,T=e,w=e*2),f=l.createImageData(u,p);for(let x=0;x<p*u;s+=i,m+=i,b+=i,y+=i,x++)f.data[s]=(this.data[v++]-t)*c,f.data[m]=(this.data[w++]-t)*c,f.data[b]=(this.data[T++]-t)*c,f.data[y]=_===-1?255:(this.data[_++]-t)*c}else throw new Error("Can not access image data");return f}reshape(n){return new Nr(this.type,this.data,n)}};const Tensor=Tensor$1;let InferenceSession$1=class go{constructor(n){this.handler=n}async run(n,o,a){const l={};let f={};if(typeof n!="object"||n===null||n instanceof Tensor||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let u=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");u=!1;for(const d of o){if(typeof d!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(d)===-1)throw new RangeError(`'fetches' contains invalid output name: ${d}.`);l[d]=null}if(typeof a=="object"&&a!==null)f=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else{let d=!1;const c=Object.getOwnPropertyNames(o);for(const t of this.outputNames)if(c.indexOf(t)!==-1){const e=o[t];(e===null||e instanceof Tensor)&&(d=!0,u=!1,l[t]=e)}if(d){if(typeof a=="object"&&a!==null)f=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else f=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const d of this.inputNames)if(typeof n[d]>"u")throw new Error(`input '${d}' is missing in 'feeds'.`);if(u)for(const d of this.outputNames)l[d]=null;const p=await this.handler.run(n,l,f),g={};for(const d in p)Object.hasOwnProperty.call(p,d)&&(g[d]=new Tensor(p[d].type,p[d].data,p[d].dims));return g}static async create(n,o,a,l){let f,u={};if(typeof n=="string"){if(f=n,typeof o=="object"&&o!==null)u=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(f=n,typeof o=="object"&&o!==null)u=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){const t=n;let e=0,i=n.byteLength;if(typeof o=="object"&&o!==null)u=o;else if(typeof o=="number"){if(e=o,!Number.isSafeInteger(e))throw new RangeError("'byteOffset' must be an integer.");if(e<0||e>=t.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${t.byteLength}).`);if(i=n.byteLength-e,typeof a=="number"){if(i=a,!Number.isSafeInteger(i))throw new RangeError("'byteLength' must be an integer.");if(i<=0||e+i>t.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${t.byteLength-e}].`);if(typeof l=="object"&&l!==null)u=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else if(typeof a<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof o<"u")throw new TypeError("'options' must be an object.");f=new Uint8Array(t,e,i)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const g=(u.executionProviders||[]).map(t=>typeof t=="string"?t:t.name),c=await(await resolveBackend(g)).createSessionHandler(f,u);return new go(c)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(r,n){module.exports=n(require$$0)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(r,n,o)=>{var a,l=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(f){function u(){return pe.buffer!=Et&&Un(pe.buffer),Fe}function p(){return pe.buffer!=Et&&Un(pe.buffer),Dt}function g(){return pe.buffer!=Et&&Un(pe.buffer),_n}function d(){return pe.buffer!=Et&&Un(pe.buffer),At}function c(){return pe.buffer!=Et&&Un(pe.buffer),Pn}var t,e,i;f=f||{},t||(t=f!==void 0?f:{}),t.ready=new Promise(function(O,F){e=O,i=F});var s,m,b,y,v,w,T=Object.assign({},t),_="./this.program",x=(O,F)=>{throw F},A=typeof window=="object",$=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",k=t.ENVIRONMENT_IS_PTHREAD||!1,V="";function oe(O){return t.locateFile?t.locateFile(O,V):V+O}if(S){let O;V=$?o(908).dirname(V)+"/":"//",w=()=>{v||(y=o(1384),v=o(908))},s=function(F,L){return w(),F=v.normalize(F),y.readFileSync(F,L?void 0:"utf8")},b=F=>((F=s(F,!0)).buffer||(F=new Uint8Array(F)),F),m=(F,L,ae)=>{w(),F=v.normalize(F),y.readFile(F,function(de,Ce){de?ae(de):L(Ce.buffer)})},1<process.argv.length&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(F){if(!(F instanceof sr))throw F}),process.on("unhandledRejection",function(F){throw F}),x=(F,L)=>{if(Lt())throw process.exitCode=F,L;L instanceof sr||re("exiting due to exception: "+L),process.exit(F)},t.inspect=function(){return"[Emscripten Module object]"};try{O=o(9925)}catch(F){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),F}o.g.Worker=O.Worker}else(A||$)&&($?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),a&&(V=a),V=V.indexOf("blob:")!==0?V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S||(s=O=>{var F=new XMLHttpRequest;return F.open("GET",O,!1),F.send(null),F.responseText},$&&(b=O=>{var F=new XMLHttpRequest;return F.open("GET",O,!1),F.responseType="arraybuffer",F.send(null),new Uint8Array(F.response)}),m=(O,F,L)=>{var ae=new XMLHttpRequest;ae.open("GET",O,!0),ae.responseType="arraybuffer",ae.onload=()=>{ae.status==200||ae.status==0&&ae.response?F(ae.response):L()},ae.onerror=L,ae.send(null)}));S&&typeof performance>"u"&&(o.g.performance=o(6953).performance);var Y=console.log.bind(console),ie=console.warn.bind(console);S&&(w(),Y=O=>y.writeSync(1,O+`
`),ie=O=>y.writeSync(2,O+`
`));var z,M=t.print||Y,re=t.printErr||ie;Object.assign(t,T),T=null,t.thisProgram&&(_=t.thisProgram),t.quit&&(x=t.quit),t.wasmBinary&&(z=t.wasmBinary);var Ne=t.noExitRuntime||!1;typeof WebAssembly!="object"&&xe("no native wasm support detected");var pe,Ve,Et,Fe,Dt,_n,At,Pn,Ue=!1,$n=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Jn(O,F,L){var ae=(F>>>=0)+L;for(L=F;O[L]&&!(L>=ae);)++L;if(16<L-F&&O.buffer&&$n)return $n.decode(O.buffer instanceof SharedArrayBuffer?O.slice(F,L):O.subarray(F,L));for(ae="";F<L;){var de=O[F++];if(128&de){var Ce=63&O[F++];if((224&de)==192)ae+=String.fromCharCode((31&de)<<6|Ce);else{var Pt=63&O[F++];65536>(de=(240&de)==224?(15&de)<<12|Ce<<6|Pt:(7&de)<<18|Ce<<12|Pt<<6|63&O[F++])?ae+=String.fromCharCode(de):(de-=65536,ae+=String.fromCharCode(55296|de>>10,56320|1023&de))}}else ae+=String.fromCharCode(de)}return ae}function Dn(O,F){return(O>>>=0)?Jn(p(),O,F):""}function Nn(O,F,L,ae){if(!(0<ae))return 0;var de=L>>>=0;ae=L+ae-1;for(var Ce=0;Ce<O.length;++Ce){var Pt=O.charCodeAt(Ce);if(55296<=Pt&&57343>=Pt&&(Pt=65536+((1023&Pt)<<10)|1023&O.charCodeAt(++Ce)),127>=Pt){if(L>=ae)break;F[L++>>>0]=Pt}else{if(2047>=Pt){if(L+1>=ae)break;F[L++>>>0]=192|Pt>>6}else{if(65535>=Pt){if(L+2>=ae)break;F[L++>>>0]=224|Pt>>12}else{if(L+3>=ae)break;F[L++>>>0]=240|Pt>>18,F[L++>>>0]=128|Pt>>12&63}F[L++>>>0]=128|Pt>>6&63}F[L++>>>0]=128|63&Pt}}return F[L>>>0]=0,L-de}function Wn(O){for(var F=0,L=0;L<O.length;++L){var ae=O.charCodeAt(L);127>=ae?F++:2047>=ae?F+=2:55296<=ae&&57343>=ae?(F+=4,++L):F+=3}return F}function Un(O){Et=O,t.HEAP8=Fe=new Int8Array(O),t.HEAP16=new Int16Array(O),t.HEAP32=_n=new Int32Array(O),t.HEAPU8=Dt=new Uint8Array(O),t.HEAPU16=new Uint16Array(O),t.HEAPU32=At=new Uint32Array(O),t.HEAPF32=new Float32Array(O),t.HEAPF64=Pn=new Float64Array(O)}k&&(Et=t.buffer);var Rn=t.INITIAL_MEMORY||16777216;if(k)pe=t.wasmMemory,Et=t.buffer;else if(t.wasmMemory)pe=t.wasmMemory;else if(!((pe=new WebAssembly.Memory({initial:Rn/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw re("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),S&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");pe&&(Et=pe.buffer),Rn=Et.byteLength,Un(Et);var er,tr=[],Zn=[],Tn=[],xn=[];function Lt(){return Ne||!1}function vn(){var O=t.preRun.shift();tr.unshift(O)}var En,Ln=0,Kn=null;function xe(O){throw k?postMessage({cmd:"onAbort",arg:O}):t.onAbort&&t.onAbort(O),re(O="Aborted("+O+")"),Ue=!0,O=new WebAssembly.RuntimeError(O+". Build with -sASSERTIONS for more info."),i(O),O}function In(){return En.startsWith("data:application/octet-stream;base64,")}function Yn(){var O=En;try{if(O==En&&z)return new Uint8Array(z);if(b)return b(O);throw"both async and sync fetching of the wasm failed"}catch(F){xe(F)}}En="ort-wasm-threaded.wasm",In()||(En=oe(En));var nr={};function sr(O){this.name="ExitStatus",this.message="Program terminated with exit("+O+")",this.status=O}function cr(O){(O=ze.Vb[O])||xe(),ze.mc(O)}function gr(O){var F=ze.Cc();if(!F)return 6;ze.ac.push(F),ze.Vb[O.Ub]=F,F.Ub=O.Ub;var L={cmd:"run",start_routine:O.Ic,arg:O.zc,pthread_ptr:O.Ub};return F.$b=()=>{L.time=performance.now(),F.postMessage(L,O.Nc)},F.loaded&&(F.$b(),delete F.$b),0}function hn(O){if(k)return jt(1,1,O);Lt()||(ze.oc(),t.onExit&&t.onExit(O),Ue=!0),x(O,new sr(O))}function On(O,F){if(!F&&k)throw ur(O),"unwind";Lt()||k||(Jr(),zn(Tn),Xr(0),Vr[1].length&&jr(1,10),Vr[2].length&&jr(2,10),ze.oc()),hn(O)}var ze={Yb:[],ac:[],qc:[],Vb:{},fc:function(){k&&ze.Ec()},Pc:function(){},Ec:function(){ze.receiveObjectTransfer=ze.Gc,ze.threadInitTLS=ze.pc,ze.setExitStatus=ze.nc,Ne=!1},nc:function(){},oc:function(){for(var O of Object.values(ze.Vb))ze.mc(O);for(O of ze.Yb)O.terminate();ze.Yb=[]},mc:function(O){var F=O.Ub;delete ze.Vb[F],ze.Yb.push(O),ze.ac.splice(ze.ac.indexOf(O),1),O.Ub=0,zr(F)},Gc:function(){},pc:function(){ze.qc.forEach(O=>O())},Fc:function(O,F){O.onmessage=L=>{var ae=(L=L.data).cmd;if(O.Ub&&(ze.Bc=O.Ub),L.targetThread&&L.targetThread!=Fr()){var de=ze.Vb[L.Qc];de?de.postMessage(L,L.transferList):re('Internal error! Worker sent a message "'+ae+'" to target pthread '+L.targetThread+", but that thread no longer exists!")}else ae==="processProxyingQueue"?ue(L.queue):ae==="spawnThread"?gr(L):ae==="cleanupThread"?cr(L.thread):ae==="killThread"?(L=L.thread,ae=ze.Vb[L],delete ze.Vb[L],ae.terminate(),zr(L),ze.ac.splice(ze.ac.indexOf(ae),1),ae.Ub=0):ae==="cancelThread"?ze.Vb[L.thread].postMessage({cmd:"cancel"}):ae==="loaded"?(O.loaded=!0,F&&F(O),O.$b&&(O.$b(),delete O.$b)):ae==="print"?M("Thread "+L.threadId+": "+L.text):ae==="printErr"?re("Thread "+L.threadId+": "+L.text):ae==="alert"?alert("Thread "+L.threadId+": "+L.text):L.target==="setimmediate"?O.postMessage(L):ae==="onAbort"?t.onAbort&&t.onAbort(L.arg):ae&&re("worker sent an unknown command "+ae);ze.Bc=void 0},O.onerror=L=>{throw re("worker sent an error! "+L.filename+":"+L.lineno+": "+L.message),L},S&&(O.on("message",function(L){O.onmessage({data:L})}),O.on("error",function(L){O.onerror(L)}),O.on("detachedExit",function(){})),O.postMessage({cmd:"load",urlOrBlob:t.mainScriptUrlOrBlob||a,wasmMemory:pe,wasmModule:Ve})},yc:function(){var O=oe("ort-wasm-threaded.worker.js");ze.Yb.push(new Worker(O))},Cc:function(){return ze.Yb.length==0&&(ze.yc(),ze.Fc(ze.Yb[0])),ze.Yb.pop()}};function zn(O){for(;0<O.length;)O.shift()(t)}function rr(O){var F=Mn();return O=O(),Fn(F),O}function ur(O){if(k)return jt(2,0,O);try{On(O)}catch(F){F instanceof sr||F=="unwind"||x(1,F)}}t.PThread=ze,t.establishStackSpace=function(){var O=Fr(),F=g()[O+44>>2>>>0];O=g()[O+48>>2>>>0],no(F,F-O),Fn(F)};var or=[];function kn(O){var F=or[O];return F||(O>=or.length&&(or.length=O+1),or[O]=F=er.get(O)),F}t.invokeEntryPoint=function(O,F){O=kn(O)(F),Lt()?ze.nc(O):to(O)};var lr,pr,dr=[],Sn=0,An=0;function Cn(O){this.Zb=O,this.Sb=O-24,this.xc=function(F){d()[this.Sb+4>>2>>>0]=F},this.bc=function(){return d()[this.Sb+4>>2>>>0]},this.wc=function(F){d()[this.Sb+8>>2>>>0]=F},this.Dc=function(){return d()[this.Sb+8>>2>>>0]},this.rc=function(){g()[this.Sb>>2>>>0]=0},this.hc=function(F){F=F?1:0,u()[this.Sb+12>>0>>>0]=F},this.uc=function(){return u()[this.Sb+12>>0>>>0]!=0},this.ic=function(F){F=F?1:0,u()[this.Sb+13>>0>>>0]=F},this.kc=function(){return u()[this.Sb+13>>0>>>0]!=0},this.fc=function(F,L){this.cc(0),this.xc(F),this.wc(L),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(g(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(g(),this.Sb>>2,1)===1},this.cc=function(F){d()[this.Sb+16>>2>>>0]=F},this.tc=function(){return d()[this.Sb+16>>2>>>0]},this.vc=function(){if(ro(this.bc()))return d()[this.Zb>>2>>>0];var F=this.tc();return F!==0?F:this.Zb}}function Er(O){return Yr(new Cn(O).Sb)}function _r(O,F,L,ae){return k?jt(3,1,O,F,L,ae):Ar(O,F,L,ae)}function Ar(O,F,L,ae){if(typeof SharedArrayBuffer>"u")return re("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var de=[];return k&&de.length===0?_r(O,F,L,ae):(O={Ic:L,Ub:O,zc:ae,Nc:de},k?(O.Oc="spawnThread",postMessage(O,de),0):gr(O))}function vr(O,F,L){return k?jt(4,1,O,F,L):0}function Or(O,F){if(k)return jt(5,1,O,F)}function Cr(O,F){if(k)return jt(6,1,O,F)}function Pr(O,F,L){if(k)return jt(7,1,O,F,L)}function Sr(O,F,L){return k?jt(8,1,O,F,L):0}function Ir(O,F){if(k)return jt(9,1,O,F)}function $r(O,F,L){if(k)return jt(10,1,O,F,L)}function kr(O,F,L,ae){if(k)return jt(11,1,O,F,L,ae)}function Dr(O,F,L,ae){if(k)return jt(12,1,O,F,L,ae)}function Oe(O,F,L,ae){if(k)return jt(13,1,O,F,L,ae)}function kt(O){if(k)return jt(14,1,O)}function D(O,F){if(k)return jt(15,1,O,F)}function j(O,F,L){if(k)return jt(16,1,O,F,L)}function ue(O){Atomics.store(g(),O>>2,1),Fr()&&eo(O),Atomics.compareExchange(g(),O>>2,1,0)}function le(O){return d()[O>>>2]+4294967296*g()[O+4>>>2]}function he(O,F,L,ae,de,Ce){return k?jt(17,1,O,F,L,ae,de,Ce):-52}function _e(O,F,L,ae,de,Ce){if(k)return jt(18,1,O,F,L,ae,de,Ce)}function qe(O){var F=Wn(O)+1,L=Ur(F);return L&&Nn(O,u(),L,F),L}function bn(O,F,L){function ae(Hn){return(Hn=Hn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Hn[1]:"GMT"}if(k)return jt(19,1,O,F,L);var de=new Date().getFullYear(),Ce=new Date(de,0,1),Pt=new Date(de,6,1);de=Ce.getTimezoneOffset();var wn=Pt.getTimezoneOffset(),jn=Math.max(de,wn);g()[O>>2>>>0]=60*jn,g()[F>>2>>>0]=+(de!=wn),O=ae(Ce),F=ae(Pt),O=qe(O),F=qe(F),wn<de?(d()[L>>2>>>0]=O,d()[L+4>>2>>>0]=F):(d()[L>>2>>>0]=F,d()[L+4>>2>>>0]=O)}function jt(O,F){var L=arguments.length-2,ae=arguments;return rr(()=>{for(var de=Hr(8*L),Ce=de>>3,Pt=0;Pt<L;Pt++){var wn=ae[2+Pt];c()[Ce+Pt>>>0]=wn}return Qr(O,L,de,F)})}t.executeNotifiedProxyingQueue=ue,pr=S?()=>{var O=process.hrtime();return 1e3*O[0]+O[1]/1e6}:k?()=>performance.now()-t.__performance_now_clock_drift:()=>performance.now();var Bn,Xn=[],hr={};function fr(){if(!Bn){var O,F={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(O in hr)hr[O]===void 0?delete F[O]:F[O]=hr[O];var L=[];for(O in F)L.push(O+"="+F[O]);Bn=L}return Bn}function Ie(O,F){if(k)return jt(20,1,O,F);var L=0;return fr().forEach(function(ae,de){var Ce=F+L;for(de=d()[O+4*de>>2>>>0]=Ce,Ce=0;Ce<ae.length;++Ce)u()[de++>>0>>>0]=ae.charCodeAt(Ce);u()[de>>0>>>0]=0,L+=ae.length+1}),0}function Gn(O,F){if(k)return jt(21,1,O,F);var L=fr();d()[O>>2>>>0]=L.length;var ae=0;return L.forEach(function(de){ae+=de.length+1}),d()[F>>2>>>0]=ae,0}function Qn(O){return k?jt(22,1,O):52}function br(O,F,L,ae){return k?jt(23,1,O,F,L,ae):52}function Tr(O,F,L,ae,de){return k?jt(24,1,O,F,L,ae,de):70}var Vr=[null,[],[]];function jr(O,F){var L=Vr[O];F===0||F===10?((O===1?M:re)(Jn(L,0)),L.length=0):L.push(F)}function Gr(O,F,L,ae){if(k)return jt(25,1,O,F,L,ae);for(var de=0,Ce=0;Ce<L;Ce++){var Pt=d()[F>>2>>>0],wn=d()[F+4>>2>>>0];F+=8;for(var jn=0;jn<wn;jn++)jr(O,p()[Pt+jn>>>0]);de+=wn}return d()[ae>>2>>>0]=de,0}var mr=0;function Br(O){return O%4==0&&(O%100!=0||O%400==0)}var Wr=[31,29,31,30,31,30,31,31,30,31,30,31],qr=[31,28,31,30,31,30,31,31,30,31,30,31];function Kr(O,F,L,ae){function de($e,qn,ir){for($e=typeof $e=="number"?$e.toString():$e||"";$e.length<qn;)$e=ir[0]+$e;return $e}function Ce($e,qn){return de($e,qn,"0")}function Pt($e,qn){function ir(Rr){return 0>Rr?-1:0<Rr?1:0}var xr;return(xr=ir($e.getFullYear()-qn.getFullYear()))===0&&(xr=ir($e.getMonth()-qn.getMonth()))===0&&(xr=ir($e.getDate()-qn.getDate())),xr}function wn($e){switch($e.getDay()){case 0:return new Date($e.getFullYear()-1,11,29);case 1:return $e;case 2:return new Date($e.getFullYear(),0,3);case 3:return new Date($e.getFullYear(),0,2);case 4:return new Date($e.getFullYear(),0,1);case 5:return new Date($e.getFullYear()-1,11,31);case 6:return new Date($e.getFullYear()-1,11,30)}}function jn($e){var qn=$e.Wb;for($e=new Date(new Date($e.Xb+1900,0,1).getTime());0<qn;){var ir=$e.getMonth(),xr=(Br($e.getFullYear())?Wr:qr)[ir];if(!(qn>xr-$e.getDate())){$e.setDate($e.getDate()+qn);break}qn-=xr-$e.getDate()+1,$e.setDate(1),11>ir?$e.setMonth(ir+1):($e.setMonth(0),$e.setFullYear($e.getFullYear()+1))}return ir=new Date($e.getFullYear()+1,0,4),qn=wn(new Date($e.getFullYear(),0,4)),ir=wn(ir),0>=Pt(qn,$e)?0>=Pt(ir,$e)?$e.getFullYear()+1:$e.getFullYear():$e.getFullYear()-1}var Hn=g()[ae+40>>2>>>0];for(var ar in ae={Lc:g()[ae>>2>>>0],Kc:g()[ae+4>>2>>>0],dc:g()[ae+8>>2>>>0],jc:g()[ae+12>>2>>>0],ec:g()[ae+16>>2>>>0],Xb:g()[ae+20>>2>>>0],Tb:g()[ae+24>>2>>>0],Wb:g()[ae+28>>2>>>0],Rc:g()[ae+32>>2>>>0],Jc:g()[ae+36>>2>>>0],Mc:Hn?Dn(Hn):""},L=Dn(L),Hn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})L=L.replace(new RegExp(ar,"g"),Hn[ar]);var wr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),yr="January February March April May June July August September October November December".split(" ");for(ar in Hn={"%a":function($e){return wr[$e.Tb].substring(0,3)},"%A":function($e){return wr[$e.Tb]},"%b":function($e){return yr[$e.ec].substring(0,3)},"%B":function($e){return yr[$e.ec]},"%C":function($e){return Ce(($e.Xb+1900)/100|0,2)},"%d":function($e){return Ce($e.jc,2)},"%e":function($e){return de($e.jc,2," ")},"%g":function($e){return jn($e).toString().substring(2)},"%G":function($e){return jn($e)},"%H":function($e){return Ce($e.dc,2)},"%I":function($e){return($e=$e.dc)==0?$e=12:12<$e&&($e-=12),Ce($e,2)},"%j":function($e){for(var qn=0,ir=0;ir<=$e.ec-1;qn+=(Br($e.Xb+1900)?Wr:qr)[ir++]);return Ce($e.jc+qn,3)},"%m":function($e){return Ce($e.ec+1,2)},"%M":function($e){return Ce($e.Kc,2)},"%n":function(){return`
`},"%p":function($e){return 0<=$e.dc&&12>$e.dc?"AM":"PM"},"%S":function($e){return Ce($e.Lc,2)},"%t":function(){return"	"},"%u":function($e){return $e.Tb||7},"%U":function($e){return Ce(Math.floor(($e.Wb+7-$e.Tb)/7),2)},"%V":function($e){var qn=Math.floor(($e.Wb+7-($e.Tb+6)%7)/7);if(2>=($e.Tb+371-$e.Wb-2)%7&&qn++,qn)qn==53&&((ir=($e.Tb+371-$e.Wb)%7)==4||ir==3&&Br($e.Xb)||(qn=1));else{qn=52;var ir=($e.Tb+7-$e.Wb-1)%7;(ir==4||ir==5&&Br($e.Xb%400-1))&&qn++}return Ce(qn,2)},"%w":function($e){return $e.Tb},"%W":function($e){return Ce(Math.floor(($e.Wb+7-($e.Tb+6)%7)/7),2)},"%y":function($e){return($e.Xb+1900).toString().substring(2)},"%Y":function($e){return $e.Xb+1900},"%z":function($e){var qn=0<=($e=$e.Jc);return $e=Math.abs($e)/60,(qn?"+":"-")+("0000"+($e/60*100+$e%60)).slice(-4)},"%Z":function($e){return $e.Mc},"%%":function(){return"%"}},L=L.replace(/%%/g,"\0\0"),Hn)L.includes(ar)&&(L=L.replace(new RegExp(ar,"g"),Hn[ar](ae)));return ar=function($e){var qn=Array(Wn($e)+1);return Nn($e,qn,0,qn.length),qn}(L=L.replace(/\0\0/g,"%")),ar.length>F?0:(function($e,qn){u().set($e,qn>>>0)}(ar,O),ar.length-1)}ze.fc();var bo=[null,hn,ur,_r,vr,Or,Cr,Pr,Sr,Ir,$r,kr,Dr,Oe,kt,D,j,he,_e,bn,Ie,Gn,Qn,br,Tr,Gr],yo={b:function(O){return Ur(O+24)+24},n:function(O){return(O=new Cn(O)).uc()||(O.hc(!0),Sn--),O.ic(!1),dr.push(O),O.sc(),O.vc()},ma:function(O){throw re("Unexpected exception thrown, this is not properly supported - aborting"),Ue=!0,O},x:function(){Vn(0);var O=dr.pop();if(O.Hc()&&!O.kc()){var F=O.Dc();F&&kn(F)(O.Zb),Er(O.Zb)}An=0},e:function(){var O=An;if(!O)return mr=0;var F=new Cn(O);F.cc(O);var L=F.bc();if(!L)return mr=0,O;for(var ae=Array.prototype.slice.call(arguments),de=0;de<ae.length;de++){var Ce=ae[de];if(Ce===0||Ce===L)break;if(Lr(Ce,L,F.Sb+16))return mr=Ce,O}return mr=L,O},l:function(){var O=An;if(!O)return mr=0;var F=new Cn(O);F.cc(O);var L=F.bc();if(!L)return mr=0,O;for(var ae=Array.prototype.slice.call(arguments),de=0;de<ae.length;de++){var Ce=ae[de];if(Ce===0||Ce===L)break;if(Lr(Ce,L,F.Sb+16))return mr=Ce,O}return mr=L,O},h:function(){var O=An;if(!O)return mr=0;var F=new Cn(O);F.cc(O);var L=F.bc();if(!L)return mr=0,O;for(var ae=Array.prototype.slice.call(arguments),de=0;de<ae.length;de++){var Ce=ae[de];if(Ce===0||Ce===L)break;if(Lr(Ce,L,F.Sb+16))return mr=Ce,O}return mr=L,O},t:Er,M:function(){var O=dr.pop();O||xe("no exception to throw");var F=O.Zb;throw O.kc()||(dr.push(O),O.ic(!0),O.hc(!1),Sn++),An=F,F},c:function(O,F,L){throw new Cn(O).fc(F,L),An=O,Sn++,O},pa:function(){return Sn},Fa:function(O){Zr(O,!$,1,!A),ze.pc()},T:function(O){k?postMessage({cmd:"cleanupThread",thread:O}):cr(O)},xa:Ar,j:function(O){throw An||(An=O),O},H:vr,Ma:Or,ua:Cr,wa:Pr,oa:Sr,Ka:Ir,Ca:$r,Ja:kr,V:Dr,va:Oe,sa:kt,La:D,ta:j,Ta:function(){},X:function(){xe("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){xe("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(O,F,L,ae){if(O==F)setTimeout(()=>ue(ae));else if(k)postMessage({targetThread:O,cmd:"processProxyingQueue",queue:ae});else{if(!(O=ze.Vb[O]))return;O.postMessage({cmd:"processProxyingQueue",queue:ae})}return 1},Ea:function(){return-1},Pa:function(O,F){O=new Date(1e3*le(O)),g()[F>>2>>>0]=O.getUTCSeconds(),g()[F+4>>2>>>0]=O.getUTCMinutes(),g()[F+8>>2>>>0]=O.getUTCHours(),g()[F+12>>2>>>0]=O.getUTCDate(),g()[F+16>>2>>>0]=O.getUTCMonth(),g()[F+20>>2>>>0]=O.getUTCFullYear()-1900,g()[F+24>>2>>>0]=O.getUTCDay(),O=(O.getTime()-Date.UTC(O.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,g()[F+28>>2>>>0]=O},Qa:function(O,F){O=new Date(1e3*le(O)),g()[F>>2>>>0]=O.getSeconds(),g()[F+4>>2>>>0]=O.getMinutes(),g()[F+8>>2>>>0]=O.getHours(),g()[F+12>>2>>>0]=O.getDate(),g()[F+16>>2>>>0]=O.getMonth(),g()[F+20>>2>>>0]=O.getFullYear()-1900,g()[F+24>>2>>>0]=O.getDay();var L=new Date(O.getFullYear(),0,1),ae=(O.getTime()-L.getTime())/864e5|0;g()[F+28>>2>>>0]=ae,g()[F+36>>2>>>0]=-60*O.getTimezoneOffset(),ae=new Date(O.getFullYear(),6,1).getTimezoneOffset(),O=0|(ae!=(L=L.getTimezoneOffset())&&O.getTimezoneOffset()==Math.min(L,ae)),g()[F+32>>2>>>0]=O},Ra:function(O){var F=new Date(g()[O+20>>2>>>0]+1900,g()[O+16>>2>>>0],g()[O+12>>2>>>0],g()[O+8>>2>>>0],g()[O+4>>2>>>0],g()[O>>2>>>0],0),L=g()[O+32>>2>>>0],ae=F.getTimezoneOffset(),de=new Date(F.getFullYear(),0,1),Ce=new Date(F.getFullYear(),6,1).getTimezoneOffset(),Pt=de.getTimezoneOffset(),wn=Math.min(Pt,Ce);return 0>L?g()[O+32>>2>>>0]=+(Ce!=Pt&&wn==ae):0<L!=(wn==ae)&&(Ce=Math.max(Pt,Ce),F.setTime(F.getTime()+6e4*((0<L?wn:Ce)-ae))),g()[O+24>>2>>>0]=F.getDay(),L=(F.getTime()-de.getTime())/864e5|0,g()[O+28>>2>>>0]=L,g()[O>>2>>>0]=F.getSeconds(),g()[O+4>>2>>>0]=F.getMinutes(),g()[O+8>>2>>>0]=F.getHours(),g()[O+12>>2>>>0]=F.getDate(),g()[O+16>>2>>>0]=F.getMonth(),F.getTime()/1e3|0},Aa:he,Ba:_e,Sa:function O(F,L,ae){O.Ac||(O.Ac=!0,bn(F,L,ae))},y:function(){xe("")},U:function(){if(!S&&!$){var O="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";lr||(lr={}),lr[O]||(lr[O]=1,S&&(O="warning: "+O),re(O))}},ra:function(){return 4294901760},B:pr,Ia:function(O,F,L){p().copyWithin(O>>>0,F>>>0,F+L>>>0)},F:function(){return S?o(3993).cpus().length:navigator.hardwareConcurrency},Da:function(O,F,L){Xn.length=F,L>>=3;for(var ae=0;ae<F;ae++)Xn[ae]=c()[L+ae>>>0];return(0>O?nr[-O-1]:bo[O]).apply(null,Xn)},qa:function(O){var F=p().length;if((O>>>=0)<=F||4294901760<O)return!1;for(var L=1;4>=L;L*=2){var ae=F*(1+.2/L);ae=Math.min(ae,O+100663296);var de=Math;ae=Math.max(O,ae),de=de.min.call(de,4294901760,ae+(65536-ae%65536)%65536);e:{try{pe.grow(de-Et.byteLength+65535>>>16),Un(pe.buffer);var Ce=1;break e}catch{}Ce=void 0}if(Ce)return!0}return!1},Na:function(){throw"unwind"},Ga:Ie,Ha:Gn,J:On,I:Qn,S:br,ga:Tr,R:Gr,d:function(){return mr},na:function O(F,L){O.lc||(O.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var de=new Uint8Array(1);return()=>(crypto.getRandomValues(de),de[0])}if(S)try{var Ce=o(Object(function(){var Pt=new Error("Cannot find module 'crypto'");throw Pt.code="MODULE_NOT_FOUND",Pt}()));return()=>Ce.randomBytes(1)[0]}catch{}return()=>xe("randomDevice")}());for(var ae=0;ae<L;ae++)u()[F+ae>>0>>>0]=O.lc();return 0},ia:function(O,F,L){var ae=Mn();try{return kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},ja:function(O,F,L){var ae=Mn();try{return kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},K:function(O){var F=Mn();try{return kn(O)()}catch(L){if(Fn(F),L!==L+0)throw L;Vn(1,0)}},f:function(O,F){var L=Mn();try{return kn(O)(F)}catch(ae){if(Fn(L),ae!==ae+0)throw ae;Vn(1,0)}},P:function(O,F,L){var ae=Mn();try{return kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},Q:function(O,F,L){var ae=Mn();try{return kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},k:function(O,F,L){var ae=Mn();try{return kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},p:function(O,F,L,ae){var de=Mn();try{return kn(O)(F,L,ae)}catch(Ce){if(Fn(de),Ce!==Ce+0)throw Ce;Vn(1,0)}},q:function(O,F,L,ae,de){var Ce=Mn();try{return kn(O)(F,L,ae,de)}catch(Pt){if(Fn(Ce),Pt!==Pt+0)throw Pt;Vn(1,0)}},N:function(O,F,L,ae,de,Ce){var Pt=Mn();try{return kn(O)(F,L,ae,de,Ce)}catch(wn){if(Fn(Pt),wn!==wn+0)throw wn;Vn(1,0)}},s:function(O,F,L,ae,de,Ce){var Pt=Mn();try{return kn(O)(F,L,ae,de,Ce)}catch(wn){if(Fn(Pt),wn!==wn+0)throw wn;Vn(1,0)}},w:function(O,F,L,ae,de,Ce,Pt){var wn=Mn();try{return kn(O)(F,L,ae,de,Ce,Pt)}catch(jn){if(Fn(wn),jn!==jn+0)throw jn;Vn(1,0)}},L:function(O,F,L,ae,de,Ce,Pt,wn){var jn=Mn();try{return kn(O)(F,L,ae,de,Ce,Pt,wn)}catch(Hn){if(Fn(jn),Hn!==Hn+0)throw Hn;Vn(1,0)}},E:function(O,F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr){var yr=Mn();try{return kn(O)(F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr)}catch($e){if(Fn(yr),$e!==$e+0)throw $e;Vn(1,0)}},aa:function(O,F,L,ae,de,Ce,Pt,wn){var jn=Mn();try{return po(O,F,L,ae,de,Ce,Pt,wn)}catch(Hn){if(Fn(jn),Hn!==Hn+0)throw Hn;Vn(1,0)}},_:function(O,F,L,ae,de,Ce,Pt){var wn=Mn();try{return io(O,F,L,ae,de,Ce,Pt)}catch(jn){if(Fn(wn),jn!==jn+0)throw jn;Vn(1,0)}},Z:function(O,F,L,ae,de){var Ce=Mn();try{return ho(O,F,L,ae,de)}catch(Pt){if(Fn(Ce),Pt!==Pt+0)throw Pt;Vn(1,0)}},ca:function(O,F,L,ae){var de=Mn();try{return co(O,F,L,ae)}catch(Ce){if(Fn(de),Ce!==Ce+0)throw Ce;Vn(1,0)}},$:function(O){var F=Mn();try{return oo(O)}catch(L){if(Fn(F),L!==L+0)throw L;Vn(1,0)}},ba:function(O,F){var L=Mn();try{return fo(O,F)}catch(ae){if(Fn(L),ae!==ae+0)throw ae;Vn(1,0)}},Y:function(O,F,L){var ae=Mn();try{return ao(O,F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},g:function(O){var F=Mn();try{kn(O)()}catch(L){if(Fn(F),L!==L+0)throw L;Vn(1,0)}},r:function(O,F){var L=Mn();try{kn(O)(F)}catch(ae){if(Fn(L),ae!==ae+0)throw ae;Vn(1,0)}},i:function(O,F,L){var ae=Mn();try{kn(O)(F,L)}catch(de){if(Fn(ae),de!==de+0)throw de;Vn(1,0)}},ha:function(O,F,L,ae){var de=Mn();try{kn(O)(F,L,ae)}catch(Ce){if(Fn(de),Ce!==Ce+0)throw Ce;Vn(1,0)}},m:function(O,F,L,ae){var de=Mn();try{kn(O)(F,L,ae)}catch(Ce){if(Fn(de),Ce!==Ce+0)throw Ce;Vn(1,0)}},v:function(O,F,L,ae,de){var Ce=Mn();try{kn(O)(F,L,ae,de)}catch(Pt){if(Fn(Ce),Pt!==Pt+0)throw Pt;Vn(1,0)}},u:function(O,F,L,ae,de,Ce){var Pt=Mn();try{kn(O)(F,L,ae,de,Ce)}catch(wn){if(Fn(Pt),wn!==wn+0)throw wn;Vn(1,0)}},O:function(O,F,L,ae,de,Ce,Pt){var wn=Mn();try{kn(O)(F,L,ae,de,Ce,Pt)}catch(jn){if(Fn(wn),jn!==jn+0)throw jn;Vn(1,0)}},A:function(O,F,L,ae,de,Ce,Pt,wn){var jn=Mn();try{kn(O)(F,L,ae,de,Ce,Pt,wn)}catch(Hn){if(Fn(jn),Hn!==Hn+0)throw Hn;Vn(1,0)}},ka:function(O,F,L,ae,de,Ce,Pt,wn,jn){var Hn=Mn();try{kn(O)(F,L,ae,de,Ce,Pt,wn,jn)}catch(ar){if(Fn(Hn),ar!==ar+0)throw ar;Vn(1,0)}},C:function(O,F,L,ae,de,Ce,Pt,wn,jn,Hn,ar){var wr=Mn();try{kn(O)(F,L,ae,de,Ce,Pt,wn,jn,Hn,ar)}catch(yr){if(Fn(wr),yr!==yr+0)throw yr;Vn(1,0)}},D:function(O,F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr,yr,$e,qn,ir){var xr=Mn();try{kn(O)(F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr,yr,$e,qn,ir)}catch(Rr){if(Fn(xr),Rr!==Rr+0)throw Rr;Vn(1,0)}},fa:function(O,F,L,ae,de,Ce,Pt,wn){var jn=Mn();try{so(O,F,L,ae,de,Ce,Pt,wn)}catch(Hn){if(Fn(jn),Hn!==Hn+0)throw Hn;Vn(1,0)}},da:function(O,F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr){var yr=Mn();try{lo(O,F,L,ae,de,Ce,Pt,wn,jn,Hn,ar,wr)}catch($e){if(Fn(yr),$e!==$e+0)throw $e;Vn(1,0)}},ea:function(O,F,L,ae,de,Ce){var Pt=Mn();try{uo(O,F,L,ae,de,Ce)}catch(wn){if(Fn(Pt),wn!==wn+0)throw wn;Vn(1,0)}},o:function(O){return O},a:pe||t.wasmMemory,G:function(O){mr=O},la:Kr,z:function(O,F,L,ae){return Kr(O,F,L,ae)}};(function(){function O(de,Ce){t.asm=de.exports,ze.qc.push(t.asm.sb),er=t.asm.ub,Zn.unshift(t.asm.Va),Ve=Ce,k||(Ln--,t.monitorRunDependencies&&t.monitorRunDependencies(Ln),Ln==0&&Kn&&(de=Kn,Kn=null,de()))}function F(de){O(de.instance,de.module)}function L(de){return function(){if(!z&&(A||$)){if(typeof fetch=="function"&&!En.startsWith("file://"))return fetch(En,{credentials:"same-origin"}).then(function(Ce){if(!Ce.ok)throw"failed to load wasm binary file at '"+En+"'";return Ce.arrayBuffer()}).catch(function(){return Yn()});if(m)return new Promise(function(Ce,Pt){m(En,function(wn){Ce(new Uint8Array(wn))},Pt)})}return Promise.resolve().then(function(){return Yn()})}().then(function(Ce){return WebAssembly.instantiate(Ce,ae)}).then(function(Ce){return Ce}).then(de,function(Ce){re("failed to asynchronously prepare wasm: "+Ce),xe(Ce)})}var ae={a:yo};if(k||(Ln++,t.monitorRunDependencies&&t.monitorRunDependencies(Ln)),t.instantiateWasm)try{return t.instantiateWasm(ae,O)}catch(de){return re("Module.instantiateWasm callback failed with error: "+de),!1}(z||typeof WebAssembly.instantiateStreaming!="function"||In()||En.startsWith("file://")||S||typeof fetch!="function"?L(F):fetch(En,{credentials:"same-origin"}).then(function(de){return WebAssembly.instantiateStreaming(de,ae).then(F,function(Ce){return re("wasm streaming compile failed: "+Ce),re("falling back to ArrayBuffer instantiation"),L(F)})})).catch(i)})(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Va).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.Wa).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Xa).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.Ya).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.Za).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm._a).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.$a).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.ab).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.bb).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.cb).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.db).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.eb).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.fb).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.gb).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.hb).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ib).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.jb).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.kb).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.lb).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.mb).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.nb).apply(null,arguments)};var Fr=t._pthread_self=function(){return(Fr=t._pthread_self=t.asm.ob).apply(null,arguments)},Ur=t._malloc=function(){return(Ur=t._malloc=t.asm.pb).apply(null,arguments)},Yr=t._free=function(){return(Yr=t._free=t.asm.qb).apply(null,arguments)},Xr=t._fflush=function(){return(Xr=t._fflush=t.asm.rb).apply(null,arguments)};t.__emscripten_tls_init=function(){return(t.__emscripten_tls_init=t.asm.sb).apply(null,arguments)};var Jr=t.___funcs_on_exit=function(){return(Jr=t.___funcs_on_exit=t.asm.tb).apply(null,arguments)},Zr=t.__emscripten_thread_init=function(){return(Zr=t.__emscripten_thread_init=t.asm.vb).apply(null,arguments)};t.__emscripten_thread_crashed=function(){return(t.__emscripten_thread_crashed=t.asm.wb).apply(null,arguments)};var Mr,Qr=t._emscripten_run_in_main_runtime_thread_js=function(){return(Qr=t._emscripten_run_in_main_runtime_thread_js=t.asm.xb).apply(null,arguments)},eo=t.__emscripten_proxy_execute_task_queue=function(){return(eo=t.__emscripten_proxy_execute_task_queue=t.asm.yb).apply(null,arguments)},zr=t.__emscripten_thread_free_data=function(){return(zr=t.__emscripten_thread_free_data=t.asm.zb).apply(null,arguments)},to=t.__emscripten_thread_exit=function(){return(to=t.__emscripten_thread_exit=t.asm.Ab).apply(null,arguments)},Vn=t._setThrew=function(){return(Vn=t._setThrew=t.asm.Bb).apply(null,arguments)},no=t._emscripten_stack_set_limits=function(){return(no=t._emscripten_stack_set_limits=t.asm.Cb).apply(null,arguments)},Mn=t.stackSave=function(){return(Mn=t.stackSave=t.asm.Db).apply(null,arguments)},Fn=t.stackRestore=function(){return(Fn=t.stackRestore=t.asm.Eb).apply(null,arguments)},Hr=t.stackAlloc=function(){return(Hr=t.stackAlloc=t.asm.Fb).apply(null,arguments)},Lr=t.___cxa_can_catch=function(){return(Lr=t.___cxa_can_catch=t.asm.Gb).apply(null,arguments)},ro=t.___cxa_is_pointer_type=function(){return(ro=t.___cxa_is_pointer_type=t.asm.Hb).apply(null,arguments)},oo=t.dynCall_j=function(){return(oo=t.dynCall_j=t.asm.Ib).apply(null,arguments)},io=t.dynCall_iiiiij=function(){return(io=t.dynCall_iiiiij=t.asm.Jb).apply(null,arguments)},ao=t.dynCall_jii=function(){return(ao=t.dynCall_jii=t.asm.Kb).apply(null,arguments)},so=t.dynCall_viiiiij=function(){return(so=t.dynCall_viiiiij=t.asm.Lb).apply(null,arguments)},uo=t.dynCall_vjji=function(){return(uo=t.dynCall_vjji=t.asm.Mb).apply(null,arguments)},lo=t.dynCall_viiijjjii=function(){return(lo=t.dynCall_viiijjjii=t.asm.Nb).apply(null,arguments)},co=t.dynCall_iij=function(){return(co=t.dynCall_iij=t.asm.Ob).apply(null,arguments)},fo=t.dynCall_ji=function(){return(fo=t.dynCall_ji=t.asm.Pb).apply(null,arguments)},po=t.dynCall_iiiiiij=function(){return(po=t.dynCall_iiiiiij=t.asm.Qb).apply(null,arguments)},ho=t.dynCall_iiij=function(){return(ho=t.dynCall_iiij=t.asm.Rb).apply(null,arguments)};function mo(){function O(){if(!Mr&&(Mr=!0,t.calledRun=!0,!Ue)&&(k||zn(Zn),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),!k)){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var F=t.postRun.shift();xn.unshift(F)}zn(xn)}}if(!(0<Ln))if(k)e(t),k||zn(Zn),postMessage({cmd:"loaded"});else{if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)vn();zn(tr),0<Ln||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),O()},1)):O())}}if(t.UTF8ToString=Dn,t.stringToUTF8=function(O,F,L){return Nn(O,p(),F,L)},t.lengthBytesUTF8=Wn,t.keepRuntimeAlive=Lt,t.wasmMemory=pe,t.stackSave=Mn,t.stackRestore=Fn,t.stackAlloc=Hr,t.ExitStatus=sr,t.PThread=ze,Kn=function O(){Mr||mo(),Mr||(Kn=O)},t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return mo(),f.ready});r.exports=l},932:(r,n,o)=>{var a,l=(a=(a=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(f){var u,p,g;f=f||{},u||(u=f!==void 0?f:{}),u.ready=new Promise(function(D,j){p=D,g=j});var d,c,t,e,i,s,m=Object.assign({},u),b="./this.program",y=(D,j)=>{throw j},v=typeof window=="object",w=typeof importScripts=="function",T=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="";T?(_=w?o(908).dirname(_)+"/":"//",s=()=>{i||(e=o(1384),i=o(908))},d=function(D,j){return s(),D=i.normalize(D),e.readFileSync(D,j?void 0:"utf8")},t=D=>((D=d(D,!0)).buffer||(D=new Uint8Array(D)),D),c=(D,j,ue)=>{s(),D=i.normalize(D),e.readFile(D,function(le,he){le?ue(le):j(he.buffer)})},1<process.argv.length&&(b=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(D){if(!(D instanceof Zn))throw D}),process.on("unhandledRejection",function(D){throw D}),y=(D,j)=>{if(S||0<$n)throw process.exitCode=D,j;j instanceof Zn||$("exiting due to exception: "+j),process.exit(D)},u.inspect=function(){return"[Emscripten Module object]"}):(v||w)&&(w?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),a&&(_=a),_=_.indexOf("blob:")!==0?_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):"",d=D=>{var j=new XMLHttpRequest;return j.open("GET",D,!1),j.send(null),j.responseText},w&&(t=D=>{var j=new XMLHttpRequest;return j.open("GET",D,!1),j.responseType="arraybuffer",j.send(null),new Uint8Array(j.response)}),c=(D,j,ue)=>{var le=new XMLHttpRequest;le.open("GET",D,!0),le.responseType="arraybuffer",le.onload=()=>{le.status==200||le.status==0&&le.response?j(le.response):ue()},le.onerror=ue,le.send(null)});var x,A=u.print||console.log.bind(console),$=u.printErr||console.warn.bind(console);Object.assign(u,m),m=null,u.thisProgram&&(b=u.thisProgram),u.quit&&(y=u.quit),u.wasmBinary&&(x=u.wasmBinary);var S=u.noExitRuntime||!1;typeof WebAssembly!="object"&&Un("no native wasm support detected");var k,V,oe,Y,ie,z,M=!1,re=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ne(D,j,ue){var le=(j>>>=0)+ue;for(ue=j;D[ue]&&!(ue>=le);)++ue;if(16<ue-j&&D.buffer&&re)return re.decode(D.subarray(j,ue));for(le="";j<ue;){var he=D[j++];if(128&he){var _e=63&D[j++];if((224&he)==192)le+=String.fromCharCode((31&he)<<6|_e);else{var qe=63&D[j++];65536>(he=(240&he)==224?(15&he)<<12|_e<<6|qe:(7&he)<<18|_e<<12|qe<<6|63&D[j++])?le+=String.fromCharCode(he):(he-=65536,le+=String.fromCharCode(55296|he>>10,56320|1023&he))}}else le+=String.fromCharCode(he)}return le}function pe(D,j){return(D>>>=0)?Ne(Y,D,j):""}function Ve(D,j,ue,le){if(!(0<le))return 0;var he=ue>>>=0;le=ue+le-1;for(var _e=0;_e<D.length;++_e){var qe=D.charCodeAt(_e);if(55296<=qe&&57343>=qe&&(qe=65536+((1023&qe)<<10)|1023&D.charCodeAt(++_e)),127>=qe){if(ue>=le)break;j[ue++>>>0]=qe}else{if(2047>=qe){if(ue+1>=le)break;j[ue++>>>0]=192|qe>>6}else{if(65535>=qe){if(ue+2>=le)break;j[ue++>>>0]=224|qe>>12}else{if(ue+3>=le)break;j[ue++>>>0]=240|qe>>18,j[ue++>>>0]=128|qe>>12&63}j[ue++>>>0]=128|qe>>6&63}j[ue++>>>0]=128|63&qe}}return j[ue>>>0]=0,ue-he}function Et(D){for(var j=0,ue=0;ue<D.length;++ue){var le=D.charCodeAt(ue);127>=le?j++:2047>=le?j+=2:55296<=le&&57343>=le?(j+=4,++ue):j+=3}return j}function Fe(){var D=k.buffer;V=D,u.HEAP8=oe=new Int8Array(D),u.HEAP16=new Int16Array(D),u.HEAP32=ie=new Int32Array(D),u.HEAPU8=Y=new Uint8Array(D),u.HEAPU16=new Uint16Array(D),u.HEAPU32=z=new Uint32Array(D),u.HEAPF32=new Float32Array(D),u.HEAPF64=new Float64Array(D)}var Dt,_n=[],At=[],Pn=[],Ue=[],$n=0;function Jn(){var D=u.preRun.shift();_n.unshift(D)}var Dn,Nn=0,Wn=null;function Un(D){throw u.onAbort&&u.onAbort(D),$(D="Aborted("+D+")"),M=!0,D=new WebAssembly.RuntimeError(D+". Build with -sASSERTIONS for more info."),g(D),D}function Rn(){return Dn.startsWith("data:application/octet-stream;base64,")}if(Dn="ort-wasm.wasm",!Rn()){var er=Dn;Dn=u.locateFile?u.locateFile(er,_):_+er}function tr(){var D=Dn;try{if(D==Dn&&x)return new Uint8Array(x);if(t)return t(D);throw"both async and sync fetching of the wasm failed"}catch(j){Un(j)}}function Zn(D){this.name="ExitStatus",this.message="Program terminated with exit("+D+")",this.status=D}function Tn(D){for(;0<D.length;)D.shift()(u)}var xn=[],Lt=0,vn=0;function En(D){this.Db=D,this.zb=D-24,this.Ub=function(j){z[this.zb+4>>2>>>0]=j},this.Eb=function(){return z[this.zb+4>>2>>>0]},this.Sb=function(j){z[this.zb+8>>2>>>0]=j},this.Wb=function(){return z[this.zb+8>>2>>>0]},this.Tb=function(){ie[this.zb>>2>>>0]=0},this.Ib=function(j){oe[this.zb+12>>0>>>0]=j?1:0},this.Pb=function(){return oe[this.zb+12>>0>>>0]!=0},this.Jb=function(j){oe[this.zb+13>>0>>>0]=j?1:0},this.Lb=function(){return oe[this.zb+13>>0>>>0]!=0},this.Rb=function(j,ue){this.Fb(0),this.Ub(j),this.Sb(ue),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){ie[this.zb>>2>>>0]+=1},this.Xb=function(){var j=ie[this.zb>>2>>>0];return ie[this.zb>>2>>>0]=j-1,j===1},this.Fb=function(j){z[this.zb+16>>2>>>0]=j},this.Ob=function(){return z[this.zb+16>>2>>>0]},this.Qb=function(){if(Ar(this.Eb()))return z[this.Db>>2>>>0];var j=this.Ob();return j!==0?j:this.Db}}function Ln(D){return lr(new En(D).zb)}var Kn=[];function xe(D){var j=Kn[D];return j||(D>=Kn.length&&(Kn.length=D+1),Kn[D]=j=Dt.get(D)),j}function In(D){var j=Et(D)+1,ue=kn(j);return ue&&Ve(D,oe,ue,j),ue}var Yn={};function nr(){if(!sr){var D,j={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(D in Yn)Yn[D]===void 0?delete j[D]:j[D]=Yn[D];var ue=[];for(D in j)ue.push(D+"="+j[D]);sr=ue}return sr}var sr,cr=[null,[],[]];function gr(D,j){var ue=cr[D];j===0||j===10?((D===1?A:$)(Ne(ue,0)),ue.length=0):ue.push(j)}var hn=0;function On(D){return D%4==0&&(D%100!=0||D%400==0)}var ze=[31,29,31,30,31,30,31,31,30,31,30,31],zn=[31,28,31,30,31,30,31,31,30,31,30,31];function rr(D,j,ue,le){function he(Ie,Gn,Qn){for(Ie=typeof Ie=="number"?Ie.toString():Ie||"";Ie.length<Gn;)Ie=Qn[0]+Ie;return Ie}function _e(Ie,Gn){return he(Ie,Gn,"0")}function qe(Ie,Gn){function Qn(Tr){return 0>Tr?-1:0<Tr?1:0}var br;return(br=Qn(Ie.getFullYear()-Gn.getFullYear()))===0&&(br=Qn(Ie.getMonth()-Gn.getMonth()))===0&&(br=Qn(Ie.getDate()-Gn.getDate())),br}function bn(Ie){switch(Ie.getDay()){case 0:return new Date(Ie.getFullYear()-1,11,29);case 1:return Ie;case 2:return new Date(Ie.getFullYear(),0,3);case 3:return new Date(Ie.getFullYear(),0,2);case 4:return new Date(Ie.getFullYear(),0,1);case 5:return new Date(Ie.getFullYear()-1,11,31);case 6:return new Date(Ie.getFullYear()-1,11,30)}}function jt(Ie){var Gn=Ie.Bb;for(Ie=new Date(new Date(Ie.Cb+1900,0,1).getTime());0<Gn;){var Qn=Ie.getMonth(),br=(On(Ie.getFullYear())?ze:zn)[Qn];if(!(Gn>br-Ie.getDate())){Ie.setDate(Ie.getDate()+Gn);break}Gn-=br-Ie.getDate()+1,Ie.setDate(1),11>Qn?Ie.setMonth(Qn+1):(Ie.setMonth(0),Ie.setFullYear(Ie.getFullYear()+1))}return Qn=new Date(Ie.getFullYear()+1,0,4),Gn=bn(new Date(Ie.getFullYear(),0,4)),Qn=bn(Qn),0>=qe(Gn,Ie)?0>=qe(Qn,Ie)?Ie.getFullYear()+1:Ie.getFullYear():Ie.getFullYear()-1}var Bn=ie[le+40>>2>>>0];for(var Xn in le={$b:ie[le>>2>>>0],Zb:ie[le+4>>2>>>0],Gb:ie[le+8>>2>>>0],Kb:ie[le+12>>2>>>0],Hb:ie[le+16>>2>>>0],Cb:ie[le+20>>2>>>0],Ab:ie[le+24>>2>>>0],Bb:ie[le+28>>2>>>0],bc:ie[le+32>>2>>>0],Yb:ie[le+36>>2>>>0],ac:Bn?pe(Bn):""},ue=pe(ue),Bn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})ue=ue.replace(new RegExp(Xn,"g"),Bn[Xn]);var hr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),fr="January February March April May June July August September October November December".split(" ");for(Xn in Bn={"%a":function(Ie){return hr[Ie.Ab].substring(0,3)},"%A":function(Ie){return hr[Ie.Ab]},"%b":function(Ie){return fr[Ie.Hb].substring(0,3)},"%B":function(Ie){return fr[Ie.Hb]},"%C":function(Ie){return _e((Ie.Cb+1900)/100|0,2)},"%d":function(Ie){return _e(Ie.Kb,2)},"%e":function(Ie){return he(Ie.Kb,2," ")},"%g":function(Ie){return jt(Ie).toString().substring(2)},"%G":function(Ie){return jt(Ie)},"%H":function(Ie){return _e(Ie.Gb,2)},"%I":function(Ie){return(Ie=Ie.Gb)==0?Ie=12:12<Ie&&(Ie-=12),_e(Ie,2)},"%j":function(Ie){for(var Gn=0,Qn=0;Qn<=Ie.Hb-1;Gn+=(On(Ie.Cb+1900)?ze:zn)[Qn++]);return _e(Ie.Kb+Gn,3)},"%m":function(Ie){return _e(Ie.Hb+1,2)},"%M":function(Ie){return _e(Ie.Zb,2)},"%n":function(){return`
`},"%p":function(Ie){return 0<=Ie.Gb&&12>Ie.Gb?"AM":"PM"},"%S":function(Ie){return _e(Ie.$b,2)},"%t":function(){return"	"},"%u":function(Ie){return Ie.Ab||7},"%U":function(Ie){return _e(Math.floor((Ie.Bb+7-Ie.Ab)/7),2)},"%V":function(Ie){var Gn=Math.floor((Ie.Bb+7-(Ie.Ab+6)%7)/7);if(2>=(Ie.Ab+371-Ie.Bb-2)%7&&Gn++,Gn)Gn==53&&((Qn=(Ie.Ab+371-Ie.Bb)%7)==4||Qn==3&&On(Ie.Cb)||(Gn=1));else{Gn=52;var Qn=(Ie.Ab+7-Ie.Bb-1)%7;(Qn==4||Qn==5&&On(Ie.Cb%400-1))&&Gn++}return _e(Gn,2)},"%w":function(Ie){return Ie.Ab},"%W":function(Ie){return _e(Math.floor((Ie.Bb+7-(Ie.Ab+6)%7)/7),2)},"%y":function(Ie){return(Ie.Cb+1900).toString().substring(2)},"%Y":function(Ie){return Ie.Cb+1900},"%z":function(Ie){var Gn=0<=(Ie=Ie.Yb);return Ie=Math.abs(Ie)/60,(Gn?"+":"-")+("0000"+(Ie/60*100+Ie%60)).slice(-4)},"%Z":function(Ie){return Ie.ac},"%%":function(){return"%"}},ue=ue.replace(/%%/g,"\0\0"),Bn)ue.includes(Xn)&&(ue=ue.replace(new RegExp(Xn,"g"),Bn[Xn](le)));return Xn=function(Ie){var Gn=Array(Et(Ie)+1);return Ve(Ie,Gn,0,Gn.length),Gn}(ue=ue.replace(/\0\0/g,"%")),Xn.length>j?0:(oe.set(Xn,D>>>0),Xn.length-1)}var ur={a:function(D){return kn(D+24)+24},m:function(D){return(D=new En(D)).Pb()||(D.Ib(!0),Lt--),D.Jb(!1),xn.push(D),D.Nb(),D.Qb()},ia:function(D){throw $("Unexpected exception thrown, this is not properly supported - aborting"),M=!0,D},w:function(){Sn(0);var D=xn.pop();if(D.Xb()&&!D.Lb()){var j=D.Wb();j&&xe(j)(D.Db),Ln(D.Db)}vn=0},d:function(){var D=vn;if(!D)return hn=0;var j=new En(D);j.Fb(D);var ue=j.Eb();if(!ue)return hn=0,D;for(var le=Array.prototype.slice.call(arguments),he=0;he<le.length;he++){var _e=le[he];if(_e===0||_e===ue)break;if(_r(_e,ue,j.zb+16))return hn=_e,D}return hn=ue,D},k:function(){var D=vn;if(!D)return hn=0;var j=new En(D);j.Fb(D);var ue=j.Eb();if(!ue)return hn=0,D;for(var le=Array.prototype.slice.call(arguments),he=0;he<le.length;he++){var _e=le[he];if(_e===0||_e===ue)break;if(_r(_e,ue,j.zb+16))return hn=_e,D}return hn=ue,D},g:function(){var D=vn;if(!D)return hn=0;var j=new En(D);j.Fb(D);var ue=j.Eb();if(!ue)return hn=0,D;for(var le=Array.prototype.slice.call(arguments),he=0;he<le.length;he++){var _e=le[he];if(_e===0||_e===ue)break;if(_r(_e,ue,j.zb+16))return hn=_e,D}return hn=ue,D},s:Ln,L:function(){var D=xn.pop();D||Un("no exception to throw");var j=D.Db;throw D.Lb()||(xn.push(D),D.Jb(!0),D.Ib(!1),Lt++),vn=j,j},b:function(D,j,ue){throw new En(D).Rb(j,ue),vn=D,Lt++,D},la:function(){return Lt},i:function(D){throw vn||(vn=D),D},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){Un("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){Un("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(D,j){D=new Date(1e3*(z[D>>>2]+4294967296*ie[D+4>>>2])),ie[j>>2>>>0]=D.getUTCSeconds(),ie[j+4>>2>>>0]=D.getUTCMinutes(),ie[j+8>>2>>>0]=D.getUTCHours(),ie[j+12>>2>>>0]=D.getUTCDate(),ie[j+16>>2>>>0]=D.getUTCMonth(),ie[j+20>>2>>>0]=D.getUTCFullYear()-1900,ie[j+24>>2>>>0]=D.getUTCDay(),ie[j+28>>2>>>0]=(D.getTime()-Date.UTC(D.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(D,j){D=new Date(1e3*(z[D>>>2]+4294967296*ie[D+4>>>2])),ie[j>>2>>>0]=D.getSeconds(),ie[j+4>>2>>>0]=D.getMinutes(),ie[j+8>>2>>>0]=D.getHours(),ie[j+12>>2>>>0]=D.getDate(),ie[j+16>>2>>>0]=D.getMonth(),ie[j+20>>2>>>0]=D.getFullYear()-1900,ie[j+24>>2>>>0]=D.getDay();var ue=new Date(D.getFullYear(),0,1);ie[j+28>>2>>>0]=(D.getTime()-ue.getTime())/864e5|0,ie[j+36>>2>>>0]=-60*D.getTimezoneOffset();var le=new Date(D.getFullYear(),6,1).getTimezoneOffset();ue=ue.getTimezoneOffset(),ie[j+32>>2>>>0]=0|(le!=ue&&D.getTimezoneOffset()==Math.min(ue,le))},Fa:function(D){var j=new Date(ie[D+20>>2>>>0]+1900,ie[D+16>>2>>>0],ie[D+12>>2>>>0],ie[D+8>>2>>>0],ie[D+4>>2>>>0],ie[D>>2>>>0],0),ue=ie[D+32>>2>>>0],le=j.getTimezoneOffset(),he=new Date(j.getFullYear(),0,1),_e=new Date(j.getFullYear(),6,1).getTimezoneOffset(),qe=he.getTimezoneOffset(),bn=Math.min(qe,_e);return 0>ue?ie[D+32>>2>>>0]=+(_e!=qe&&bn==le):0<ue!=(bn==le)&&(_e=Math.max(qe,_e),j.setTime(j.getTime()+6e4*((0<ue?bn:_e)-le))),ie[D+24>>2>>>0]=j.getDay(),ie[D+28>>2>>>0]=(j.getTime()-he.getTime())/864e5|0,ie[D>>2>>>0]=j.getSeconds(),ie[D+4>>2>>>0]=j.getMinutes(),ie[D+8>>2>>>0]=j.getHours(),ie[D+12>>2>>>0]=j.getDate(),ie[D+16>>2>>>0]=j.getMonth(),j.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function D(j,ue,le){D.Vb||(D.Vb=!0,function(he,_e,qe){function bn(fr){return(fr=fr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?fr[1]:"GMT"}var jt=new Date().getFullYear(),Bn=new Date(jt,0,1),Xn=new Date(jt,6,1);jt=Bn.getTimezoneOffset();var hr=Xn.getTimezoneOffset();ie[he>>2>>>0]=60*Math.max(jt,hr),ie[_e>>2>>>0]=+(jt!=hr),he=bn(Bn),_e=bn(Xn),he=In(he),_e=In(_e),hr<jt?(z[qe>>2>>>0]=he,z[qe+4>>2>>>0]=_e):(z[qe>>2>>>0]=_e,z[qe+4>>2>>>0]=he)}(j,ue,le))},B:function(){Un("")},ma:function(){return 4294901760},I:T?()=>{var D=process.hrtime();return 1e3*D[0]+D[1]/1e6}:()=>performance.now(),xa:function(D,j,ue){Y.copyWithin(D>>>0,j>>>0,j+ue>>>0)},G:function(D){var j=Y.length;if(4294901760<(D>>>=0))return!1;for(var ue=1;4>=ue;ue*=2){var le=j*(1+.2/ue);le=Math.min(le,D+100663296);var he=Math;le=Math.max(D,le),he=he.min.call(he,4294901760,le+(65536-le%65536)%65536);e:{try{k.grow(he-V.byteLength+65535>>>16),Fe();var _e=1;break e}catch{}_e=void 0}if(_e)return!0}return!1},va:function(D,j){var ue=0;return nr().forEach(function(le,he){var _e=j+ue;for(he=z[D+4*he>>2>>>0]=_e,_e=0;_e<le.length;++_e)oe[he++>>0>>>0]=le.charCodeAt(_e);oe[he>>0>>>0]=0,ue+=le.length+1}),0},wa:function(D,j){var ue=nr();z[D>>2>>>0]=ue.length;var le=0;return ue.forEach(function(he){le+=he.length+1}),z[j>>2>>>0]=le,0},ba:function(D){S||0<$n||(dr(),Tn(Pn),pr(0),cr[1].length&&gr(1,10),cr[2].length&&gr(2,10)),S||0<$n||(u.onExit&&u.onExit(D),M=!0),y(D,new Zn(D))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(D,j,ue,le){for(var he=0,_e=0;_e<ue;_e++){var qe=z[j>>2>>>0],bn=z[j+4>>2>>>0];j+=8;for(var jt=0;jt<bn;jt++)gr(D,Y[qe+jt>>>0]);he+=bn}return z[le>>2>>>0]=he,0},c:function(){return hn},ja:function D(j,ue){D.Mb||(D.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var he=new Uint8Array(1);return()=>(crypto.getRandomValues(he),he[0])}if(T)try{var _e=o(Object(function(){var qe=new Error("Cannot find module 'crypto'");throw qe.code="MODULE_NOT_FOUND",qe}()));return()=>_e.randomBytes(1)[0]}catch{}return()=>Un("randomDevice")}());for(var le=0;le<ue;le++)oe[j+le>>0>>>0]=D.Mb();return 0},ea:function(D,j,ue){var le=An();try{return xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},fa:function(D,j,ue){var le=An();try{return xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},J:function(D){var j=An();try{return xe(D)()}catch(ue){if(Cn(j),ue!==ue+0)throw ue;Sn(1,0)}},e:function(D,j){var ue=An();try{return xe(D)(j)}catch(le){if(Cn(ue),le!==le+0)throw le;Sn(1,0)}},N:function(D,j,ue){var le=An();try{return xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},O:function(D,j,ue){var le=An();try{return xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},j:function(D,j,ue){var le=An();try{return xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},o:function(D,j,ue,le){var he=An();try{return xe(D)(j,ue,le)}catch(_e){if(Cn(he),_e!==_e+0)throw _e;Sn(1,0)}},p:function(D,j,ue,le,he){var _e=An();try{return xe(D)(j,ue,le,he)}catch(qe){if(Cn(_e),qe!==qe+0)throw qe;Sn(1,0)}},M:function(D,j,ue,le,he,_e){var qe=An();try{return xe(D)(j,ue,le,he,_e)}catch(bn){if(Cn(qe),bn!==bn+0)throw bn;Sn(1,0)}},r:function(D,j,ue,le,he,_e){var qe=An();try{return xe(D)(j,ue,le,he,_e)}catch(bn){if(Cn(qe),bn!==bn+0)throw bn;Sn(1,0)}},v:function(D,j,ue,le,he,_e,qe){var bn=An();try{return xe(D)(j,ue,le,he,_e,qe)}catch(jt){if(Cn(bn),jt!==jt+0)throw jt;Sn(1,0)}},K:function(D,j,ue,le,he,_e,qe,bn){var jt=An();try{return xe(D)(j,ue,le,he,_e,qe,bn)}catch(Bn){if(Cn(jt),Bn!==Bn+0)throw Bn;Sn(1,0)}},D:function(D,j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr){var fr=An();try{return xe(D)(j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr)}catch(Ie){if(Cn(fr),Ie!==Ie+0)throw Ie;Sn(1,0)}},X:function(D,j,ue,le,he,_e,qe,bn){var jt=An();try{return Dr(D,j,ue,le,he,_e,qe,bn)}catch(Bn){if(Cn(jt),Bn!==Bn+0)throw Bn;Sn(1,0)}},V:function(D,j,ue,le,he,_e,qe){var bn=An();try{return Or(D,j,ue,le,he,_e,qe)}catch(jt){if(Cn(bn),jt!==jt+0)throw jt;Sn(1,0)}},U:function(D,j,ue,le,he){var _e=An();try{return Oe(D,j,ue,le,he)}catch(qe){if(Cn(_e),qe!==qe+0)throw qe;Sn(1,0)}},Z:function(D,j,ue,le){var he=An();try{return $r(D,j,ue,le)}catch(_e){if(Cn(he),_e!==_e+0)throw _e;Sn(1,0)}},W:function(D){var j=An();try{return vr(D)}catch(ue){if(Cn(j),ue!==ue+0)throw ue;Sn(1,0)}},Y:function(D,j){var ue=An();try{return kr(D,j)}catch(le){if(Cn(ue),le!==le+0)throw le;Sn(1,0)}},T:function(D,j,ue){var le=An();try{return Cr(D,j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},f:function(D){var j=An();try{xe(D)()}catch(ue){if(Cn(j),ue!==ue+0)throw ue;Sn(1,0)}},q:function(D,j){var ue=An();try{xe(D)(j)}catch(le){if(Cn(ue),le!==le+0)throw le;Sn(1,0)}},h:function(D,j,ue){var le=An();try{xe(D)(j,ue)}catch(he){if(Cn(le),he!==he+0)throw he;Sn(1,0)}},da:function(D,j,ue,le){var he=An();try{xe(D)(j,ue,le)}catch(_e){if(Cn(he),_e!==_e+0)throw _e;Sn(1,0)}},l:function(D,j,ue,le){var he=An();try{xe(D)(j,ue,le)}catch(_e){if(Cn(he),_e!==_e+0)throw _e;Sn(1,0)}},t:function(D,j,ue,le,he){var _e=An();try{xe(D)(j,ue,le,he)}catch(qe){if(Cn(_e),qe!==qe+0)throw qe;Sn(1,0)}},u:function(D,j,ue,le,he,_e){var qe=An();try{xe(D)(j,ue,le,he,_e)}catch(bn){if(Cn(qe),bn!==bn+0)throw bn;Sn(1,0)}},x:function(D,j,ue,le,he,_e,qe){var bn=An();try{xe(D)(j,ue,le,he,_e,qe)}catch(jt){if(Cn(bn),jt!==jt+0)throw jt;Sn(1,0)}},z:function(D,j,ue,le,he,_e,qe,bn){var jt=An();try{xe(D)(j,ue,le,he,_e,qe,bn)}catch(Bn){if(Cn(jt),Bn!==Bn+0)throw Bn;Sn(1,0)}},ga:function(D,j,ue,le,he,_e,qe,bn,jt){var Bn=An();try{xe(D)(j,ue,le,he,_e,qe,bn,jt)}catch(Xn){if(Cn(Bn),Xn!==Xn+0)throw Xn;Sn(1,0)}},A:function(D,j,ue,le,he,_e,qe,bn,jt,Bn,Xn){var hr=An();try{xe(D)(j,ue,le,he,_e,qe,bn,jt,Bn,Xn)}catch(fr){if(Cn(hr),fr!==fr+0)throw fr;Sn(1,0)}},C:function(D,j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr,fr,Ie,Gn,Qn){var br=An();try{xe(D)(j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr,fr,Ie,Gn,Qn)}catch(Tr){if(Cn(br),Tr!==Tr+0)throw Tr;Sn(1,0)}},aa:function(D,j,ue,le,he,_e,qe,bn){var jt=An();try{Pr(D,j,ue,le,he,_e,qe,bn)}catch(Bn){if(Cn(jt),Bn!==Bn+0)throw Bn;Sn(1,0)}},_:function(D,j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr){var fr=An();try{Ir(D,j,ue,le,he,_e,qe,bn,jt,Bn,Xn,hr)}catch(Ie){if(Cn(fr),Ie!==Ie+0)throw Ie;Sn(1,0)}},$:function(D,j,ue,le,he,_e){var qe=An();try{Sr(D,j,ue,le,he,_e)}catch(bn){if(Cn(qe),bn!==bn+0)throw bn;Sn(1,0)}},n:function(D){return D},F:function(D){hn=D},ha:rr,y:function(D,j,ue,le){return rr(D,j,ue,le)}};(function(){function D(he){u.asm=he.exports,k=u.asm.Ka,Fe(),Dt=u.asm.ib,At.unshift(u.asm.La),Nn--,u.monitorRunDependencies&&u.monitorRunDependencies(Nn),Nn==0&&Wn&&(he=Wn,Wn=null,he())}function j(he){D(he.instance)}function ue(he){return function(){if(!x&&(v||w)){if(typeof fetch=="function"&&!Dn.startsWith("file://"))return fetch(Dn,{credentials:"same-origin"}).then(function(_e){if(!_e.ok)throw"failed to load wasm binary file at '"+Dn+"'";return _e.arrayBuffer()}).catch(function(){return tr()});if(c)return new Promise(function(_e,qe){c(Dn,function(bn){_e(new Uint8Array(bn))},qe)})}return Promise.resolve().then(function(){return tr()})}().then(function(_e){return WebAssembly.instantiate(_e,le)}).then(function(_e){return _e}).then(he,function(_e){$("failed to asynchronously prepare wasm: "+_e),Un(_e)})}var le={a:ur};if(Nn++,u.monitorRunDependencies&&u.monitorRunDependencies(Nn),u.instantiateWasm)try{return u.instantiateWasm(le,D)}catch(he){return $("Module.instantiateWasm callback failed with error: "+he),!1}(x||typeof WebAssembly.instantiateStreaming!="function"||Rn()||Dn.startsWith("file://")||T||typeof fetch!="function"?ue(j):fetch(Dn,{credentials:"same-origin"}).then(function(he){return WebAssembly.instantiateStreaming(he,le).then(j,function(_e){return $("wasm streaming compile failed: "+_e),$("falling back to ArrayBuffer instantiation"),ue(j)})})).catch(g)})(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.La).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Ma).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Na).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Oa).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Pa).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.Qa).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.Ra).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.Sa).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.Ta).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.Ua).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.Va).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.Wa).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.Xa).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.Ya).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.Za).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm._a).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.$a).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.ab).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.bb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.cb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.db).apply(null,arguments)};var or,kn=u._malloc=function(){return(kn=u._malloc=u.asm.eb).apply(null,arguments)},lr=u._free=function(){return(lr=u._free=u.asm.fb).apply(null,arguments)},pr=u._fflush=function(){return(pr=u._fflush=u.asm.gb).apply(null,arguments)},dr=u.___funcs_on_exit=function(){return(dr=u.___funcs_on_exit=u.asm.hb).apply(null,arguments)},Sn=u._setThrew=function(){return(Sn=u._setThrew=u.asm.jb).apply(null,arguments)},An=u.stackSave=function(){return(An=u.stackSave=u.asm.kb).apply(null,arguments)},Cn=u.stackRestore=function(){return(Cn=u.stackRestore=u.asm.lb).apply(null,arguments)},Er=u.stackAlloc=function(){return(Er=u.stackAlloc=u.asm.mb).apply(null,arguments)},_r=u.___cxa_can_catch=function(){return(_r=u.___cxa_can_catch=u.asm.nb).apply(null,arguments)},Ar=u.___cxa_is_pointer_type=function(){return(Ar=u.___cxa_is_pointer_type=u.asm.ob).apply(null,arguments)},vr=u.dynCall_j=function(){return(vr=u.dynCall_j=u.asm.pb).apply(null,arguments)},Or=u.dynCall_iiiiij=function(){return(Or=u.dynCall_iiiiij=u.asm.qb).apply(null,arguments)},Cr=u.dynCall_jii=function(){return(Cr=u.dynCall_jii=u.asm.rb).apply(null,arguments)},Pr=u.dynCall_viiiiij=function(){return(Pr=u.dynCall_viiiiij=u.asm.sb).apply(null,arguments)},Sr=u.dynCall_vjji=function(){return(Sr=u.dynCall_vjji=u.asm.tb).apply(null,arguments)},Ir=u.dynCall_viiijjjii=function(){return(Ir=u.dynCall_viiijjjii=u.asm.ub).apply(null,arguments)},$r=u.dynCall_iij=function(){return($r=u.dynCall_iij=u.asm.vb).apply(null,arguments)},kr=u.dynCall_ji=function(){return(kr=u.dynCall_ji=u.asm.wb).apply(null,arguments)},Dr=u.dynCall_iiiiiij=function(){return(Dr=u.dynCall_iiiiiij=u.asm.xb).apply(null,arguments)},Oe=u.dynCall_iiij=function(){return(Oe=u.dynCall_iiij=u.asm.yb).apply(null,arguments)};function kt(){function D(){if(!or&&(or=!0,u.calledRun=!0,!M)){if(Tn(At),p(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;){var j=u.postRun.shift();Ue.unshift(j)}Tn(Ue)}}if(!(0<Nn)){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Jn();Tn(_n),0<Nn||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),D()},1)):D())}}if(u.UTF8ToString=pe,u.stringToUTF8=function(D,j,ue){return Ve(D,Y,j,ue)},u.lengthBytesUTF8=Et,u.stackSave=An,u.stackRestore=Cn,u.stackAlloc=Er,Wn=function D(){or||kt(),or||(Wn=D)},u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return kt(),f.ready});r.exports=l},4537:r=>{r.exports=function(n,o){for(var a=new Array(arguments.length-1),l=0,f=2,u=!0;f<arguments.length;)a[l++]=arguments[f++];return new Promise(function(p,g){a[l]=function(d){if(u)if(u=!1,d)g(d);else{for(var c=new Array(arguments.length-1),t=0;t<c.length;)c[t++]=arguments[t];p.apply(null,c)}};try{n.apply(o||null,a)}catch(d){u&&(u=!1,g(d))}})}},7419:(r,n)=>{var o=n;o.length=function(p){var g=p.length;if(!g)return 0;for(var d=0;--g%4>1&&p.charAt(g)==="=";)++d;return Math.ceil(3*p.length)/4-d};for(var a=new Array(64),l=new Array(123),f=0;f<64;)l[a[f]=f<26?f+65:f<52?f+71:f<62?f-4:f-59|43]=f++;o.encode=function(p,g,d){for(var c,t=null,e=[],i=0,s=0;g<d;){var m=p[g++];switch(s){case 0:e[i++]=a[m>>2],c=(3&m)<<4,s=1;break;case 1:e[i++]=a[c|m>>4],c=(15&m)<<2,s=2;break;case 2:e[i++]=a[c|m>>6],e[i++]=a[63&m],s=0}i>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,e)),i=0)}return s&&(e[i++]=a[c],e[i++]=61,s===1&&(e[i++]=61)),t?(i&&t.push(String.fromCharCode.apply(String,e.slice(0,i))),t.join("")):String.fromCharCode.apply(String,e.slice(0,i))};var u="invalid encoding";o.decode=function(p,g,d){for(var c,t=d,e=0,i=0;i<p.length;){var s=p.charCodeAt(i++);if(s===61&&e>1)break;if((s=l[s])===void 0)throw Error(u);switch(e){case 0:c=s,e=1;break;case 1:g[d++]=c<<2|(48&s)>>4,c=s,e=2;break;case 2:g[d++]=(15&c)<<4|(60&s)>>2,c=s,e=3;break;case 3:g[d++]=(3&c)<<6|s,e=0}}if(e===1)throw Error(u);return d-t},o.test=function(p){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(p)}},9211:r=>{function n(){this._listeners={}}r.exports=n,n.prototype.on=function(o,a,l){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:a,ctx:l||this}),this},n.prototype.off=function(o,a){if(o===void 0)this._listeners={};else if(a===void 0)this._listeners[o]=[];else for(var l=this._listeners[o],f=0;f<l.length;)l[f].fn===a?l.splice(f,1):++f;return this},n.prototype.emit=function(o){var a=this._listeners[o];if(a){for(var l=[],f=1;f<arguments.length;)l.push(arguments[f++]);for(f=0;f<a.length;)a[f].fn.apply(a[f++].ctx,l)}return this}},945:r=>{function n(u){return typeof Float32Array<"u"?function(){var p=new Float32Array([-0]),g=new Uint8Array(p.buffer),d=g[3]===128;function c(s,m,b){p[0]=s,m[b]=g[0],m[b+1]=g[1],m[b+2]=g[2],m[b+3]=g[3]}function t(s,m,b){p[0]=s,m[b]=g[3],m[b+1]=g[2],m[b+2]=g[1],m[b+3]=g[0]}function e(s,m){return g[0]=s[m],g[1]=s[m+1],g[2]=s[m+2],g[3]=s[m+3],p[0]}function i(s,m){return g[3]=s[m],g[2]=s[m+1],g[1]=s[m+2],g[0]=s[m+3],p[0]}u.writeFloatLE=d?c:t,u.writeFloatBE=d?t:c,u.readFloatLE=d?e:i,u.readFloatBE=d?i:e}():function(){function p(d,c,t,e){var i=c<0?1:0;if(i&&(c=-c),c===0)d(1/c>0?0:2147483648,t,e);else if(isNaN(c))d(2143289344,t,e);else if(c>34028234663852886e22)d((i<<31|2139095040)>>>0,t,e);else if(c<11754943508222875e-54)d((i<<31|Math.round(c/1401298464324817e-60))>>>0,t,e);else{var s=Math.floor(Math.log(c)/Math.LN2);d((i<<31|s+127<<23|8388607&Math.round(c*Math.pow(2,-s)*8388608))>>>0,t,e)}}function g(d,c,t){var e=d(c,t),i=2*(e>>31)+1,s=e>>>23&255,m=8388607&e;return s===255?m?NaN:i*(1/0):s===0?1401298464324817e-60*i*m:i*Math.pow(2,s-150)*(m+8388608)}u.writeFloatLE=p.bind(null,o),u.writeFloatBE=p.bind(null,a),u.readFloatLE=g.bind(null,l),u.readFloatBE=g.bind(null,f)}(),typeof Float64Array<"u"?function(){var p=new Float64Array([-0]),g=new Uint8Array(p.buffer),d=g[7]===128;function c(s,m,b){p[0]=s,m[b]=g[0],m[b+1]=g[1],m[b+2]=g[2],m[b+3]=g[3],m[b+4]=g[4],m[b+5]=g[5],m[b+6]=g[6],m[b+7]=g[7]}function t(s,m,b){p[0]=s,m[b]=g[7],m[b+1]=g[6],m[b+2]=g[5],m[b+3]=g[4],m[b+4]=g[3],m[b+5]=g[2],m[b+6]=g[1],m[b+7]=g[0]}function e(s,m){return g[0]=s[m],g[1]=s[m+1],g[2]=s[m+2],g[3]=s[m+3],g[4]=s[m+4],g[5]=s[m+5],g[6]=s[m+6],g[7]=s[m+7],p[0]}function i(s,m){return g[7]=s[m],g[6]=s[m+1],g[5]=s[m+2],g[4]=s[m+3],g[3]=s[m+4],g[2]=s[m+5],g[1]=s[m+6],g[0]=s[m+7],p[0]}u.writeDoubleLE=d?c:t,u.writeDoubleBE=d?t:c,u.readDoubleLE=d?e:i,u.readDoubleBE=d?i:e}():function(){function p(d,c,t,e,i,s){var m=e<0?1:0;if(m&&(e=-e),e===0)d(0,i,s+c),d(1/e>0?0:2147483648,i,s+t);else if(isNaN(e))d(0,i,s+c),d(2146959360,i,s+t);else if(e>17976931348623157e292)d(0,i,s+c),d((m<<31|2146435072)>>>0,i,s+t);else{var b;if(e<22250738585072014e-324)d((b=e/5e-324)>>>0,i,s+c),d((m<<31|b/4294967296)>>>0,i,s+t);else{var y=Math.floor(Math.log(e)/Math.LN2);y===1024&&(y=1023),d(4503599627370496*(b=e*Math.pow(2,-y))>>>0,i,s+c),d((m<<31|y+1023<<20|1048576*b&1048575)>>>0,i,s+t)}}}function g(d,c,t,e,i){var s=d(e,i+c),m=d(e,i+t),b=2*(m>>31)+1,y=m>>>20&2047,v=4294967296*(1048575&m)+s;return y===2047?v?NaN:b*(1/0):y===0?5e-324*b*v:b*Math.pow(2,y-1075)*(v+4503599627370496)}u.writeDoubleLE=p.bind(null,o,0,4),u.writeDoubleBE=p.bind(null,a,4,0),u.readDoubleLE=g.bind(null,l,0,4),u.readDoubleBE=g.bind(null,f,4,0)}(),u}function o(u,p,g){p[g]=255&u,p[g+1]=u>>>8&255,p[g+2]=u>>>16&255,p[g+3]=u>>>24}function a(u,p,g){p[g]=u>>>24,p[g+1]=u>>>16&255,p[g+2]=u>>>8&255,p[g+3]=255&u}function l(u,p){return(u[p]|u[p+1]<<8|u[p+2]<<16|u[p+3]<<24)>>>0}function f(u,p){return(u[p]<<24|u[p+1]<<16|u[p+2]<<8|u[p+3])>>>0}r.exports=n(n)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}module.exports=inquire},6662:r=>{r.exports=function(n,o,a){var l=a||8192,f=l>>>1,u=null,p=l;return function(g){if(g<1||g>f)return n(g);p+g>l&&(u=n(l),p=0);var d=o.call(u,p,p+=g);return 7&p&&(p=1+(7|p)),d}}},4997:(r,n)=>{var o=n;o.length=function(a){for(var l=0,f=0,u=0;u<a.length;++u)(f=a.charCodeAt(u))<128?l+=1:f<2048?l+=2:(64512&f)==55296&&(64512&a.charCodeAt(u+1))==56320?(++u,l+=4):l+=3;return l},o.read=function(a,l,f){if(f-l<1)return"";for(var u,p=null,g=[],d=0;l<f;)(u=a[l++])<128?g[d++]=u:u>191&&u<224?g[d++]=(31&u)<<6|63&a[l++]:u>239&&u<365?(u=((7&u)<<18|(63&a[l++])<<12|(63&a[l++])<<6|63&a[l++])-65536,g[d++]=55296+(u>>10),g[d++]=56320+(1023&u)):g[d++]=(15&u)<<12|(63&a[l++])<<6|63&a[l++],d>8191&&((p||(p=[])).push(String.fromCharCode.apply(String,g)),d=0);return p?(d&&p.push(String.fromCharCode.apply(String,g.slice(0,d))),p.join("")):String.fromCharCode.apply(String,g.slice(0,d))},o.write=function(a,l,f){for(var u,p,g=f,d=0;d<a.length;++d)(u=a.charCodeAt(d))<128?l[f++]=u:u<2048?(l[f++]=u>>6|192,l[f++]=63&u|128):(64512&u)==55296&&(64512&(p=a.charCodeAt(d+1)))==56320?(u=65536+((1023&u)<<10)+(1023&p),++d,l[f++]=u>>18|240,l[f++]=u>>12&63|128,l[f++]=u>>6&63|128,l[f++]=63&u|128):(l[f++]=u>>12|224,l[f++]=u>>6&63|128,l[f++]=63&u|128);return f-g}},3442:(r,n)=>{n.__esModule=!0;var o=function(){function a(l){if(!l)throw new TypeError("Invalid argument; `value` has no value.");this.value=a.EMPTY,l&&a.isGuid(l)&&(this.value=l)}return a.isGuid=function(l){var f=l.toString();return l&&(l instanceof a||a.validator.test(f))},a.create=function(){return new a([a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-"))},a.createEmpty=function(){return new a("emptyguid")},a.parse=function(l){return new a(l)},a.raw=function(){return[a.gen(2),a.gen(1),a.gen(1),a.gen(1),a.gen(3)].join("-")},a.gen=function(l){for(var f="",u=0;u<l;u++)f+=(65536*(1+Math.random())|0).toString(16).substring(1);return f},a.prototype.equals=function(l){return a.isGuid(l)&&this.value===l.toString()},a.prototype.isEmpty=function(){return this.value===a.EMPTY},a.prototype.toString=function(){return this.value},a.prototype.toJSON=function(){return{value:this.value}},a.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),a.EMPTY="00000000-0000-0000-0000-000000000000",a}();n.Guid=o},3720:r=>{r.exports=o;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function o(S,k,V){this.low=0|S,this.high=0|k,this.unsigned=!!V}function a(S){return(S&&S.__isLong__)===!0}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=a;var l={},f={};function u(S,k){var V,oe,Y;return k?(Y=0<=(S>>>=0)&&S<256)&&(oe=f[S])?oe:(V=g(S,(0|S)<0?-1:0,!0),Y&&(f[S]=V),V):(Y=-128<=(S|=0)&&S<128)&&(oe=l[S])?oe:(V=g(S,S<0?-1:0,!1),Y&&(l[S]=V),V)}function p(S,k){if(isNaN(S))return k?y:b;if(k){if(S<0)return y;if(S>=i)return x}else{if(S<=-s)return A;if(S+1>=s)return _}return S<0?p(-S,k).neg():g(S%e|0,S/e|0,k)}function g(S,k,V){return new o(S,k,V)}o.fromInt=u,o.fromNumber=p,o.fromBits=g;var d=Math.pow;function c(S,k,V){if(S.length===0)throw Error("empty string");if(S==="NaN"||S==="Infinity"||S==="+Infinity"||S==="-Infinity")return b;if(typeof k=="number"?(V=k,k=!1):k=!!k,(V=V||10)<2||36<V)throw RangeError("radix");var oe;if((oe=S.indexOf("-"))>0)throw Error("interior hyphen");if(oe===0)return c(S.substring(1),k,V).neg();for(var Y=p(d(V,8)),ie=b,z=0;z<S.length;z+=8){var M=Math.min(8,S.length-z),re=parseInt(S.substring(z,z+M),V);if(M<8){var Ne=p(d(V,M));ie=ie.mul(Ne).add(p(re))}else ie=(ie=ie.mul(Y)).add(p(re))}return ie.unsigned=k,ie}function t(S,k){return typeof S=="number"?p(S,k):typeof S=="string"?c(S,k):g(S.low,S.high,typeof k=="boolean"?k:S.unsigned)}o.fromString=c,o.fromValue=t;var e=4294967296,i=e*e,s=i/2,m=u(1<<24),b=u(0);o.ZERO=b;var y=u(0,!0);o.UZERO=y;var v=u(1);o.ONE=v;var w=u(1,!0);o.UONE=w;var T=u(-1);o.NEG_ONE=T;var _=g(-1,2147483647,!1);o.MAX_VALUE=_;var x=g(-1,-1,!0);o.MAX_UNSIGNED_VALUE=x;var A=g(0,-2147483648,!1);o.MIN_VALUE=A;var $=o.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low},$.toNumber=function(){return this.unsigned?(this.high>>>0)*e+(this.low>>>0):this.high*e+(this.low>>>0)},$.toString=function(S){if((S=S||10)<2||36<S)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var k=p(S),V=this.div(k),oe=V.mul(k).sub(this);return V.toString(S)+oe.toInt().toString(S)}return"-"+this.neg().toString(S)}for(var Y=p(d(S,6),this.unsigned),ie=this,z="";;){var M=ie.div(Y),re=(ie.sub(M.mul(Y)).toInt()>>>0).toString(S);if((ie=M).isZero())return re+z;for(;re.length<6;)re="0"+re;z=""+re+z}},$.getHighBits=function(){return this.high},$.getHighBitsUnsigned=function(){return this.high>>>0},$.getLowBits=function(){return this.low},$.getLowBitsUnsigned=function(){return this.low>>>0},$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var S=this.high!=0?this.high:this.low,k=31;k>0&&!(S&1<<k);k--);return this.high!=0?k+33:k+1},$.isZero=function(){return this.high===0&&this.low===0},$.eqz=$.isZero,$.isNegative=function(){return!this.unsigned&&this.high<0},$.isPositive=function(){return this.unsigned||this.high>=0},$.isOdd=function(){return(1&this.low)==1},$.isEven=function(){return(1&this.low)==0},$.equals=function(S){return a(S)||(S=t(S)),(this.unsigned===S.unsigned||this.high>>>31!=1||S.high>>>31!=1)&&this.high===S.high&&this.low===S.low},$.eq=$.equals,$.notEquals=function(S){return!this.eq(S)},$.neq=$.notEquals,$.ne=$.notEquals,$.lessThan=function(S){return this.comp(S)<0},$.lt=$.lessThan,$.lessThanOrEqual=function(S){return this.comp(S)<=0},$.lte=$.lessThanOrEqual,$.le=$.lessThanOrEqual,$.greaterThan=function(S){return this.comp(S)>0},$.gt=$.greaterThan,$.greaterThanOrEqual=function(S){return this.comp(S)>=0},$.gte=$.greaterThanOrEqual,$.ge=$.greaterThanOrEqual,$.compare=function(S){if(a(S)||(S=t(S)),this.eq(S))return 0;var k=this.isNegative(),V=S.isNegative();return k&&!V?-1:!k&&V?1:this.unsigned?S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1:this.sub(S).isNegative()?-1:1},$.comp=$.compare,$.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(v)},$.neg=$.negate,$.add=function(S){a(S)||(S=t(S));var k=this.high>>>16,V=65535&this.high,oe=this.low>>>16,Y=65535&this.low,ie=S.high>>>16,z=65535&S.high,M=S.low>>>16,re=0,Ne=0,pe=0,Ve=0;return pe+=(Ve+=Y+(65535&S.low))>>>16,Ne+=(pe+=oe+M)>>>16,re+=(Ne+=V+z)>>>16,re+=k+ie,g((pe&=65535)<<16|(Ve&=65535),(re&=65535)<<16|(Ne&=65535),this.unsigned)},$.subtract=function(S){return a(S)||(S=t(S)),this.add(S.neg())},$.sub=$.subtract,$.multiply=function(S){if(this.isZero())return b;if(a(S)||(S=t(S)),n)return g(n.mul(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned);if(S.isZero())return b;if(this.eq(A))return S.isOdd()?A:b;if(S.eq(A))return this.isOdd()?A:b;if(this.isNegative())return S.isNegative()?this.neg().mul(S.neg()):this.neg().mul(S).neg();if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(m)&&S.lt(m))return p(this.toNumber()*S.toNumber(),this.unsigned);var k=this.high>>>16,V=65535&this.high,oe=this.low>>>16,Y=65535&this.low,ie=S.high>>>16,z=65535&S.high,M=S.low>>>16,re=65535&S.low,Ne=0,pe=0,Ve=0,Et=0;return Ve+=(Et+=Y*re)>>>16,pe+=(Ve+=oe*re)>>>16,Ve&=65535,pe+=(Ve+=Y*M)>>>16,Ne+=(pe+=V*re)>>>16,pe&=65535,Ne+=(pe+=oe*M)>>>16,pe&=65535,Ne+=(pe+=Y*z)>>>16,Ne+=k*re+V*M+oe*z+Y*ie,g((Ve&=65535)<<16|(Et&=65535),(Ne&=65535)<<16|(pe&=65535),this.unsigned)},$.mul=$.multiply,$.divide=function(S){if(a(S)||(S=t(S)),S.isZero())throw Error("division by zero");var k,V,oe;if(n)return this.unsigned||this.high!==-2147483648||S.low!==-1||S.high!==-1?g((this.unsigned?n.div_u:n.div_s)(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:b;if(this.unsigned){if(S.unsigned||(S=S.toUnsigned()),S.gt(this))return y;if(S.gt(this.shru(1)))return w;oe=y}else{if(this.eq(A))return S.eq(v)||S.eq(T)?A:S.eq(A)?v:(k=this.shr(1).div(S).shl(1)).eq(b)?S.isNegative()?v:T:(V=this.sub(S.mul(k)),oe=k.add(V.div(S)));if(S.eq(A))return this.unsigned?y:b;if(this.isNegative())return S.isNegative()?this.neg().div(S.neg()):this.neg().div(S).neg();if(S.isNegative())return this.div(S.neg()).neg();oe=b}for(V=this;V.gte(S);){k=Math.max(1,Math.floor(V.toNumber()/S.toNumber()));for(var Y=Math.ceil(Math.log(k)/Math.LN2),ie=Y<=48?1:d(2,Y-48),z=p(k),M=z.mul(S);M.isNegative()||M.gt(V);)M=(z=p(k-=ie,this.unsigned)).mul(S);z.isZero()&&(z=v),oe=oe.add(z),V=V.sub(M)}return oe},$.div=$.divide,$.modulo=function(S){return a(S)||(S=t(S)),n?g((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned):this.sub(this.div(S).mul(S))},$.mod=$.modulo,$.rem=$.modulo,$.not=function(){return g(~this.low,~this.high,this.unsigned)},$.and=function(S){return a(S)||(S=t(S)),g(this.low&S.low,this.high&S.high,this.unsigned)},$.or=function(S){return a(S)||(S=t(S)),g(this.low|S.low,this.high|S.high,this.unsigned)},$.xor=function(S){return a(S)||(S=t(S)),g(this.low^S.low,this.high^S.high,this.unsigned)},$.shiftLeft=function(S){return a(S)&&(S=S.toInt()),(S&=63)==0?this:S<32?g(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned):g(0,this.low<<S-32,this.unsigned)},$.shl=$.shiftLeft,$.shiftRight=function(S){return a(S)&&(S=S.toInt()),(S&=63)==0?this:S<32?g(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned):g(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},$.shr=$.shiftRight,$.shiftRightUnsigned=function(S){if(a(S)&&(S=S.toInt()),(S&=63)==0)return this;var k=this.high;return S<32?g(this.low>>>S|k<<32-S,k>>>S,this.unsigned):g(S===32?k:k>>>S-32,0,this.unsigned)},$.shru=$.shiftRightUnsigned,$.shr_u=$.shiftRightUnsigned,$.toSigned=function(){return this.unsigned?g(this.low,this.high,!1):this},$.toUnsigned=function(){return this.unsigned?this:g(this.low,this.high,!0)},$.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},$.toBytesLE=function(){var S=this.high,k=this.low;return[255&k,k>>>8&255,k>>>16&255,k>>>24,255&S,S>>>8&255,S>>>16&255,S>>>24]},$.toBytesBE=function(){var S=this.high,k=this.low;return[S>>>24,S>>>16&255,S>>>8&255,255&S,k>>>24,k>>>16&255,k>>>8&255,255&k]},o.fromBytes=function(S,k,V){return V?o.fromBytesLE(S,k):o.fromBytesBE(S,k)},o.fromBytesLE=function(S,k){return new o(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,k)},o.fromBytesBE=function(S,k){return new o(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],k)}},1446:(r,n,o)=>{var a,l,f,u=o(2100),p=u.Reader,g=u.Writer,d=u.util,c=u.roots.default||(u.roots.default={});c.onnx=((f={}).Version=(a={},(l=Object.create(a))[a[0]="_START_VERSION"]=0,l[a[1]="IR_VERSION_2017_10_10"]=1,l[a[2]="IR_VERSION_2017_10_30"]=2,l[a[3]="IR_VERSION_2017_11_3"]=3,l[a[4]="IR_VERSION_2019_1_22"]=4,l[a[5]="IR_VERSION"]=5,l),f.AttributeProto=function(){function t(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=d.Long?d.Long.fromBits(0,0,!1):0,t.prototype.s=d.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.floats=d.emptyArray,t.prototype.ints=d.emptyArray,t.prototype.strings=d.emptyArray,t.prototype.tensors=d.emptyArray,t.prototype.graphs=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.name!=null&&e.hasOwnProperty("name")&&i.uint32(10).string(e.name),e.f!=null&&e.hasOwnProperty("f")&&i.uint32(21).float(e.f),e.i!=null&&e.hasOwnProperty("i")&&i.uint32(24).int64(e.i),e.s!=null&&e.hasOwnProperty("s")&&i.uint32(34).bytes(e.s),e.t!=null&&e.hasOwnProperty("t")&&c.onnx.TensorProto.encode(e.t,i.uint32(42).fork()).ldelim(),e.g!=null&&e.hasOwnProperty("g")&&c.onnx.GraphProto.encode(e.g,i.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){i.uint32(58).fork();for(var s=0;s<e.floats.length;++s)i.float(e.floats[s]);i.ldelim()}if(e.ints!=null&&e.ints.length){for(i.uint32(66).fork(),s=0;s<e.ints.length;++s)i.int64(e.ints[s]);i.ldelim()}if(e.strings!=null&&e.strings.length)for(s=0;s<e.strings.length;++s)i.uint32(74).bytes(e.strings[s]);if(e.tensors!=null&&e.tensors.length)for(s=0;s<e.tensors.length;++s)c.onnx.TensorProto.encode(e.tensors[s],i.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(s=0;s<e.graphs.length;++s)c.onnx.GraphProto.encode(e.graphs[s],i.uint32(90).fork()).ldelim();return e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(106).string(e.docString),e.type!=null&&e.hasOwnProperty("type")&&i.uint32(160).int32(e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&i.uint32(170).string(e.refAttrName),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.AttributeProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.name=e.string();break;case 21:m.refAttrName=e.string();break;case 13:m.docString=e.string();break;case 20:m.type=e.int32();break;case 2:m.f=e.float();break;case 3:m.i=e.int64();break;case 4:m.s=e.bytes();break;case 5:m.t=c.onnx.TensorProto.decode(e,e.uint32());break;case 6:m.g=c.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(m.floats&&m.floats.length||(m.floats=[]),(7&b)==2)for(var y=e.uint32()+e.pos;e.pos<y;)m.floats.push(e.float());else m.floats.push(e.float());break;case 8:if(m.ints&&m.ints.length||(m.ints=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.ints.push(e.int64());else m.ints.push(e.int64());break;case 9:m.strings&&m.strings.length||(m.strings=[]),m.strings.push(e.bytes());break;case 10:m.tensors&&m.tensors.length||(m.tensors=[]),m.tensors.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 11:m.graphs&&m.graphs.length||(m.graphs=[]),m.graphs.push(c.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!d.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!(d.isInteger(e.i)||e.i&&d.isInteger(e.i.low)&&d.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||d.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")&&(s=c.onnx.TensorProto.verify(e.t)))return"t."+s;if(e.g!=null&&e.hasOwnProperty("g")&&(s=c.onnx.GraphProto.verify(e.g)))return"g."+s;if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var i=0;i<e.floats.length;++i)if(typeof e.floats[i]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(i=0;i<e.ints.length;++i)if(!(d.isInteger(e.ints[i])||e.ints[i]&&d.isInteger(e.ints[i].low)&&d.isInteger(e.ints[i].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(i=0;i<e.strings.length;++i)if(!(e.strings[i]&&typeof e.strings[i].length=="number"||d.isString(e.strings[i])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(i=0;i<e.tensors.length;++i)if(s=c.onnx.TensorProto.verify(e.tensors[i]))return"tensors."+s}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(i=0;i<e.graphs.length;++i){var s;if(s=c.onnx.GraphProto.verify(e.graphs[i]))return"graphs."+s}}return null},t.fromObject=function(e){if(e instanceof c.onnx.AttributeProto)return e;var i=new c.onnx.AttributeProto;switch(e.name!=null&&(i.name=String(e.name)),e.refAttrName!=null&&(i.refAttrName=String(e.refAttrName)),e.docString!=null&&(i.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:i.type=0;break;case"FLOAT":case 1:i.type=1;break;case"INT":case 2:i.type=2;break;case"STRING":case 3:i.type=3;break;case"TENSOR":case 4:i.type=4;break;case"GRAPH":case 5:i.type=5;break;case"FLOATS":case 6:i.type=6;break;case"INTS":case 7:i.type=7;break;case"STRINGS":case 8:i.type=8;break;case"TENSORS":case 9:i.type=9;break;case"GRAPHS":case 10:i.type=10}if(e.f!=null&&(i.f=Number(e.f)),e.i!=null&&(d.Long?(i.i=d.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?i.i=parseInt(e.i,10):typeof e.i=="number"?i.i=e.i:typeof e.i=="object"&&(i.i=new d.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?d.base64.decode(e.s,i.s=d.newBuffer(d.base64.length(e.s)),0):e.s.length&&(i.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");i.t=c.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");i.g=c.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");i.floats=[];for(var s=0;s<e.floats.length;++s)i.floats[s]=Number(e.floats[s])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(i.ints=[],s=0;s<e.ints.length;++s)d.Long?(i.ints[s]=d.Long.fromValue(e.ints[s])).unsigned=!1:typeof e.ints[s]=="string"?i.ints[s]=parseInt(e.ints[s],10):typeof e.ints[s]=="number"?i.ints[s]=e.ints[s]:typeof e.ints[s]=="object"&&(i.ints[s]=new d.LongBits(e.ints[s].low>>>0,e.ints[s].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(i.strings=[],s=0;s<e.strings.length;++s)typeof e.strings[s]=="string"?d.base64.decode(e.strings[s],i.strings[s]=d.newBuffer(d.base64.length(e.strings[s])),0):e.strings[s].length&&(i.strings[s]=e.strings[s])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(i.tensors=[],s=0;s<e.tensors.length;++s){if(typeof e.tensors[s]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");i.tensors[s]=c.onnx.TensorProto.fromObject(e.tensors[s])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(i.graphs=[],s=0;s<e.graphs.length;++s){if(typeof e.graphs[s]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");i.graphs[s]=c.onnx.GraphProto.fromObject(e.graphs[s])}}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.floats=[],s.ints=[],s.strings=[],s.tensors=[],s.graphs=[]),i.defaults){if(s.name="",s.f=0,d.Long){var m=new d.Long(0,0,!1);s.i=i.longs===String?m.toString():i.longs===Number?m.toNumber():m}else s.i=i.longs===String?"0":0;i.bytes===String?s.s="":(s.s=[],i.bytes!==Array&&(s.s=d.newBuffer(s.s))),s.t=null,s.g=null,s.docString="",s.type=i.enums===String?"UNDEFINED":0,s.refAttrName=""}if(e.name!=null&&e.hasOwnProperty("name")&&(s.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(s.f=i.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?s.i=i.longs===String?String(e.i):e.i:s.i=i.longs===String?d.Long.prototype.toString.call(e.i):i.longs===Number?new d.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(s.s=i.bytes===String?d.base64.encode(e.s,0,e.s.length):i.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(s.t=c.onnx.TensorProto.toObject(e.t,i)),e.g!=null&&e.hasOwnProperty("g")&&(s.g=c.onnx.GraphProto.toObject(e.g,i)),e.floats&&e.floats.length){s.floats=[];for(var b=0;b<e.floats.length;++b)s.floats[b]=i.json&&!isFinite(e.floats[b])?String(e.floats[b]):e.floats[b]}if(e.ints&&e.ints.length)for(s.ints=[],b=0;b<e.ints.length;++b)typeof e.ints[b]=="number"?s.ints[b]=i.longs===String?String(e.ints[b]):e.ints[b]:s.ints[b]=i.longs===String?d.Long.prototype.toString.call(e.ints[b]):i.longs===Number?new d.LongBits(e.ints[b].low>>>0,e.ints[b].high>>>0).toNumber():e.ints[b];if(e.strings&&e.strings.length)for(s.strings=[],b=0;b<e.strings.length;++b)s.strings[b]=i.bytes===String?d.base64.encode(e.strings[b],0,e.strings[b].length):i.bytes===Array?Array.prototype.slice.call(e.strings[b]):e.strings[b];if(e.tensors&&e.tensors.length)for(s.tensors=[],b=0;b<e.tensors.length;++b)s.tensors[b]=c.onnx.TensorProto.toObject(e.tensors[b],i);if(e.graphs&&e.graphs.length)for(s.graphs=[],b=0;b<e.graphs.length;++b)s.graphs[b]=c.onnx.GraphProto.toObject(e.graphs[b],i);return e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),e.type!=null&&e.hasOwnProperty("type")&&(s.type=i.enums===String?c.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(s.refAttrName=e.refAttrName),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.AttributeType=function(){var e={},i=Object.create(e);return i[e[0]="UNDEFINED"]=0,i[e[1]="FLOAT"]=1,i[e[2]="INT"]=2,i[e[3]="STRING"]=3,i[e[4]="TENSOR"]=4,i[e[5]="GRAPH"]=5,i[e[6]="FLOATS"]=6,i[e[7]="INTS"]=7,i[e[8]="STRINGS"]=8,i[e[9]="TENSORS"]=9,i[e[10]="GRAPHS"]=10,i}(),t}(),f.ValueInfoProto=function(){function t(e){if(e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,i){return i||(i=g.create()),e.name!=null&&e.hasOwnProperty("name")&&i.uint32(10).string(e.name),e.type!=null&&e.hasOwnProperty("type")&&c.onnx.TypeProto.encode(e.type,i.uint32(18).fork()).ldelim(),e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(26).string(e.docString),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.ValueInfoProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.name=e.string();break;case 2:m.type=c.onnx.TypeProto.decode(e,e.uint32());break;case 3:m.docString=e.string();break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var i=c.onnx.TypeProto.verify(e.type);if(i)return"type."+i}return e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof c.onnx.ValueInfoProto)return e;var i=new c.onnx.ValueInfoProto;if(e.name!=null&&(i.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");i.type=c.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(i.docString=String(e.docString)),i},t.toObject=function(e,i){i||(i={});var s={};return i.defaults&&(s.name="",s.type=null,s.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(s.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(s.type=c.onnx.TypeProto.toObject(e.type,i)),e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.NodeProto=function(){function t(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.input=d.emptyArray,t.prototype.output=d.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=d.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.input!=null&&e.input.length)for(var s=0;s<e.input.length;++s)i.uint32(10).string(e.input[s]);if(e.output!=null&&e.output.length)for(s=0;s<e.output.length;++s)i.uint32(18).string(e.output[s]);if(e.name!=null&&e.hasOwnProperty("name")&&i.uint32(26).string(e.name),e.opType!=null&&e.hasOwnProperty("opType")&&i.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(s=0;s<e.attribute.length;++s)c.onnx.AttributeProto.encode(e.attribute[s],i.uint32(42).fork()).ldelim();return e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(50).string(e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&i.uint32(58).string(e.domain),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.NodeProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.input&&m.input.length||(m.input=[]),m.input.push(e.string());break;case 2:m.output&&m.output.length||(m.output=[]),m.output.push(e.string());break;case 3:m.name=e.string();break;case 4:m.opType=e.string();break;case 7:m.domain=e.string();break;case 5:m.attribute&&m.attribute.length||(m.attribute=[]),m.attribute.push(c.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:m.docString=e.string();break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var i=0;i<e.input.length;++i)if(!d.isString(e.input[i]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(i=0;i<e.output.length;++i)if(!d.isString(e.output[i]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!d.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!d.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(i=0;i<e.attribute.length;++i){var s=c.onnx.AttributeProto.verify(e.attribute[i]);if(s)return"attribute."+s}}return e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof c.onnx.NodeProto)return e;var i=new c.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");i.input=[];for(var s=0;s<e.input.length;++s)i.input[s]=String(e.input[s])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(i.output=[],s=0;s<e.output.length;++s)i.output[s]=String(e.output[s])}if(e.name!=null&&(i.name=String(e.name)),e.opType!=null&&(i.opType=String(e.opType)),e.domain!=null&&(i.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(i.attribute=[],s=0;s<e.attribute.length;++s){if(typeof e.attribute[s]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");i.attribute[s]=c.onnx.AttributeProto.fromObject(e.attribute[s])}}return e.docString!=null&&(i.docString=String(e.docString)),i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.input=[],s.output=[],s.attribute=[]),i.defaults&&(s.name="",s.opType="",s.docString="",s.domain=""),e.input&&e.input.length){s.input=[];for(var m=0;m<e.input.length;++m)s.input[m]=e.input[m]}if(e.output&&e.output.length)for(s.output=[],m=0;m<e.output.length;++m)s.output[m]=e.output[m];if(e.name!=null&&e.hasOwnProperty("name")&&(s.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(s.opType=e.opType),e.attribute&&e.attribute.length)for(s.attribute=[],m=0;m<e.attribute.length;++m)s.attribute[m]=c.onnx.AttributeProto.toObject(e.attribute[m],i);return e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(s.domain=e.domain),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.ModelProto=function(){function t(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.irVersion=d.Long?d.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=d.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=d.Long?d.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.irVersion!=null&&e.hasOwnProperty("irVersion")&&i.uint32(8).int64(e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&i.uint32(18).string(e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&i.uint32(26).string(e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&i.uint32(34).string(e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&i.uint32(40).int64(e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(50).string(e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&c.onnx.GraphProto.encode(e.graph,i.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var s=0;s<e.opsetImport.length;++s)c.onnx.OperatorSetIdProto.encode(e.opsetImport[s],i.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(s=0;s<e.metadataProps.length;++s)c.onnx.StringStringEntryProto.encode(e.metadataProps[s],i.uint32(114).fork()).ldelim();return i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.ModelProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.irVersion=e.int64();break;case 8:m.opsetImport&&m.opsetImport.length||(m.opsetImport=[]),m.opsetImport.push(c.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:m.producerName=e.string();break;case 3:m.producerVersion=e.string();break;case 4:m.domain=e.string();break;case 5:m.modelVersion=e.int64();break;case 6:m.docString=e.string();break;case 7:m.graph=c.onnx.GraphProto.decode(e,e.uint32());break;case 14:m.metadataProps&&m.metadataProps.length||(m.metadataProps=[]),m.metadataProps.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!(d.isInteger(e.irVersion)||e.irVersion&&d.isInteger(e.irVersion.low)&&d.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var i=0;i<e.opsetImport.length;++i)if(s=c.onnx.OperatorSetIdProto.verify(e.opsetImport[i]))return"opsetImport."+s}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!d.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!d.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!d.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!(d.isInteger(e.modelVersion)||e.modelVersion&&d.isInteger(e.modelVersion.low)&&d.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")&&(s=c.onnx.GraphProto.verify(e.graph)))return"graph."+s;if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(i=0;i<e.metadataProps.length;++i){var s;if(s=c.onnx.StringStringEntryProto.verify(e.metadataProps[i]))return"metadataProps."+s}}return null},t.fromObject=function(e){if(e instanceof c.onnx.ModelProto)return e;var i=new c.onnx.ModelProto;if(e.irVersion!=null&&(d.Long?(i.irVersion=d.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?i.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?i.irVersion=e.irVersion:typeof e.irVersion=="object"&&(i.irVersion=new d.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");i.opsetImport=[];for(var s=0;s<e.opsetImport.length;++s){if(typeof e.opsetImport[s]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");i.opsetImport[s]=c.onnx.OperatorSetIdProto.fromObject(e.opsetImport[s])}}if(e.producerName!=null&&(i.producerName=String(e.producerName)),e.producerVersion!=null&&(i.producerVersion=String(e.producerVersion)),e.domain!=null&&(i.domain=String(e.domain)),e.modelVersion!=null&&(d.Long?(i.modelVersion=d.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?i.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?i.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(i.modelVersion=new d.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(i.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");i.graph=c.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(i.metadataProps=[],s=0;s<e.metadataProps.length;++s){if(typeof e.metadataProps[s]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");i.metadataProps[s]=c.onnx.StringStringEntryProto.fromObject(e.metadataProps[s])}}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.opsetImport=[],s.metadataProps=[]),i.defaults){if(d.Long){var m=new d.Long(0,0,!1);s.irVersion=i.longs===String?m.toString():i.longs===Number?m.toNumber():m}else s.irVersion=i.longs===String?"0":0;s.producerName="",s.producerVersion="",s.domain="",d.Long?(m=new d.Long(0,0,!1),s.modelVersion=i.longs===String?m.toString():i.longs===Number?m.toNumber():m):s.modelVersion=i.longs===String?"0":0,s.docString="",s.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?s.irVersion=i.longs===String?String(e.irVersion):e.irVersion:s.irVersion=i.longs===String?d.Long.prototype.toString.call(e.irVersion):i.longs===Number?new d.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(s.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(s.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(s.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?s.modelVersion=i.longs===String?String(e.modelVersion):e.modelVersion:s.modelVersion=i.longs===String?d.Long.prototype.toString.call(e.modelVersion):i.longs===Number?new d.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(s.graph=c.onnx.GraphProto.toObject(e.graph,i)),e.opsetImport&&e.opsetImport.length){s.opsetImport=[];for(var b=0;b<e.opsetImport.length;++b)s.opsetImport[b]=c.onnx.OperatorSetIdProto.toObject(e.opsetImport[b],i)}if(e.metadataProps&&e.metadataProps.length)for(s.metadataProps=[],b=0;b<e.metadataProps.length;++b)s.metadataProps[b]=c.onnx.StringStringEntryProto.toObject(e.metadataProps[b],i);return s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.StringStringEntryProto=function(){function t(e){if(e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(e,i){return i||(i=g.create()),e.key!=null&&e.hasOwnProperty("key")&&i.uint32(10).string(e.key),e.value!=null&&e.hasOwnProperty("value")&&i.uint32(18).string(e.value),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.StringStringEntryProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.key=e.string();break;case 2:m.value=e.string();break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!d.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!d.isString(e.value)?"value: string expected":null},t.fromObject=function(e){if(e instanceof c.onnx.StringStringEntryProto)return e;var i=new c.onnx.StringStringEntryProto;return e.key!=null&&(i.key=String(e.key)),e.value!=null&&(i.value=String(e.value)),i},t.toObject=function(e,i){i||(i={});var s={};return i.defaults&&(s.key="",s.value=""),e.key!=null&&e.hasOwnProperty("key")&&(s.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(s.value=e.value),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.TensorAnnotation=function(){function t(e){if(this.quantParameterTensorNames=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&i.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var s=0;s<e.quantParameterTensorNames.length;++s)c.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[s],i.uint32(18).fork()).ldelim();return i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.TensorAnnotation;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.tensorName=e.string();break;case 2:m.quantParameterTensorNames&&m.quantParameterTensorNames.length||(m.quantParameterTensorNames=[]),m.quantParameterTensorNames.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!d.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var i=0;i<e.quantParameterTensorNames.length;++i){var s=c.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[i]);if(s)return"quantParameterTensorNames."+s}}return null},t.fromObject=function(e){if(e instanceof c.onnx.TensorAnnotation)return e;var i=new c.onnx.TensorAnnotation;if(e.tensorName!=null&&(i.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");i.quantParameterTensorNames=[];for(var s=0;s<e.quantParameterTensorNames.length;++s){if(typeof e.quantParameterTensorNames[s]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");i.quantParameterTensorNames[s]=c.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[s])}}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.quantParameterTensorNames=[]),i.defaults&&(s.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(s.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){s.quantParameterTensorNames=[];for(var m=0;m<e.quantParameterTensorNames.length;++m)s.quantParameterTensorNames[m]=c.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[m],i)}return s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.GraphProto=function(){function t(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.node=d.emptyArray,t.prototype.name="",t.prototype.initializer=d.emptyArray,t.prototype.docString="",t.prototype.input=d.emptyArray,t.prototype.output=d.emptyArray,t.prototype.valueInfo=d.emptyArray,t.prototype.quantizationAnnotation=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.node!=null&&e.node.length)for(var s=0;s<e.node.length;++s)c.onnx.NodeProto.encode(e.node[s],i.uint32(10).fork()).ldelim();if(e.name!=null&&e.hasOwnProperty("name")&&i.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(s=0;s<e.initializer.length;++s)c.onnx.TensorProto.encode(e.initializer[s],i.uint32(42).fork()).ldelim();if(e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(s=0;s<e.input.length;++s)c.onnx.ValueInfoProto.encode(e.input[s],i.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(s=0;s<e.output.length;++s)c.onnx.ValueInfoProto.encode(e.output[s],i.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(s=0;s<e.valueInfo.length;++s)c.onnx.ValueInfoProto.encode(e.valueInfo[s],i.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(s=0;s<e.quantizationAnnotation.length;++s)c.onnx.TensorAnnotation.encode(e.quantizationAnnotation[s],i.uint32(114).fork()).ldelim();return i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.GraphProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.node&&m.node.length||(m.node=[]),m.node.push(c.onnx.NodeProto.decode(e,e.uint32()));break;case 2:m.name=e.string();break;case 5:m.initializer&&m.initializer.length||(m.initializer=[]),m.initializer.push(c.onnx.TensorProto.decode(e,e.uint32()));break;case 10:m.docString=e.string();break;case 11:m.input&&m.input.length||(m.input=[]),m.input.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:m.output&&m.output.length||(m.output=[]),m.output.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:m.valueInfo&&m.valueInfo.length||(m.valueInfo=[]),m.valueInfo.push(c.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:m.quantizationAnnotation&&m.quantizationAnnotation.length||(m.quantizationAnnotation=[]),m.quantizationAnnotation.push(c.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var i=0;i<e.node.length;++i)if(s=c.onnx.NodeProto.verify(e.node[i]))return"node."+s}if(e.name!=null&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(i=0;i<e.initializer.length;++i)if(s=c.onnx.TensorProto.verify(e.initializer[i]))return"initializer."+s}if(e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(i=0;i<e.input.length;++i)if(s=c.onnx.ValueInfoProto.verify(e.input[i]))return"input."+s}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(i=0;i<e.output.length;++i)if(s=c.onnx.ValueInfoProto.verify(e.output[i]))return"output."+s}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(i=0;i<e.valueInfo.length;++i)if(s=c.onnx.ValueInfoProto.verify(e.valueInfo[i]))return"valueInfo."+s}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(i=0;i<e.quantizationAnnotation.length;++i){var s;if(s=c.onnx.TensorAnnotation.verify(e.quantizationAnnotation[i]))return"quantizationAnnotation."+s}}return null},t.fromObject=function(e){if(e instanceof c.onnx.GraphProto)return e;var i=new c.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");i.node=[];for(var s=0;s<e.node.length;++s){if(typeof e.node[s]!="object")throw TypeError(".onnx.GraphProto.node: object expected");i.node[s]=c.onnx.NodeProto.fromObject(e.node[s])}}if(e.name!=null&&(i.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(i.initializer=[],s=0;s<e.initializer.length;++s){if(typeof e.initializer[s]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");i.initializer[s]=c.onnx.TensorProto.fromObject(e.initializer[s])}}if(e.docString!=null&&(i.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(i.input=[],s=0;s<e.input.length;++s){if(typeof e.input[s]!="object")throw TypeError(".onnx.GraphProto.input: object expected");i.input[s]=c.onnx.ValueInfoProto.fromObject(e.input[s])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(i.output=[],s=0;s<e.output.length;++s){if(typeof e.output[s]!="object")throw TypeError(".onnx.GraphProto.output: object expected");i.output[s]=c.onnx.ValueInfoProto.fromObject(e.output[s])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(i.valueInfo=[],s=0;s<e.valueInfo.length;++s){if(typeof e.valueInfo[s]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");i.valueInfo[s]=c.onnx.ValueInfoProto.fromObject(e.valueInfo[s])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(i.quantizationAnnotation=[],s=0;s<e.quantizationAnnotation.length;++s){if(typeof e.quantizationAnnotation[s]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");i.quantizationAnnotation[s]=c.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[s])}}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.node=[],s.initializer=[],s.input=[],s.output=[],s.valueInfo=[],s.quantizationAnnotation=[]),i.defaults&&(s.name="",s.docString=""),e.node&&e.node.length){s.node=[];for(var m=0;m<e.node.length;++m)s.node[m]=c.onnx.NodeProto.toObject(e.node[m],i)}if(e.name!=null&&e.hasOwnProperty("name")&&(s.name=e.name),e.initializer&&e.initializer.length)for(s.initializer=[],m=0;m<e.initializer.length;++m)s.initializer[m]=c.onnx.TensorProto.toObject(e.initializer[m],i);if(e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),e.input&&e.input.length)for(s.input=[],m=0;m<e.input.length;++m)s.input[m]=c.onnx.ValueInfoProto.toObject(e.input[m],i);if(e.output&&e.output.length)for(s.output=[],m=0;m<e.output.length;++m)s.output[m]=c.onnx.ValueInfoProto.toObject(e.output[m],i);if(e.valueInfo&&e.valueInfo.length)for(s.valueInfo=[],m=0;m<e.valueInfo.length;++m)s.valueInfo[m]=c.onnx.ValueInfoProto.toObject(e.valueInfo[m],i);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(s.quantizationAnnotation=[],m=0;m<e.quantizationAnnotation.length;++m)s.quantizationAnnotation[m]=c.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[m],i);return s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f.TensorProto=function(){function t(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.dims=d.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=d.emptyArray,t.prototype.int32Data=d.emptyArray,t.prototype.stringData=d.emptyArray,t.prototype.int64Data=d.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=d.newBuffer([]),t.prototype.externalData=d.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=d.emptyArray,t.prototype.uint64Data=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.dims!=null&&e.dims.length){i.uint32(10).fork();for(var s=0;s<e.dims.length;++s)i.int64(e.dims[s]);i.ldelim()}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&i.uint32(16).int32(e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&c.onnx.TensorProto.Segment.encode(e.segment,i.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){for(i.uint32(34).fork(),s=0;s<e.floatData.length;++s)i.float(e.floatData[s]);i.ldelim()}if(e.int32Data!=null&&e.int32Data.length){for(i.uint32(42).fork(),s=0;s<e.int32Data.length;++s)i.int32(e.int32Data[s]);i.ldelim()}if(e.stringData!=null&&e.stringData.length)for(s=0;s<e.stringData.length;++s)i.uint32(50).bytes(e.stringData[s]);if(e.int64Data!=null&&e.int64Data.length){for(i.uint32(58).fork(),s=0;s<e.int64Data.length;++s)i.int64(e.int64Data[s]);i.ldelim()}if(e.name!=null&&e.hasOwnProperty("name")&&i.uint32(66).string(e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&i.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){for(i.uint32(82).fork(),s=0;s<e.doubleData.length;++s)i.double(e.doubleData[s]);i.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){for(i.uint32(90).fork(),s=0;s<e.uint64Data.length;++s)i.uint64(e.uint64Data[s]);i.ldelim()}if(e.docString!=null&&e.hasOwnProperty("docString")&&i.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(s=0;s<e.externalData.length;++s)c.onnx.StringStringEntryProto.encode(e.externalData[s],i.uint32(106).fork()).ldelim();return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&i.uint32(112).int32(e.dataLocation),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.TensorProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:if(m.dims&&m.dims.length||(m.dims=[]),(7&b)==2)for(var y=e.uint32()+e.pos;e.pos<y;)m.dims.push(e.int64());else m.dims.push(e.int64());break;case 2:m.dataType=e.int32();break;case 3:m.segment=c.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(m.floatData&&m.floatData.length||(m.floatData=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.floatData.push(e.float());else m.floatData.push(e.float());break;case 5:if(m.int32Data&&m.int32Data.length||(m.int32Data=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.int32Data.push(e.int32());else m.int32Data.push(e.int32());break;case 6:m.stringData&&m.stringData.length||(m.stringData=[]),m.stringData.push(e.bytes());break;case 7:if(m.int64Data&&m.int64Data.length||(m.int64Data=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.int64Data.push(e.int64());else m.int64Data.push(e.int64());break;case 8:m.name=e.string();break;case 12:m.docString=e.string();break;case 9:m.rawData=e.bytes();break;case 13:m.externalData&&m.externalData.length||(m.externalData=[]),m.externalData.push(c.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:m.dataLocation=e.int32();break;case 10:if(m.doubleData&&m.doubleData.length||(m.doubleData=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.doubleData.push(e.double());else m.doubleData.push(e.double());break;case 11:if(m.uint64Data&&m.uint64Data.length||(m.uint64Data=[]),(7&b)==2)for(y=e.uint32()+e.pos;e.pos<y;)m.uint64Data.push(e.uint64());else m.uint64Data.push(e.uint64());break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var i=0;i<e.dims.length;++i)if(!(d.isInteger(e.dims[i])||e.dims[i]&&d.isInteger(e.dims[i].low)&&d.isInteger(e.dims[i].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!d.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")&&(s=c.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+s;if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(i=0;i<e.floatData.length;++i)if(typeof e.floatData[i]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(i=0;i<e.int32Data.length;++i)if(!d.isInteger(e.int32Data[i]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(i=0;i<e.stringData.length;++i)if(!(e.stringData[i]&&typeof e.stringData[i].length=="number"||d.isString(e.stringData[i])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(i=0;i<e.int64Data.length;++i)if(!(d.isInteger(e.int64Data[i])||e.int64Data[i]&&d.isInteger(e.int64Data[i].low)&&d.isInteger(e.int64Data[i].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!d.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!d.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||d.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(i=0;i<e.externalData.length;++i){var s;if(s=c.onnx.StringStringEntryProto.verify(e.externalData[i]))return"externalData."+s}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(i=0;i<e.doubleData.length;++i)if(typeof e.doubleData[i]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(i=0;i<e.uint64Data.length;++i)if(!(d.isInteger(e.uint64Data[i])||e.uint64Data[i]&&d.isInteger(e.uint64Data[i].low)&&d.isInteger(e.uint64Data[i].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof c.onnx.TensorProto)return e;var i=new c.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");i.dims=[];for(var s=0;s<e.dims.length;++s)d.Long?(i.dims[s]=d.Long.fromValue(e.dims[s])).unsigned=!1:typeof e.dims[s]=="string"?i.dims[s]=parseInt(e.dims[s],10):typeof e.dims[s]=="number"?i.dims[s]=e.dims[s]:typeof e.dims[s]=="object"&&(i.dims[s]=new d.LongBits(e.dims[s].low>>>0,e.dims[s].high>>>0).toNumber())}if(e.dataType!=null&&(i.dataType=0|e.dataType),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");i.segment=c.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(i.floatData=[],s=0;s<e.floatData.length;++s)i.floatData[s]=Number(e.floatData[s])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(i.int32Data=[],s=0;s<e.int32Data.length;++s)i.int32Data[s]=0|e.int32Data[s]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(i.stringData=[],s=0;s<e.stringData.length;++s)typeof e.stringData[s]=="string"?d.base64.decode(e.stringData[s],i.stringData[s]=d.newBuffer(d.base64.length(e.stringData[s])),0):e.stringData[s].length&&(i.stringData[s]=e.stringData[s])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(i.int64Data=[],s=0;s<e.int64Data.length;++s)d.Long?(i.int64Data[s]=d.Long.fromValue(e.int64Data[s])).unsigned=!1:typeof e.int64Data[s]=="string"?i.int64Data[s]=parseInt(e.int64Data[s],10):typeof e.int64Data[s]=="number"?i.int64Data[s]=e.int64Data[s]:typeof e.int64Data[s]=="object"&&(i.int64Data[s]=new d.LongBits(e.int64Data[s].low>>>0,e.int64Data[s].high>>>0).toNumber())}if(e.name!=null&&(i.name=String(e.name)),e.docString!=null&&(i.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?d.base64.decode(e.rawData,i.rawData=d.newBuffer(d.base64.length(e.rawData)),0):e.rawData.length&&(i.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(i.externalData=[],s=0;s<e.externalData.length;++s){if(typeof e.externalData[s]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");i.externalData[s]=c.onnx.StringStringEntryProto.fromObject(e.externalData[s])}}switch(e.dataLocation){case"DEFAULT":case 0:i.dataLocation=0;break;case"EXTERNAL":case 1:i.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(i.doubleData=[],s=0;s<e.doubleData.length;++s)i.doubleData[s]=Number(e.doubleData[s])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(i.uint64Data=[],s=0;s<e.uint64Data.length;++s)d.Long?(i.uint64Data[s]=d.Long.fromValue(e.uint64Data[s])).unsigned=!0:typeof e.uint64Data[s]=="string"?i.uint64Data[s]=parseInt(e.uint64Data[s],10):typeof e.uint64Data[s]=="number"?i.uint64Data[s]=e.uint64Data[s]:typeof e.uint64Data[s]=="object"&&(i.uint64Data[s]=new d.LongBits(e.uint64Data[s].low>>>0,e.uint64Data[s].high>>>0).toNumber(!0))}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.dims=[],s.floatData=[],s.int32Data=[],s.stringData=[],s.int64Data=[],s.doubleData=[],s.uint64Data=[],s.externalData=[]),i.defaults&&(s.dataType=0,s.segment=null,s.name="",i.bytes===String?s.rawData="":(s.rawData=[],i.bytes!==Array&&(s.rawData=d.newBuffer(s.rawData))),s.docString="",s.dataLocation=i.enums===String?"DEFAULT":0),e.dims&&e.dims.length){s.dims=[];for(var m=0;m<e.dims.length;++m)typeof e.dims[m]=="number"?s.dims[m]=i.longs===String?String(e.dims[m]):e.dims[m]:s.dims[m]=i.longs===String?d.Long.prototype.toString.call(e.dims[m]):i.longs===Number?new d.LongBits(e.dims[m].low>>>0,e.dims[m].high>>>0).toNumber():e.dims[m]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(s.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(s.segment=c.onnx.TensorProto.Segment.toObject(e.segment,i)),e.floatData&&e.floatData.length)for(s.floatData=[],m=0;m<e.floatData.length;++m)s.floatData[m]=i.json&&!isFinite(e.floatData[m])?String(e.floatData[m]):e.floatData[m];if(e.int32Data&&e.int32Data.length)for(s.int32Data=[],m=0;m<e.int32Data.length;++m)s.int32Data[m]=e.int32Data[m];if(e.stringData&&e.stringData.length)for(s.stringData=[],m=0;m<e.stringData.length;++m)s.stringData[m]=i.bytes===String?d.base64.encode(e.stringData[m],0,e.stringData[m].length):i.bytes===Array?Array.prototype.slice.call(e.stringData[m]):e.stringData[m];if(e.int64Data&&e.int64Data.length)for(s.int64Data=[],m=0;m<e.int64Data.length;++m)typeof e.int64Data[m]=="number"?s.int64Data[m]=i.longs===String?String(e.int64Data[m]):e.int64Data[m]:s.int64Data[m]=i.longs===String?d.Long.prototype.toString.call(e.int64Data[m]):i.longs===Number?new d.LongBits(e.int64Data[m].low>>>0,e.int64Data[m].high>>>0).toNumber():e.int64Data[m];if(e.name!=null&&e.hasOwnProperty("name")&&(s.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(s.rawData=i.bytes===String?d.base64.encode(e.rawData,0,e.rawData.length):i.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(s.doubleData=[],m=0;m<e.doubleData.length;++m)s.doubleData[m]=i.json&&!isFinite(e.doubleData[m])?String(e.doubleData[m]):e.doubleData[m];if(e.uint64Data&&e.uint64Data.length)for(s.uint64Data=[],m=0;m<e.uint64Data.length;++m)typeof e.uint64Data[m]=="number"?s.uint64Data[m]=i.longs===String?String(e.uint64Data[m]):e.uint64Data[m]:s.uint64Data[m]=i.longs===String?d.Long.prototype.toString.call(e.uint64Data[m]):i.longs===Number?new d.LongBits(e.uint64Data[m].low>>>0,e.uint64Data[m].high>>>0).toNumber(!0):e.uint64Data[m];if(e.docString!=null&&e.hasOwnProperty("docString")&&(s.docString=e.docString),e.externalData&&e.externalData.length)for(s.externalData=[],m=0;m<e.externalData.length;++m)s.externalData[m]=c.onnx.StringStringEntryProto.toObject(e.externalData[m],i);return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(s.dataLocation=i.enums===String?c.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.DataType=function(){var e={},i=Object.create(e);return i[e[0]="UNDEFINED"]=0,i[e[1]="FLOAT"]=1,i[e[2]="UINT8"]=2,i[e[3]="INT8"]=3,i[e[4]="UINT16"]=4,i[e[5]="INT16"]=5,i[e[6]="INT32"]=6,i[e[7]="INT64"]=7,i[e[8]="STRING"]=8,i[e[9]="BOOL"]=9,i[e[10]="FLOAT16"]=10,i[e[11]="DOUBLE"]=11,i[e[12]="UINT32"]=12,i[e[13]="UINT64"]=13,i[e[14]="COMPLEX64"]=14,i[e[15]="COMPLEX128"]=15,i[e[16]="BFLOAT16"]=16,i}(),t.Segment=function(){function e(i){if(i)for(var s=Object.keys(i),m=0;m<s.length;++m)i[s[m]]!=null&&(this[s[m]]=i[s[m]])}return e.prototype.begin=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.end=d.Long?d.Long.fromBits(0,0,!1):0,e.create=function(i){return new e(i)},e.encode=function(i,s){return s||(s=g.create()),i.begin!=null&&i.hasOwnProperty("begin")&&s.uint32(8).int64(i.begin),i.end!=null&&i.hasOwnProperty("end")&&s.uint32(16).int64(i.end),s},e.encodeDelimited=function(i,s){return this.encode(i,s).ldelim()},e.decode=function(i,s){i instanceof p||(i=p.create(i));for(var m=s===void 0?i.len:i.pos+s,b=new c.onnx.TensorProto.Segment;i.pos<m;){var y=i.uint32();switch(y>>>3){case 1:b.begin=i.int64();break;case 2:b.end=i.int64();break;default:i.skipType(7&y)}}return b},e.decodeDelimited=function(i){return i instanceof p||(i=new p(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.begin!=null&&i.hasOwnProperty("begin")&&!(d.isInteger(i.begin)||i.begin&&d.isInteger(i.begin.low)&&d.isInteger(i.begin.high))?"begin: integer|Long expected":i.end!=null&&i.hasOwnProperty("end")&&!(d.isInteger(i.end)||i.end&&d.isInteger(i.end.low)&&d.isInteger(i.end.high))?"end: integer|Long expected":null},e.fromObject=function(i){if(i instanceof c.onnx.TensorProto.Segment)return i;var s=new c.onnx.TensorProto.Segment;return i.begin!=null&&(d.Long?(s.begin=d.Long.fromValue(i.begin)).unsigned=!1:typeof i.begin=="string"?s.begin=parseInt(i.begin,10):typeof i.begin=="number"?s.begin=i.begin:typeof i.begin=="object"&&(s.begin=new d.LongBits(i.begin.low>>>0,i.begin.high>>>0).toNumber())),i.end!=null&&(d.Long?(s.end=d.Long.fromValue(i.end)).unsigned=!1:typeof i.end=="string"?s.end=parseInt(i.end,10):typeof i.end=="number"?s.end=i.end:typeof i.end=="object"&&(s.end=new d.LongBits(i.end.low>>>0,i.end.high>>>0).toNumber())),s},e.toObject=function(i,s){s||(s={});var m={};if(s.defaults){if(d.Long){var b=new d.Long(0,0,!1);m.begin=s.longs===String?b.toString():s.longs===Number?b.toNumber():b}else m.begin=s.longs===String?"0":0;d.Long?(b=new d.Long(0,0,!1),m.end=s.longs===String?b.toString():s.longs===Number?b.toNumber():b):m.end=s.longs===String?"0":0}return i.begin!=null&&i.hasOwnProperty("begin")&&(typeof i.begin=="number"?m.begin=s.longs===String?String(i.begin):i.begin:m.begin=s.longs===String?d.Long.prototype.toString.call(i.begin):s.longs===Number?new d.LongBits(i.begin.low>>>0,i.begin.high>>>0).toNumber():i.begin),i.end!=null&&i.hasOwnProperty("end")&&(typeof i.end=="number"?m.end=s.longs===String?String(i.end):i.end:m.end=s.longs===String?d.Long.prototype.toString.call(i.end):s.longs===Number?new d.LongBits(i.end.low>>>0,i.end.high>>>0).toNumber():i.end),m},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),t.DataLocation=function(){var e={},i=Object.create(e);return i[e[0]="DEFAULT"]=0,i[e[1]="EXTERNAL"]=1,i}(),t}(),f.TensorShapeProto=function(){function t(e){if(this.dim=[],e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.dim=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,i){if(i||(i=g.create()),e.dim!=null&&e.dim.length)for(var s=0;s<e.dim.length;++s)c.onnx.TensorShapeProto.Dimension.encode(e.dim[s],i.uint32(10).fork()).ldelim();return i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.TensorShapeProto;e.pos<s;){var b=e.uint32();b>>>3==1?(m.dim&&m.dim.length||(m.dim=[]),m.dim.push(c.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&b)}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var i=0;i<e.dim.length;++i){var s=c.onnx.TensorShapeProto.Dimension.verify(e.dim[i]);if(s)return"dim."+s}}return null},t.fromObject=function(e){if(e instanceof c.onnx.TensorShapeProto)return e;var i=new c.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");i.dim=[];for(var s=0;s<e.dim.length;++s){if(typeof e.dim[s]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");i.dim[s]=c.onnx.TensorShapeProto.Dimension.fromObject(e.dim[s])}}return i},t.toObject=function(e,i){i||(i={});var s={};if((i.arrays||i.defaults)&&(s.dim=[]),e.dim&&e.dim.length){s.dim=[];for(var m=0;m<e.dim.length;++m)s.dim[m]=c.onnx.TensorShapeProto.Dimension.toObject(e.dim[m],i)}return s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.Dimension=function(){function e(s){if(s)for(var m=Object.keys(s),b=0;b<m.length;++b)s[m[b]]!=null&&(this[m[b]]=s[m[b]])}var i;return e.prototype.dimValue=d.Long?d.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:d.oneOfGetter(i=["dimValue","dimParam"]),set:d.oneOfSetter(i)}),e.create=function(s){return new e(s)},e.encode=function(s,m){return m||(m=g.create()),s.dimValue!=null&&s.hasOwnProperty("dimValue")&&m.uint32(8).int64(s.dimValue),s.dimParam!=null&&s.hasOwnProperty("dimParam")&&m.uint32(18).string(s.dimParam),s.denotation!=null&&s.hasOwnProperty("denotation")&&m.uint32(26).string(s.denotation),m},e.encodeDelimited=function(s,m){return this.encode(s,m).ldelim()},e.decode=function(s,m){s instanceof p||(s=p.create(s));for(var b=m===void 0?s.len:s.pos+m,y=new c.onnx.TensorShapeProto.Dimension;s.pos<b;){var v=s.uint32();switch(v>>>3){case 1:y.dimValue=s.int64();break;case 2:y.dimParam=s.string();break;case 3:y.denotation=s.string();break;default:s.skipType(7&v)}}return y},e.decodeDelimited=function(s){return s instanceof p||(s=new p(s)),this.decode(s,s.uint32())},e.verify=function(s){if(typeof s!="object"||s===null)return"object expected";var m={};if(s.dimValue!=null&&s.hasOwnProperty("dimValue")&&(m.value=1,!(d.isInteger(s.dimValue)||s.dimValue&&d.isInteger(s.dimValue.low)&&d.isInteger(s.dimValue.high))))return"dimValue: integer|Long expected";if(s.dimParam!=null&&s.hasOwnProperty("dimParam")){if(m.value===1)return"value: multiple values";if(m.value=1,!d.isString(s.dimParam))return"dimParam: string expected"}return s.denotation!=null&&s.hasOwnProperty("denotation")&&!d.isString(s.denotation)?"denotation: string expected":null},e.fromObject=function(s){if(s instanceof c.onnx.TensorShapeProto.Dimension)return s;var m=new c.onnx.TensorShapeProto.Dimension;return s.dimValue!=null&&(d.Long?(m.dimValue=d.Long.fromValue(s.dimValue)).unsigned=!1:typeof s.dimValue=="string"?m.dimValue=parseInt(s.dimValue,10):typeof s.dimValue=="number"?m.dimValue=s.dimValue:typeof s.dimValue=="object"&&(m.dimValue=new d.LongBits(s.dimValue.low>>>0,s.dimValue.high>>>0).toNumber())),s.dimParam!=null&&(m.dimParam=String(s.dimParam)),s.denotation!=null&&(m.denotation=String(s.denotation)),m},e.toObject=function(s,m){m||(m={});var b={};return m.defaults&&(b.denotation=""),s.dimValue!=null&&s.hasOwnProperty("dimValue")&&(typeof s.dimValue=="number"?b.dimValue=m.longs===String?String(s.dimValue):s.dimValue:b.dimValue=m.longs===String?d.Long.prototype.toString.call(s.dimValue):m.longs===Number?new d.LongBits(s.dimValue.low>>>0,s.dimValue.high>>>0).toNumber():s.dimValue,m.oneofs&&(b.value="dimValue")),s.dimParam!=null&&s.hasOwnProperty("dimParam")&&(b.dimParam=s.dimParam,m.oneofs&&(b.value="dimParam")),s.denotation!=null&&s.hasOwnProperty("denotation")&&(b.denotation=s.denotation),b},e.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},e}(),t}(),f.TypeProto=function(){function t(i){if(i)for(var s=Object.keys(i),m=0;m<s.length;++m)i[s[m]]!=null&&(this[s[m]]=i[s[m]])}var e;return t.prototype.tensorType=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:d.oneOfGetter(e=["tensorType"]),set:d.oneOfSetter(e)}),t.create=function(i){return new t(i)},t.encode=function(i,s){return s||(s=g.create()),i.tensorType!=null&&i.hasOwnProperty("tensorType")&&c.onnx.TypeProto.Tensor.encode(i.tensorType,s.uint32(10).fork()).ldelim(),i.denotation!=null&&i.hasOwnProperty("denotation")&&s.uint32(50).string(i.denotation),s},t.encodeDelimited=function(i,s){return this.encode(i,s).ldelim()},t.decode=function(i,s){i instanceof p||(i=p.create(i));for(var m=s===void 0?i.len:i.pos+s,b=new c.onnx.TypeProto;i.pos<m;){var y=i.uint32();switch(y>>>3){case 1:b.tensorType=c.onnx.TypeProto.Tensor.decode(i,i.uint32());break;case 6:b.denotation=i.string();break;default:i.skipType(7&y)}}return b},t.decodeDelimited=function(i){return i instanceof p||(i=new p(i)),this.decode(i,i.uint32())},t.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.tensorType!=null&&i.hasOwnProperty("tensorType")){var s=c.onnx.TypeProto.Tensor.verify(i.tensorType);if(s)return"tensorType."+s}return i.denotation!=null&&i.hasOwnProperty("denotation")&&!d.isString(i.denotation)?"denotation: string expected":null},t.fromObject=function(i){if(i instanceof c.onnx.TypeProto)return i;var s=new c.onnx.TypeProto;if(i.tensorType!=null){if(typeof i.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");s.tensorType=c.onnx.TypeProto.Tensor.fromObject(i.tensorType)}return i.denotation!=null&&(s.denotation=String(i.denotation)),s},t.toObject=function(i,s){s||(s={});var m={};return s.defaults&&(m.denotation=""),i.tensorType!=null&&i.hasOwnProperty("tensorType")&&(m.tensorType=c.onnx.TypeProto.Tensor.toObject(i.tensorType,s),s.oneofs&&(m.value="tensorType")),i.denotation!=null&&i.hasOwnProperty("denotation")&&(m.denotation=i.denotation),m},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.Tensor=function(){function i(s){if(s)for(var m=Object.keys(s),b=0;b<m.length;++b)s[m[b]]!=null&&(this[m[b]]=s[m[b]])}return i.prototype.elemType=0,i.prototype.shape=null,i.create=function(s){return new i(s)},i.encode=function(s,m){return m||(m=g.create()),s.elemType!=null&&s.hasOwnProperty("elemType")&&m.uint32(8).int32(s.elemType),s.shape!=null&&s.hasOwnProperty("shape")&&c.onnx.TensorShapeProto.encode(s.shape,m.uint32(18).fork()).ldelim(),m},i.encodeDelimited=function(s,m){return this.encode(s,m).ldelim()},i.decode=function(s,m){s instanceof p||(s=p.create(s));for(var b=m===void 0?s.len:s.pos+m,y=new c.onnx.TypeProto.Tensor;s.pos<b;){var v=s.uint32();switch(v>>>3){case 1:y.elemType=s.int32();break;case 2:y.shape=c.onnx.TensorShapeProto.decode(s,s.uint32());break;default:s.skipType(7&v)}}return y},i.decodeDelimited=function(s){return s instanceof p||(s=new p(s)),this.decode(s,s.uint32())},i.verify=function(s){if(typeof s!="object"||s===null)return"object expected";if(s.elemType!=null&&s.hasOwnProperty("elemType")&&!d.isInteger(s.elemType))return"elemType: integer expected";if(s.shape!=null&&s.hasOwnProperty("shape")){var m=c.onnx.TensorShapeProto.verify(s.shape);if(m)return"shape."+m}return null},i.fromObject=function(s){if(s instanceof c.onnx.TypeProto.Tensor)return s;var m=new c.onnx.TypeProto.Tensor;if(s.elemType!=null&&(m.elemType=0|s.elemType),s.shape!=null){if(typeof s.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");m.shape=c.onnx.TensorShapeProto.fromObject(s.shape)}return m},i.toObject=function(s,m){m||(m={});var b={};return m.defaults&&(b.elemType=0,b.shape=null),s.elemType!=null&&s.hasOwnProperty("elemType")&&(b.elemType=s.elemType),s.shape!=null&&s.hasOwnProperty("shape")&&(b.shape=c.onnx.TensorShapeProto.toObject(s.shape,m)),b},i.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},i}(),t}(),f.OperatorSetIdProto=function(){function t(e){if(e)for(var i=Object.keys(e),s=0;s<i.length;++s)e[i[s]]!=null&&(this[i[s]]=e[i[s]])}return t.prototype.domain="",t.prototype.version=d.Long?d.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,i){return i||(i=g.create()),e.domain!=null&&e.hasOwnProperty("domain")&&i.uint32(10).string(e.domain),e.version!=null&&e.hasOwnProperty("version")&&i.uint32(16).int64(e.version),i},t.encodeDelimited=function(e,i){return this.encode(e,i).ldelim()},t.decode=function(e,i){e instanceof p||(e=p.create(e));for(var s=i===void 0?e.len:e.pos+i,m=new c.onnx.OperatorSetIdProto;e.pos<s;){var b=e.uint32();switch(b>>>3){case 1:m.domain=e.string();break;case 2:m.version=e.int64();break;default:e.skipType(7&b)}}return m},t.decodeDelimited=function(e){return e instanceof p||(e=new p(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!d.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!(d.isInteger(e.version)||e.version&&d.isInteger(e.version.low)&&d.isInteger(e.version.high))?"version: integer|Long expected":null},t.fromObject=function(e){if(e instanceof c.onnx.OperatorSetIdProto)return e;var i=new c.onnx.OperatorSetIdProto;return e.domain!=null&&(i.domain=String(e.domain)),e.version!=null&&(d.Long?(i.version=d.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?i.version=parseInt(e.version,10):typeof e.version=="number"?i.version=e.version:typeof e.version=="object"&&(i.version=new d.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),i},t.toObject=function(e,i){i||(i={});var s={};if(i.defaults)if(s.domain="",d.Long){var m=new d.Long(0,0,!1);s.version=i.longs===String?m.toString():i.longs===Number?m.toNumber():m}else s.version=i.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(s.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?s.version=i.longs===String?String(e.version):e.version:s.version=i.longs===String?d.Long.prototype.toString.call(e.version):i.longs===Number?new d.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),f),r.exports=c},2100:(r,n,o)=>{r.exports=o(9482)},9482:(r,n,o)=>{var a=n;function l(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=o(1173),a.BufferWriter=o(3155),a.Reader=o(1408),a.BufferReader=o(593),a.util=o(9693),a.rpc=o(5994),a.roots=o(5054),a.configure=l,l()},1408:(r,n,o)=>{r.exports=g;var a,l=o(9693),f=l.LongBits,u=l.utf8;function p(m,b){return RangeError("index out of range: "+m.pos+" + "+(b||1)+" > "+m.len)}function g(m){this.buf=m,this.pos=0,this.len=m.length}var d,c=typeof Uint8Array<"u"?function(m){if(m instanceof Uint8Array||Array.isArray(m))return new g(m);throw Error("illegal buffer")}:function(m){if(Array.isArray(m))return new g(m);throw Error("illegal buffer")},t=function(){return l.Buffer?function(m){return(g.create=function(b){return l.Buffer.isBuffer(b)?new a(b):c(b)})(m)}:c};function e(){var m=new f(0,0),b=0;if(!(this.len-this.pos>4)){for(;b<3;++b){if(this.pos>=this.len)throw p(this);if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(127&this.buf[this.pos++])<<7*b)>>>0,m}for(;b<4;++b)if(m.lo=(m.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(127&this.buf[this.pos])<<28)>>>0,m.hi=(m.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return m;if(b=0,this.len-this.pos>4){for(;b<5;++b)if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return m}else for(;b<5;++b){if(this.pos>=this.len)throw p(this);if(m.hi=(m.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}function i(m,b){return(m[b-4]|m[b-3]<<8|m[b-2]<<16|m[b-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw p(this,8);return new f(i(this.buf,this.pos+=4),i(this.buf,this.pos+=4))}g.create=t(),g.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,g.prototype.uint32=(d=4294967295,function(){if(d=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(d=(d|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(d=(d|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(d=(d|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(d=(d|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return d;if((this.pos+=5)>this.len)throw this.pos=this.len,p(this,10);return d}),g.prototype.int32=function(){return 0|this.uint32()},g.prototype.sint32=function(){var m=this.uint32();return m>>>1^-(1&m)|0},g.prototype.bool=function(){return this.uint32()!==0},g.prototype.fixed32=function(){if(this.pos+4>this.len)throw p(this,4);return i(this.buf,this.pos+=4)},g.prototype.sfixed32=function(){if(this.pos+4>this.len)throw p(this,4);return 0|i(this.buf,this.pos+=4)},g.prototype.float=function(){if(this.pos+4>this.len)throw p(this,4);var m=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,m},g.prototype.double=function(){if(this.pos+8>this.len)throw p(this,4);var m=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,m},g.prototype.bytes=function(){var m=this.uint32(),b=this.pos,y=this.pos+m;if(y>this.len)throw p(this,m);return this.pos+=m,Array.isArray(this.buf)?this.buf.slice(b,y):b===y?new this.buf.constructor(0):this._slice.call(this.buf,b,y)},g.prototype.string=function(){var m=this.bytes();return u.read(m,0,m.length)},g.prototype.skip=function(m){if(typeof m=="number"){if(this.pos+m>this.len)throw p(this,m);this.pos+=m}else do if(this.pos>=this.len)throw p(this);while(128&this.buf[this.pos++]);return this},g.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=7&this.uint32())!=4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},g._configure=function(m){a=m,g.create=t(),a._configure();var b=l.Long?"toLong":"toNumber";l.merge(g.prototype,{int64:function(){return e.call(this)[b](!1)},uint64:function(){return e.call(this)[b](!0)},sint64:function(){return e.call(this).zzDecode()[b](!1)},fixed64:function(){return s.call(this)[b](!0)},sfixed64:function(){return s.call(this)[b](!1)}})}},593:(r,n,o)=>{r.exports=f;var a=o(1408);(f.prototype=Object.create(a.prototype)).constructor=f;var l=o(9693);function f(u){a.call(this,u)}f._configure=function(){l.Buffer&&(f.prototype._slice=l.Buffer.prototype.slice)},f.prototype.string=function(){var u=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+u,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+u,this.len))},f._configure()},5054:r=>{r.exports={}},5994:(r,n,o)=>{n.Service=o(7948)},7948:(r,n,o)=>{r.exports=l;var a=o(9693);function l(f,u,p){if(typeof f!="function")throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=f,this.requestDelimited=!!u,this.responseDelimited=!!p}(l.prototype=Object.create(a.EventEmitter.prototype)).constructor=l,l.prototype.rpcCall=function f(u,p,g,d,c){if(!d)throw TypeError("request must be specified");var t=this;if(!c)return a.asPromise(f,t,u,p,g,d);if(t.rpcImpl)try{return t.rpcImpl(u,p[t.requestDelimited?"encodeDelimited":"encode"](d).finish(),function(e,i){if(e)return t.emit("error",e,u),c(e);if(i!==null){if(!(i instanceof g))try{i=g[t.responseDelimited?"decodeDelimited":"decode"](i)}catch(s){return t.emit("error",s,u),c(s)}return t.emit("data",i,u),c(null,i)}t.end(!0)})}catch(e){return t.emit("error",e,u),void setTimeout(function(){c(e)},0)}else setTimeout(function(){c(Error("already ended"))},0)},l.prototype.end=function(f){return this.rpcImpl&&(f||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(r,n,o)=>{r.exports=l;var a=o(9693);function l(g,d){this.lo=g>>>0,this.hi=d>>>0}var f=l.zero=new l(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var u=l.zeroHash="\0\0\0\0\0\0\0\0";l.fromNumber=function(g){if(g===0)return f;var d=g<0;d&&(g=-g);var c=g>>>0,t=(g-c)/4294967296>>>0;return d&&(t=~t>>>0,c=~c>>>0,++c>4294967295&&(c=0,++t>4294967295&&(t=0))),new l(c,t)},l.from=function(g){if(typeof g=="number")return l.fromNumber(g);if(a.isString(g)){if(!a.Long)return l.fromNumber(parseInt(g,10));g=a.Long.fromString(g)}return g.low||g.high?new l(g.low>>>0,g.high>>>0):f},l.prototype.toNumber=function(g){if(!g&&this.hi>>>31){var d=1+~this.lo>>>0,c=~this.hi>>>0;return d||(c=c+1>>>0),-(d+4294967296*c)}return this.lo+4294967296*this.hi},l.prototype.toLong=function(g){return a.Long?new a.Long(0|this.lo,0|this.hi,!!g):{low:0|this.lo,high:0|this.hi,unsigned:!!g}};var p=String.prototype.charCodeAt;l.fromHash=function(g){return g===u?f:new l((p.call(g,0)|p.call(g,1)<<8|p.call(g,2)<<16|p.call(g,3)<<24)>>>0,(p.call(g,4)|p.call(g,5)<<8|p.call(g,6)<<16|p.call(g,7)<<24)>>>0)},l.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},l.prototype.zzEncode=function(){var g=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^g)>>>0,this.lo=(this.lo<<1^g)>>>0,this},l.prototype.zzDecode=function(){var g=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^g)>>>0,this.hi=(this.hi>>>1^g)>>>0,this},l.prototype.length=function(){var g=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return c===0?d===0?g<16384?g<128?1:2:g<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:c<128?9:10}},9693:function(r,n,o){var a=n;function l(u,p,g){for(var d=Object.keys(p),c=0;c<d.length;++c)u[d[c]]!==void 0&&g||(u[d[c]]=p[d[c]]);return u}function f(u){function p(g,d){if(!(this instanceof p))return new p(g,d);Object.defineProperty(this,"message",{get:function(){return g}}),Error.captureStackTrace?Error.captureStackTrace(this,p):Object.defineProperty(this,"stack",{value:new Error().stack||""}),d&&l(this,d)}return(p.prototype=Object.create(Error.prototype)).constructor=p,Object.defineProperty(p.prototype,"name",{get:function(){return u}}),p.prototype.toString=function(){return this.name+": "+this.message},p}a.asPromise=o(4537),a.base64=o(7419),a.EventEmitter=o(9211),a.float=o(945),a.inquire=o(7199),a.utf8=o(4997),a.pool=o(6662),a.LongBits=o(1945),a.isNode=!!(o.g!==void 0&&o.g&&o.g.process&&o.g.process.versions&&o.g.process.versions.node),a.global=a.isNode&&o.g||typeof window<"u"&&window||typeof self<"u"&&self||this,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u},a.isString=function(u){return typeof u=="string"||u instanceof String},a.isObject=function(u){return u&&typeof u=="object"},a.isset=a.isSet=function(u,p){var g=u[p];return!(g==null||!u.hasOwnProperty(p))&&(typeof g!="object"||(Array.isArray(g)?g.length:Object.keys(g).length)>0)},a.Buffer=function(){try{var u=a.inquire("buffer").Buffer;return u.prototype.utf8Write?u:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(u){return typeof u=="number"?a.Buffer?a._Buffer_allocUnsafe(u):new a.Array(u):a.Buffer?a._Buffer_from(u):typeof Uint8Array>"u"?u:new Uint8Array(u)},a.Array=typeof Uint8Array<"u"?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(u){return u?a.LongBits.from(u).toHash():a.LongBits.zeroHash},a.longFromHash=function(u,p){var g=a.LongBits.fromHash(u);return a.Long?a.Long.fromBits(g.lo,g.hi,p):g.toNumber(!!p)},a.merge=l,a.lcFirst=function(u){return u.charAt(0).toLowerCase()+u.substring(1)},a.newError=f,a.ProtocolError=f("ProtocolError"),a.oneOfGetter=function(u){for(var p={},g=0;g<u.length;++g)p[u[g]]=1;return function(){for(var d=Object.keys(this),c=d.length-1;c>-1;--c)if(p[d[c]]===1&&this[d[c]]!==void 0&&this[d[c]]!==null)return d[c]}},a.oneOfSetter=function(u){return function(p){for(var g=0;g<u.length;++g)u[g]!==p&&delete this[u[g]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var u=a.Buffer;u?(a._Buffer_from=u.from!==Uint8Array.from&&u.from||function(p,g){return new u(p,g)},a._Buffer_allocUnsafe=u.allocUnsafe||function(p){return new u(p)}):a._Buffer_from=a._Buffer_allocUnsafe=null}},1173:(r,n,o)=>{r.exports=t;var a,l=o(9693),f=l.LongBits,u=l.base64,p=l.utf8;function g(v,w,T){this.fn=v,this.len=w,this.next=void 0,this.val=T}function d(){}function c(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function t(){this.len=0,this.head=new g(d,0,0),this.tail=this.head,this.states=null}var e=function(){return l.Buffer?function(){return(t.create=function(){return new a})()}:function(){return new t}};function i(v,w,T){w[T]=255&v}function s(v,w){this.len=v,this.next=void 0,this.val=w}function m(v,w,T){for(;v.hi;)w[T++]=127&v.lo|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)w[T++]=127&v.lo|128,v.lo=v.lo>>>7;w[T++]=v.lo}function b(v,w,T){w[T]=255&v,w[T+1]=v>>>8&255,w[T+2]=v>>>16&255,w[T+3]=v>>>24}t.create=e(),t.alloc=function(v){return new l.Array(v)},l.Array!==Array&&(t.alloc=l.pool(t.alloc,l.Array.prototype.subarray)),t.prototype._push=function(v,w,T){return this.tail=this.tail.next=new g(v,w,T),this.len+=w,this},s.prototype=Object.create(g.prototype),s.prototype.fn=function(v,w,T){for(;v>127;)w[T++]=127&v|128,v>>>=7;w[T]=v},t.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new s((v>>>=0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},t.prototype.int32=function(v){return v<0?this._push(m,10,f.fromNumber(v)):this.uint32(v)},t.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)},t.prototype.uint64=function(v){var w=f.from(v);return this._push(m,w.length(),w)},t.prototype.int64=t.prototype.uint64,t.prototype.sint64=function(v){var w=f.from(v).zzEncode();return this._push(m,w.length(),w)},t.prototype.bool=function(v){return this._push(i,1,v?1:0)},t.prototype.fixed32=function(v){return this._push(b,4,v>>>0)},t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=function(v){var w=f.from(v);return this._push(b,4,w.lo)._push(b,4,w.hi)},t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=function(v){return this._push(l.float.writeFloatLE,4,v)},t.prototype.double=function(v){return this._push(l.float.writeDoubleLE,8,v)};var y=l.Array.prototype.set?function(v,w,T){w.set(v,T)}:function(v,w,T){for(var _=0;_<v.length;++_)w[T+_]=v[_]};t.prototype.bytes=function(v){var w=v.length>>>0;if(!w)return this._push(i,1,0);if(l.isString(v)){var T=t.alloc(w=u.length(v));u.decode(v,T,0),v=T}return this.uint32(w)._push(y,w,v)},t.prototype.string=function(v){var w=p.length(v);return w?this.uint32(w)._push(p.write,w,v):this._push(i,1,0)},t.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new g(d,0,0),this.len=0,this},t.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new g(d,0,0),this.len=0),this},t.prototype.ldelim=function(){var v=this.head,w=this.tail,T=this.len;return this.reset().uint32(T),T&&(this.tail.next=v.next,this.tail=w,this.len+=T),this},t.prototype.finish=function(){for(var v=this.head.next,w=this.constructor.alloc(this.len),T=0;v;)v.fn(v.val,w,T),T+=v.len,v=v.next;return w},t._configure=function(v){a=v,t.create=e(),a._configure()}},3155:(r,n,o)=>{r.exports=f;var a=o(1173);(f.prototype=Object.create(a.prototype)).constructor=f;var l=o(9693);function f(){a.call(this)}function u(p,g,d){p.length<40?l.utf8.write(p,g,d):g.utf8Write?g.utf8Write(p,d):g.write(p,d)}f._configure=function(){f.alloc=l._Buffer_allocUnsafe,f.writeBytesBuffer=l.Buffer&&l.Buffer.prototype instanceof Uint8Array&&l.Buffer.prototype.set.name==="set"?function(p,g,d){g.set(p,d)}:function(p,g,d){if(p.copy)p.copy(g,d,0,p.length);else for(var c=0;c<p.length;)g[d++]=p[c++]}},f.prototype.bytes=function(p){l.isString(p)&&(p=l._Buffer_from(p,"base64"));var g=p.length>>>0;return this.uint32(g),g&&this._push(f.writeBytesBuffer,g,p),this},f.prototype.string=function(p){var g=l.Buffer.byteLength(p);return this.uint32(g),g&&this._push(u,g,p),this},f._configure()},7714:(r,n,o)=>{n.R=void 0;const a=o(6919),l=o(7448);n.R=new class{async init(){}async createSessionHandler(f,u){const p=new a.Session(u);return await p.loadModel(f),new l.OnnxjsSessionHandler(p)}}},4200:(r,n,o)=>{n.c8=n.rX=void 0;const a=o(1670),l=o(5381),f=o(2157),u=o(2306);n.rX=()=>{if((typeof a.env.wasm.initTimeout!="number"||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),typeof a.env.wasm.simd!="boolean"&&(a.env.wasm.simd=!0),typeof a.env.wasm.proxy!="boolean"&&(a.env.wasm.proxy=!1),typeof a.env.wasm.numThreads!="number"||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const p=typeof navigator>"u"?(0,l.cpus)().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((p||1)/2))}},n.c8=new class{async init(){(0,n.rX)(),await(0,f.initWasm)()}async createSessionHandler(p,g){const d=new u.OnnxruntimeWebAssemblySessionHandler;return await d.loadModel(p,g),Promise.resolve(d)}}},6018:function(r,n,o){var a=this&&this.__createBinding||(Object.create?function(u,p,g,d){d===void 0&&(d=g);var c=Object.getOwnPropertyDescriptor(p,g);c&&!("get"in c?!p.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return p[g]}}),Object.defineProperty(u,d,c)}:function(u,p,g,d){d===void 0&&(d=g),u[d]=p[g]}),l=this&&this.__exportStar||function(u,p){for(var g in u)g==="default"||Object.prototype.hasOwnProperty.call(p,g)||a(p,u,g)};Object.defineProperty(n,"__esModule",{value:!0}),l(o(1670),n);const f=o(1670);{const u=o(7714).R;(0,f.registerBackend)("webgl",u,-10)}{const u=o(4200).c8;(0,f.registerBackend)("cpu",u,10),(0,f.registerBackend)("wasm",u,10),(0,f.registerBackend)("xnnpack",u,9)}},246:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createAttributeWithCacheKey=void 0;class o{constructor(l){Object.assign(this,l)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(l=>`${this[l]}`).join(";")),this._cacheKey}}n.createAttributeWithCacheKey=a=>new o(a)},7778:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Attribute=void 0;const a=o(1446),l=o(9395),f=o(9162),u=o(2517);var p=l.onnxruntime.experimental.fbs;class g{constructor(c){if(this._attributes=new Map,c!=null){for(const t of c)t instanceof a.onnx.AttributeProto?this._attributes.set(t.name,[g.getValue(t),g.getType(t)]):t instanceof p.Attribute&&this._attributes.set(t.name(),[g.getValue(t),g.getType(t)]);if(this._attributes.size<c.length)throw new Error("duplicated attribute names")}}set(c,t,e){this._attributes.set(c,[e,t])}delete(c){this._attributes.delete(c)}getFloat(c,t){return this.get(c,"float",t)}getInt(c,t){return this.get(c,"int",t)}getString(c,t){return this.get(c,"string",t)}getTensor(c,t){return this.get(c,"tensor",t)}getFloats(c,t){return this.get(c,"floats",t)}getInts(c,t){return this.get(c,"ints",t)}getStrings(c,t){return this.get(c,"strings",t)}getTensors(c,t){return this.get(c,"tensors",t)}get(c,t,e){const i=this._attributes.get(c);if(i===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${c}`)}if(i[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${i[1]}`);return i[0]}static getType(c){const t=c instanceof a.onnx.AttributeProto?c.type:c.type();switch(t){case a.onnx.AttributeProto.AttributeType.FLOAT:return"float";case a.onnx.AttributeProto.AttributeType.INT:return"int";case a.onnx.AttributeProto.AttributeType.STRING:return"string";case a.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case a.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case a.onnx.AttributeProto.AttributeType.INTS:return"ints";case a.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case a.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${a.onnx.AttributeProto.AttributeType[t]}`)}}static getValue(c){const t=c instanceof a.onnx.AttributeProto?c.type:c.type();if(t===a.onnx.AttributeProto.AttributeType.GRAPH||t===a.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const e=this.getValueNoCheck(c);if(t===a.onnx.AttributeProto.AttributeType.INT&&u.LongUtil.isLong(e))return u.LongUtil.longToNumber(e);if(t===a.onnx.AttributeProto.AttributeType.INTS){const i=e,s=new Array(i.length);for(let m=0;m<i.length;m++){const b=i[m];s[m]=u.LongUtil.longToNumber(b)}return s}if(t===a.onnx.AttributeProto.AttributeType.TENSOR)return c instanceof a.onnx.AttributeProto?f.Tensor.fromProto(e):f.Tensor.fromOrtTensor(e);if(t===a.onnx.AttributeProto.AttributeType.TENSORS){if(c instanceof a.onnx.AttributeProto)return e.map(i=>f.Tensor.fromProto(i));if(c instanceof p.Attribute)return e.map(i=>f.Tensor.fromOrtTensor(i))}if(t===a.onnx.AttributeProto.AttributeType.STRING&&c instanceof a.onnx.AttributeProto){const i=e;return(0,u.decodeUtf8String)(i)}return t===a.onnx.AttributeProto.AttributeType.STRINGS&&c instanceof a.onnx.AttributeProto?e.map(u.decodeUtf8String):e}static getValueNoCheck(c){return c instanceof a.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(c):this.getValueNoCheckFromOrtFormat(c)}static getValueNoCheckFromOnnxFormat(c){switch(c.type){case a.onnx.AttributeProto.AttributeType.FLOAT:return c.f;case a.onnx.AttributeProto.AttributeType.INT:return c.i;case a.onnx.AttributeProto.AttributeType.STRING:return c.s;case a.onnx.AttributeProto.AttributeType.TENSOR:return c.t;case a.onnx.AttributeProto.AttributeType.GRAPH:return c.g;case a.onnx.AttributeProto.AttributeType.FLOATS:return c.floats;case a.onnx.AttributeProto.AttributeType.INTS:return c.ints;case a.onnx.AttributeProto.AttributeType.STRINGS:return c.strings;case a.onnx.AttributeProto.AttributeType.TENSORS:return c.tensors;case a.onnx.AttributeProto.AttributeType.GRAPHS:return c.graphs;default:throw new Error(`unsupported attribute type: ${a.onnx.AttributeProto.AttributeType[c.type]}`)}}static getValueNoCheckFromOrtFormat(c){switch(c.type()){case p.AttributeType.FLOAT:return c.f();case p.AttributeType.INT:return c.i();case p.AttributeType.STRING:return c.s();case p.AttributeType.TENSOR:return c.t();case p.AttributeType.GRAPH:return c.g();case p.AttributeType.FLOATS:return c.floatsArray();case p.AttributeType.INTS:{const t=[];for(let e=0;e<c.intsLength();e++)t.push(c.ints(e));return t}case p.AttributeType.STRINGS:{const t=[];for(let e=0;e<c.stringsLength();e++)t.push(c.strings(e));return t}case p.AttributeType.TENSORS:{const t=[];for(let e=0;e<c.tensorsLength();e++)t.push(c.tensors(e));return t}default:throw new Error(`unsupported attribute type: ${p.AttributeType[c.type()]}`)}}}n.Attribute=g},7091:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.resolveBackend=n.backend=void 0;const a=o(5038),l=new Map;async function f(u){const p=n.backend;if(p[u]!==void 0&&function(g){const d=g;return"initialize"in d&&typeof d.initialize=="function"&&"createSessionHandler"in d&&typeof d.createSessionHandler=="function"&&"dispose"in d&&typeof d.dispose=="function"}(p[u])){const g=p[u];let d=g.initialize();if(typeof d=="object"&&"then"in d&&(d=await d),d)return l.set(u,g),g}}n.backend={webgl:new a.WebGLBackend},n.resolveBackend=async function u(p){if(!p)return u(["webgl"]);{const g=typeof p=="string"?[p]:p;for(const d of g){const c=l.get(d);if(c)return c;const t=await f(d);if(t)return t}}throw new Error("no available backend to use")}},5038:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLBackend=void 0;const a=o(1670),l=o(6231),f=o(6416),u=o(7305);n.WebGLBackend=class{get contextId(){return a.env.webgl.contextId}set contextId(p){a.env.webgl.contextId=p}get matmulMaxBatchSize(){return a.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(p){a.env.webgl.matmulMaxBatchSize=p}get textureCacheMode(){return a.env.webgl.textureCacheMode}set textureCacheMode(p){a.env.webgl.textureCacheMode=p}get pack(){return a.env.webgl.pack}set pack(p){a.env.webgl.pack=p}get async(){return a.env.webgl.async}set async(p){a.env.webgl.async=p}initialize(){try{return this.glContext=(0,u.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),l.Logger.setWithEnv(a.env),l.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(p){return l.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${p}`),!1}}createSessionHandler(p){return new f.WebGLSessionHandler(this,p)}dispose(){this.glContext.dispose()}}},5107:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoordsGlslLib=void 0;const a=o(2517),l=o(8520),f=o(5060),u=o(7859),p=o(9390);class g extends l.GlslLib{constructor(c){super(c)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new l.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new l.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const c=this.context.outputTextureLayout;return c.isPacked?this.getPackedOutputSamplingSnippet(c):this.getUnpackedOutputSamplingSnippet(c)}getPackedOutputSamplingSnippet(c){const t=c.unpackedShape,e=[c.width,c.height],i={},s="getOutputCoords";switch(t.length){case 0:i[s]=this.getOutputScalarCoords();break;case 1:i[s]=this.getOutputPacked1DCoords(t,e);break;case 2:i[s]=this.getOutputPacked2DCoords(t,e);break;case 3:i[s]=this.getOutputPacked3DCoords(t,e);break;default:i[s]=this.getOutputPackedNDCoords(t,e)}const m=`
      void setOutput(vec4 val) {
        ${(0,f.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return i.floatTextureSetRGBA=new l.GlslLibRoutine(m),i}getUnpackedOutputSamplingSnippet(c){const t=c.unpackedShape,e=[c.width,c.height],i={},s="getOutputCoords";switch(t.length){case 0:i[s]=this.getOutputScalarCoords();break;case 1:i[s]=this.getOutputUnpacked1DCoords(t,e);break;case 2:i[s]=this.getOutputUnpacked2DCoords(t,e);break;case 3:i[s]=this.getOutputUnpacked3DCoords(t,e);break;case 4:i[s]=this.getOutputUnpacked4DCoords(t,e);break;case 5:i[s]=this.getOutputUnpacked5DCoords(t,e);break;case 6:i[s]=this.getOutputUnpacked6DCoords(t,e);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}const m=`
        void setOutput(float val) {
          ${(0,f.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return i.floatTextureSetR=new l.GlslLibRoutine(m),i}getOutputScalarCoords(){return new l.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(c,t){const e=t;let i="";return e[0]===1?(i=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${e[1]}.0);
          }
        `,new l.GlslLibRoutine(i)):e[1]===1?(i=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${e[0]}.0);
          }
        `,new l.GlslLibRoutine(i)):(i=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${e[0]}, ${e[1]}));
          return 2 * (resTexRC.y * ${e[0]} + resTexRC.x);
        }
      `,new l.GlslLibRoutine(i))}getOutputPacked2DCoords(c,t){let e="";if(a.ArrayUtil.arraysEqual(c,t))return e=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `,new l.GlslLibRoutine(e);const i=t,s=Math.ceil(c[1]/2);return e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${i[0]}, ${i[1]}));

          int index = resTexRC.y * ${i[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${s}) * 2;
          int c = 2 * (index / ${s});

          return ivec2(r, c);
        }
      `,new l.GlslLibRoutine(e)}getOutputPacked3DCoords(c,t){const e=[t[0],t[1]],i=Math.ceil(c[2]/2),s=i*Math.ceil(c[1]/2),m=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;

          int b = index / ${s};
          index -= b * ${s};

          // reverse r and c order for packed texture
          int r = imod(index, ${i}) * 2;
          int c = 2 * (index / ${i});

          return ivec3(b, r, c);
        }
      `;return new l.GlslLibRoutine(m)}getOutputPackedNDCoords(c,t){const e=[t[0],t[1]],i=Math.ceil(c[c.length-1]/2),s=i*Math.ceil(c[c.length-2]/2);let m=s,b="",y="b, r, c";for(let w=2;w<c.length-1;w++)m*=c[c.length-w-1],b=`
      int b${w} = index / ${m};
      index -= b${w} * ${m};
    `+b,y=`b${w}, `+y;const v=`
      ivec${c.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.y * ${e[0]} + resTexRC.x;

        ${b}

        int b = index / ${s};
        index -= b * ${s};

        // reverse r and c order for packed texture
        int r = imod(index, ${i}) * 2;
        int c = 2 * (index / ${i});

        return ivec${c.length}(${y});
      }
    `;return new l.GlslLibRoutine(v)}getOutputUnpacked1DCoords(c,t){const e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new l.GlslLibRoutine(e)}getOutputUnpacked2DCoords(c,t){const e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${c[1]};
          int c = index - r * ${c[1]};
          return ivec2(r, c);
        }
      `;return new l.GlslLibRoutine(e)}getOutputUnpacked3DCoords(c,t){let e="";const i=c.length;let s=null;i<2&&(s=[]),s=new Array(i-1),s[i-2]=c[i-1];for(let y=i-3;y>=0;--y)s[y]=s[y+1]*c[y+1];const m=["r","c","d"],b=s.map((y,v)=>`int ${m[v]} = index / ${y}; ${v===s.length-1?`int ${m[v+1]} = index - ${m[v]} * ${y}`:`index -= ${m[v]} * ${y}`};`).join("");return e=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${b}
          return ivec3(r, c, d);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked4DCoords(c,t){let e="";const i=c.length;let s=null;i<2&&(s=[]),s=new Array(i-1),s[i-2]=c[i-1];for(let y=i-3;y>=0;--y)s[y]=s[y+1]*c[y+1];const m=["r","c","d","d2"],b=s.map((y,v)=>`int ${m[v]} = index / ${y}; ${v===s.length-1?`int ${m[v+1]} = index - ${m[v]} * ${y}`:`index -= ${m[v]} * ${y}`};`).join("");return e=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${b}
          return ivec4(r, c, d, d2);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked5DCoords(c,t){let e="";const i=c.length;let s=null;i<2&&(s=[]),s=new Array(i-1),s[i-2]=c[i-1];for(let y=i-3;y>=0;--y)s[y]=s[y+1]*c[y+1];const m=["r","c","d","d2","d3"],b=s.map((y,v)=>`int ${m[v]} = index / ${y}; ${v===s.length-1?`int ${m[v+1]} = index - ${m[v]} * ${y}`:`index -= ${m[v]} * ${y}`};`).join("");return e=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${b}
          return ivec5(r, c, d, d2, d3);
        }
      `,new l.GlslLibRoutine(e)}getOutputUnpacked6DCoords(c,t){let e="";const i=c.length;let s=null;i<2&&(s=[]),s=new Array(i-1),s[i-2]=c[i-1];for(let y=i-3;y>=0;--y)s[y]=s[y+1]*c[y+1];const m=["r","c","d","d2","d3","d4"],b=s.map((y,v)=>`int ${m[v]} = index / ${y}; ${v===s.length-1?`int ${m[v+1]} = index - ${m[v]} * ${y}`:`index -= ${m[v]} * ${y}`};`).join("");return e=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${t[0]}, ${t[1]}));
         int index = resTexRC.y * ${t[0]} + resTexRC.x;
         ${b}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new l.GlslLibRoutine(e)}getCommonUtilFuncs(){const c={};let t="uvFromFlat";c[t]=new l.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),t="packedUVfrom1D",c[t]=new l.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom2D",c[t]=new l.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom3D",c[t]=new l.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="sampleTexture";const e=(0,f.getGlsl)(this.context.glContext.version);return c[t]=new l.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${e.texture2D}(textureSampler, uv).r;
        }`),c}getInputsSamplingSnippets(){const c={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((e,i)=>{const s=this.context.inputTextureLayouts[i],m=(0,p.generateShaderFuncNameFromInputSamplerName)(e);s.isPacked?c[m]=this.getPackedSamplerFromInput(m,e,s):c[m]=this.getUnpackedSamplerFromInput(m,e,s);const b=(0,p.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(e);s.unpackedShape.length<=t.unpackedShape.length&&(s.isPacked?c[b]=this.getPackedSamplerAtOutputCoords(b,s,t,e):c[b]=this.getUnpackedSamplerAtOutputCoords(b,s,t,e))}),c}getPackedSamplerAtOutputCoords(c,t,e,i){const s=t.unpackedShape,m=e.unpackedShape,b=i,y=(0,p.generateShaderFuncNameFromInputSamplerName)(b),v=s.length,w=m.length,T=a.BroadcastUtil.getBroadcastDims(s,m),_=(0,p.getCoordsDataType)(w),x=w-v;let A;const $=(0,p.getGlChannels)();A=v===0?"":w<2&&T.length>=1?"coords = 0;":T.map(ie=>`coords.${$[ie+x]} = 0;`).join(`
`);let S="";S=w<2&&v>0?"coords":s.map((ie,z)=>`coords.${$[z+x]}`).join(", ");let k="return outputValue;";const V=a.ShapeUtil.size(s)===1,oe=a.ShapeUtil.size(m)===1;if(v!==1||V||oe){if(V&&!oe)k=w===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(T.length){const ie=v-2,z=v-1;T.indexOf(ie)>-1&&T.indexOf(z)>-1?k="return vec4(outputValue.x);":T.indexOf(ie)>-1?k="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":T.indexOf(z)>-1&&(k="return vec4(outputValue.xx, outputValue.zz);")}}else k=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Y=`
      vec4 ${c}() {
        ${_} coords = getOutputCoords();
        
        int lastDim = coords.${$[w-1]};
        coords.${$[w-1]} = coords.${$[w-2]};
        coords.${$[w-2]} = lastDim;
      
        ${A}
        vec4 outputValue = ${y}(${S});
        ${k}
      }
    `;return new l.GlslLibRoutine(Y,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(c,t,e,i){const s=[e.width,e.height],m=[t.width,t.height],b=t.unpackedShape.length,y=e.unpackedShape.length,v=t.unpackedShape,w=e.unpackedShape,T=(0,p.generateShaderFuncNameFromInputSamplerName)(i);if(b===y&&a.ArrayUtil.arraysEqual(m,s)){const oe=`
          float ${c}() {
            return sampleTexture(${i}, TexCoords);
          }
        `;return new l.GlslLibRoutine(oe,["coordinates.sampleTexture"])}const _=(0,p.getCoordsDataType)(y),x=a.BroadcastUtil.getBroadcastDims(v,w),A=y-b;let $;const S=(0,p.getGlChannels)();$=b===0?"":y<2&&x.length>=1?"coords = 0;":x.map(oe=>`coords.${S[oe+A]} = 0;`).join(`
`);let k="";k=y<2&&b>0?"coords":t.unpackedShape.map((oe,Y)=>`coords.${S[Y+A]}`).join(", ");const V=`
        float ${c}() {
          ${_} coords = getOutputCoords();
          ${$}
          return ${T}(${k});
        }
      `;return new l.GlslLibRoutine(V,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(c,t,e){switch(e.unpackedShape.length){case 0:return this.getPackedSamplerScalar(c,t);case 1:return this.getPackedSampler1D(c,t,e);case 2:return this.getPackedSampler2D(c,t,e);case 3:return this.getPackedSampler3D(c,t,e);default:return this.getPackedSamplerND(c,t,e)}}getUnpackedSamplerFromInput(c,t,e){const i=e.unpackedShape;switch(i.length){case 0:return this.getUnpackedSamplerScalar(c,t,e);case 1:return this.getUnpackedSampler1D(c,t,e);case 2:return this.getUnpackedSampler2D(c,t,e);case 3:return this.getUnpackedSampler3D(c,t,e);case 4:return this.getUnpackedSampler4D(c,t,e);case 5:return this.getUnpackedSampler5D(c,t,e);case 6:return this.getUnpackedSampler6D(c,t,e);default:throw new Error(`Unsupported dimension ${i.length}-D`)}}getPackedSamplerScalar(c,t){const e=`
          vec4 ${c}() {
            return ${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${t}, halfCR);
          }
        `;return new l.GlslLibRoutine(e)}getPackedSampler1D(c,t,e){const i=[e.width,e.height],s=[i[1],i[0]],m=(0,f.getGlsl)(this.context.glContext.version),b=`vec4 ${c}(int index) {
      vec2 uv = packedUVfrom1D(
      ${s[0]}, ${s[1]}, index);
      return ${m.texture2D}(${t}, uv);
    }`;return new l.GlslLibRoutine(b,["coordinates.packedUVfrom1D"])}getPackedSampler2D(c,t,e){const i=e.unpackedShape,s=[e.width,e.height],m=(0,f.getGlsl)(this.context.glContext.version),b=s[0],y=s[1];if(s!=null&&a.ArrayUtil.arraysEqual(i,s)){const _=`vec4 ${c}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${y}.0, ${b}.0);
        return ${m.texture2D}(${t}, uv);
      }`;return new l.GlslLibRoutine(_)}const v=s,w=Math.ceil(i[1]/2),T=`vec4 ${c}(int row, int col) {
      vec2 uv = packedUVfrom2D(${v[1]}, ${v[0]}, ${w}, row, col);
      return ${m.texture2D}(${t}, uv);
    }`;return new l.GlslLibRoutine(T,["coordinates.packedUVfrom2D"])}getPackedSampler3D(c,t,e){const i=e.unpackedShape,s=[e.width,e.height],m=[s[0],s[1]],b=(0,f.getGlsl)(this.context.glContext.version);if(i[0]===1){const _=i.slice(1),x=[1,2],A=(0,p.squeezeInputShape)(i,_),$=["b","row","col"],S=JSON.parse(JSON.stringify(e));S.unpackedShape=A;const k=this.getPackedSamplerFromInput(c,t,S),V=`${k.routineBody}
      vec4 ${c}(int b, int row, int col) {
        return ${c}(${(0,p.getSqueezedParams)($,x)});
      } `;return new l.GlslLibRoutine(V,k.dependencies)}const y=m[0],v=m[1],w=Math.ceil(i[2]/2),T=`vec4 ${c}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${v}, ${y}, ${w*Math.ceil(i[1]/2)}, ${w}, b, row, col);
      return ${b.texture2D}(${t}, uv);}`;return new l.GlslLibRoutine(T,["coordinates.packedUVfrom3D"])}getPackedSamplerND(c,t,e){const i=e.unpackedShape,s=i.length,m=[e.width,e.height],b=(0,f.getGlsl)(this.context.glContext.version),y=[m[0],m[1]],v=y[1],w=y[0],T=Math.ceil(i[s-1]/2);let _=T*Math.ceil(i[s-2]/2),x="int b, int row, int col",A=`b * ${_} + (row / 2) * ${T} + (col / 2)`;for(let S=2;S<s-1;S++)x=`int b${S}, `+x,_*=i[s-S-1],A=`b${S} * ${_} + `+A;const $=`vec4 ${c}(${x}) {
      int index = ${A};
      int texR = index / ${w};
      int texC = index - texR * ${w};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${w}, ${v});
      return ${b.texture2D}(${t}, uv);
    }`;return new l.GlslLibRoutine($)}getUnpackedSamplerScalar(c,t,e){const[i,s]=[e.width,e.height];if(i===1&&s===1){const b=`
          float ${c}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new l.GlslLibRoutine(b,["coordinates.sampleTexture"])}const m=`
        float ${c}() {
          int offset_${t} = coordsToOffset(TexCoords, ${i}, ${s});
          vec2 uv = uvFromFlat(${i}, ${s}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new l.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(c,t,e){const i=e.width,s=e.height;if(s===1&&i===1){const b=`
        float ${c}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new l.GlslLibRoutine(b,["coordinates.sampleTexture"])}if(s===1){const b=`
          float ${c}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${i}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(b,["coordinates.sampleTexture"])}if(i===1){const b=`
          float ${c}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${s}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(b,["coordinates.sampleTexture"])}const m=`
        float ${c}(int index) {
          vec2 uv = uvFromFlat(${i}, ${s}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new l.GlslLibRoutine(m,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(c,t,e){const i=e.unpackedShape,s=[e.height,e.width];if(s!=null&&a.ArrayUtil.arraysEqual(i,s)){const _=`
          float ${c}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${s[1]}.0, ${s[0]}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture"])}const{newShape:m,keptDims:b}=(0,u.squeezeShape)(i),y=m;if(y.length<i.length){const _=(0,p.squeezeInputShape)(i,y),x=JSON.parse(JSON.stringify(e));x.unpackedShape=_;const A=["col","row"],$=`
          ${this.getUnpackedSamplerFromInput(c,t,x).routineBody}
          float ${c}(int row, int col) {
            return ${c}(${(0,p.getSqueezedParams)(A,b)});
          }
        `;return new l.GlslLibRoutine($,["coordinates.sampleTexture"])}const v=s[1],w=s[0];if(w===1){const _=`
          float ${c}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${w});
            float index = dot(vec3(row, col, offset_${t}), vec3(${i[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${v}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(v===1){const _=`
          float ${c}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${w});
            float index = dot(vec3(row, col, offset_${t}), vec3(${i[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${w}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const T=`
        float ${c}(int row, int col) {
          int index = col * ${i[1]} + row;
          vec2 uv = uvFromFlat(${v}, ${w}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new l.GlslLibRoutine(T,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(c,t,e){const i=e.unpackedShape,s=i[1]*i[2],m=i[2],{newShape:b,keptDims:y}=(0,u.squeezeShape)(i),v=b;if(v.length<i.length){const T=(0,p.squeezeInputShape)(i,v),_=["batch","col","row"],x=JSON.parse(JSON.stringify(e));x.unpackedShape=T;const A=this.getUnpackedSamplerFromInput(c,t,x),$=y.reverse(),S=`
          ${A.routineBody}
          float ${c}(int batch, int row, int col) {
            return ${c}(${(0,p.getSqueezedParams)(_,$)});
          }
        `;return new l.GlslLibRoutine(S,A.dependencies)}const w=`
          float ${c}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${s} + col * ${m} + row;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new l.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(c,t,e){const i=e.unpackedShape,s=i[3],m=i[2]*s,b=`
        float ${c}(int row, int col, int depth, int depth2) {
          int index = row * ${i[1]*m} + col * ${m} +
              depth2 * ${s} + depth;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new l.GlslLibRoutine(b,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(c,t,e){const i=e.unpackedShape,s=i[4],m=i[3]*s,b=i[2]*m,y=i[1]*b,{newShape:v,keptDims:w}=(0,u.squeezeShape)(i);if(v.length<i.length){const _=(0,p.squeezeInputShape)(i,v),x=["row","col","depth","depth2","depth3"],A=JSON.parse(JSON.stringify(e));A.unpackedShape=_;const $=`
          ${this.getUnpackedSamplerFromInput(c,t,A).routineBody}
          float ${c}(int row, int col, int depth, int depth2, int depth3) {
            return ${c}(${(0,p.getSqueezedParams)(x,w)});
          }
        `;return new l.GlslLibRoutine($,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const T=`
        float ${c}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${y} + col * ${b} + depth * ${m} +
          depth3 * ${s} + depth2;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new l.GlslLibRoutine(T,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(c,t,e){const i=e.unpackedShape,s=i[5],m=i[4]*s,b=i[3]*m,y=i[2]*b,v=i[1]*y,{newShape:w,keptDims:T}=(0,u.squeezeShape)(i);if(w.length<i.length){const x=(0,p.squeezeInputShape)(i,w),A=["row","col","depth","depth2","depth3","depth4"],$=JSON.parse(JSON.stringify(e));$.unpackedShape=x;const S=`
            ${this.getUnpackedSamplerFromInput(c,t,$).routineBody}
            float ${c}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${c}(${(0,p.getSqueezedParams)(A,T)});
            }
          `;return new l.GlslLibRoutine(S,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const _=`
          float ${c}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${v} + col * ${y} + depth * ${b} +
            depth2 * ${m} + depth3 * ${s} + depth4;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new l.GlslLibRoutine(_,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const c=this.context.outputTextureLayout,t=c.shape.length,e=c.strides,i=c.width,s=c.height,m=[];for(let y=0;y<t-1;++y)m.push(`
        c[${y}] = offset / ${e[y]};`),m.push(`
        offset -= c[${y}] * ${e[y]};`);m.push(`
        c[${t-1}] = offset;`);const b=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${i}, ${s});
        ${m.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${m.join("")}
      }
    `;return{toVec:new l.GlslLibRoutine(b,["coordinates.coordsToOffset"])}}valueFrom(){const c={};return this.context.programInfo.inputNames.forEach((t,e)=>{const i=this.context.inputTextureLayouts[e],s=(i.unpackedShape.length>0?i.unpackedShape:i.shape).length;let m=`_${t}`;c[m]=new l.GlslLibRoutine(this.getValueFromSingle(t,s,i.width,i.height,!1),[`shapeUtils.indicesToOffset${m}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),m+="_T",c[m]=new l.GlslLibRoutine(this.getValueFromSingle(t,s,i.width,i.height,!0),[`shapeUtils.indicesToOffset${m}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),c}getValueFromSingle(c,t,e,i,s){let m=`_${c}`;return s&&(m+="_T"),`
        float ${m}(int m[${t}]) {
          int offset = indicesToOffset${m}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${i});
          float value = getColorAsFloat(${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${c}, coords));
          return value;
        }
        `}getPackedValueFrom(c,t,e,i,s){let m=`_${c}_Pack`;return s&&(m+="_T"),`
        vec4 ${m}(int m[${t}]) {
          int offset = indicesToOffset_${c}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${i});
          return ${(0,f.getGlsl)(this.context.glContext.version).texture2D}(${c}, coords);
        }
        `}}n.CoordsGlslLib=g},8520:(r,n)=>{var o;Object.defineProperty(n,"__esModule",{value:!0}),n.TopologicalSortGlslRoutines=n.GlslLibRoutineNode=n.GlslLibRoutine=n.GlslLib=n.GlslContext=n.FunctionType=void 0,(o=n.FunctionType||(n.FunctionType={}))[o.ValueBased=0]="ValueBased",o[o.Positional=1]="Positional",n.GlslContext=class{constructor(a,l,f,u){this.glContext=a,this.programInfo=l,this.inputTextureLayouts=f,this.outputTextureLayout=u}},n.GlslLib=class{constructor(a){this.context=a}},n.GlslLibRoutine=class{constructor(a,l){this.routineBody=a,this.dependencies=l}},n.GlslLibRoutineNode=class{constructor(a,l,f){this.name=a,this.dependencies=f||[],l&&(this.routineBody=l)}addDependency(a){a&&this.dependencies.push(a)}},n.TopologicalSortGlslRoutines=class{static returnOrderedNodes(a){if(!a||a.length===0)return[];if(a.length===1)return a;const l=new Set,f=new Set,u=new Array;return this.createOrderedNodes(a,l,f,u),u}static createOrderedNodes(a,l,f,u){for(let p=0;p<a.length;++p)this.dfsTraverse(a[p],l,f,u)}static dfsTraverse(a,l,f,u){if(!a||f.has(a.name))return;if(l.has(a.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");l.add(a.name);const p=a.dependencies;if(p&&p.length>0)for(let g=0;g<p.length;++g)this.dfsTraverse(p[g],l,f,u);u.push(a),f.add(a.name),l.delete(a.name)}}},7341:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EncodingGlslLib=void 0;const a=o(8520);class l extends a.GlslLib{constructor(u){super(u)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new a.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new a.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const u=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new a.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${u}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const u=l.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new a.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${u}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const u=new ArrayBuffer(4),p=new Uint32Array(u),g=new Uint8Array(u);if(p[0]=3735928559,g[0]===239)return!0;if(g[0]===222)return!1;throw new Error("unknown endianness")}}n.EncodingGlslLib=l},9894:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FragColorGlslLib=void 0;const a=o(8520),l=o(5060);class f extends a.GlslLib{constructor(p){super(p)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const p=(0,l.getGlsl)(this.context.glContext.version);return{setFragColor:new a.GlslLibRoutine(`
        void setFragColor(float value) {
            ${p.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new a.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}n.FragColorGlslLib=f},2848:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.replaceInlines=void 0;const o=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;n.replaceInlines=function(a){const l={};let f;for(;(f=o.exec(a))!==null;){const u=f[3].split(",").map(p=>{const g=p.trim().split(" ");return g&&g.length===2?{type:g[0],name:g[1]}:null}).filter(p=>p!==null);l[f[2]]={params:u,body:f[4]}}for(const u in l){const p="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",u),g=new RegExp(p,"gm");for(;(f=g.exec(a))!==null;){const d=f[1],c=f[2],t=f[3].split(","),e=d?`${d} ${c};`:"";let i=l[u].body,s="";l[u].params.forEach((b,y)=>{b&&(s+=`${b.type} ${b.name} = ${t[y]};
`)}),i=`${s}
 ${i}`,i=i.replace("return",`${c} = `);const m=`
      ${e}
      {
        ${i}
      }
      `;a=a.replace(f[0],m)}}return a.replace(o,"")}},8879:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlslPreprocessor=void 0;const a=o(8520),l=o(2848),f=o(5483),u=o(5060);n.GlslPreprocessor=class{constructor(p,g,d,c){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new a.GlslContext(p,g,d,c),Object.keys(f.glslRegistry).forEach(e=>{const i=new f.glslRegistry[e](this.context);this.libs[e]=i});const t=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const i=this.libs[e].getFunctions();for(const s in i){const m=e+"."+s;let b;t[m]?(b=t[m],b.routineBody=i[s].routineBody):(b=new a.GlslLibRoutineNode(m,i[s].routineBody),t[m]=b);const y=i[s].dependencies;if(y)for(let v=0;v<y.length;++v)if(t[y[v]])b.addDependency(t[y[v]]);else{const w=new a.GlslLibRoutineNode(y[v]);t[y[v]]=w,b.addDependency(w)}}}}preprocess(){const p=this.context.programInfo;let g=p.shaderSource;return this.context.programInfo.hasMain||(g=`${g}
      ${(0,u.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),g=(0,l.replaceInlines)(g),`${(0,u.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(p.inputNames,p.variables)}
    ${this.getImports(g)}
    ${g}`}getImports(p){const g=this.selectGlslLibRoutinesToBeIncluded(p);if(g.length===0)return"";let d="";for(let c=0;c<g.length;++c){if(!g[c].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${g[c].name}`);d+=g[c].routineBody+`
`}return d}selectGlslLibRoutinesToBeIncluded(p){const g=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(d=>{const c=d.split(".")[1];p.indexOf(c)!==-1&&g.push(this.glslLibRoutineDependencyGraph[d])}),a.TopologicalSortGlslRoutines.returnOrderedNodes(g)}getUniforms(p,g){const d=[];if(p)for(const c of p)d.push(`uniform sampler2D ${c};`);if(g)for(const c of g)d.push(`uniform ${c.type} ${c.name}${c.arrayLength?`[${c.arrayLength}]`:""};`);return d.join(`
`)}}},5483:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.glslRegistry=void 0;const a=o(5107),l=o(7341),f=o(9894),u=o(2655),p=o(3891);n.glslRegistry={encoding:l.EncodingGlslLib,fragcolor:f.FragColorGlslLib,vec:p.VecGlslLib,shapeUtils:u.ShapeUtilsGlslLib,coordinates:a.CoordsGlslLib}},2655:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ShapeUtilsGlslLib=void 0;const a=o(8520);class l extends a.GlslLib{constructor(u){super(u)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const u=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((g,d)=>{const c=this.context.inputTextureLayouts[d].unpackedShape;if(c.length<=u){const t=c.length,e=u-t,i=`bcastIndices_${g}`;let s="";for(let b=0;b<t;++b)s+=`
          realIndices[${b}] = int( mod(float(bcastedIndices[${e+b}]), ${c[b]}.0) );
          `;const m=`
        void ${i} (int bcastedIndices[${u}], out int realIndices[${t}]) {
          ${s}
        }
        `;p[i]=new a.GlslLibRoutine(m)}}),p}bcastMatmulIndex(){const u=this.context.outputTextureLayout.shape.length,p={};return this.context.programInfo.inputNames.forEach((g,d)=>{const c=this.context.inputTextureLayouts[d].shape;if(!(c.length<2||c.length>u)){const t=c.length,e=u-t,i=`bcastMatmulIndices_${g}`;let s="";for(let b=0;b<t-2;++b)s+=`
          realIndices[${b}] = int( mod(float(bcastedIndices[${e+b}]), ${c[b]}.0) );
          `;const m=`
        void ${i}(int bcastedIndices[${u}], out int realIndices[${t}]) {
          ${s}
          realIndices[${t-1}] = bcastedIndices[${u-1}];
          realIndices[${t-2}] = bcastedIndices[${u-2}];
        }
        `;p[i]=new a.GlslLibRoutine(m)}}),p}indicesToOffset(){const u={};return this.context.programInfo.inputNames.forEach((p,g)=>{const d=this.context.inputTextureLayouts[g].shape,c=this.context.inputTextureLayouts[g].strides,t=d.length;let e=`indicesToOffset_${p}`;u[e]=new a.GlslLibRoutine(l.indexToOffsetSingle(e,t,c)),e=`indicesToOffset_${p}_T`,u[e]=new a.GlslLibRoutine(l.indexToOffsetSingle(e,t,c.slice().reverse()))}),u}static indexToOffsetSingle(u,p,g){let d="";for(let c=p-1;c>=0;--c)d+=`
        offset += indices[${c}] * ${g[c]};
        `;return`
      int ${u}(int indices[${p}]) {
        int offset = 0;
        ${d}
        return offset;
      }
      `}offsetToIndices(){const u={};return this.context.programInfo.inputNames.forEach((p,g)=>{const d=this.context.inputTextureLayouts[g].shape,c=this.context.inputTextureLayouts[g].strides,t=d.length;let e=`offsetToIndices_${p}`;u[e]=new a.GlslLibRoutine(l.offsetToIndicesSingle(e,t,c)),e=`offsetToIndices_${p}_T`,u[e]=new a.GlslLibRoutine(l.offsetToIndicesSingle(e,t,c.slice().reverse()))}),u}static offsetToIndicesSingle(u,p,g){const d=[];for(let c=0;c<p-1;++c)d.push(`
      indices[${c}] = offset / ${g[c]};`),d.push(`
        offset -= indices[${c}] * ${g[c]};`);return d.push(`
      indices[${p-1}] = offset;`),`
      void ${u}(int offset, out int indices[${p}]) {
        ${d.join("")}
      }
      `}incrementIndices(){const u={};return this.context.programInfo.inputNames.forEach((p,g)=>{const d=this.context.inputTextureLayouts[g].shape,c=d.length,t=`incrementIndices_${p}`;let e="";for(let s=0;s<c;++s)e+=`
        shape[${s}] = ${d[s]};`;const i=`
        void ${t}(int axis, out int indices[${c}]) {
          int shape[${c}];
          ${e};
          for(int i = ${c} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;u[t]=new a.GlslLibRoutine(i)}),u}}n.ShapeUtilsGlslLib=l},5060:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultFragShaderMain=n.getFragShaderPreamble=n.getVertexShaderSource=n.getGlsl=void 0;const o={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},a={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function l(f){return f===1?o:a}n.getGlsl=l,n.getVertexShaderSource=function(f){const u=l(f);return`${u.version}
      precision highp float;
      ${u.attribute} vec3 position;
      ${u.attribute} vec2 textureCoord;

      ${u.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},n.getFragShaderPreamble=function(f){const u=l(f);return`${u.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${u.varyingFrag} vec2 TexCoords;
    ${u.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},n.getDefaultFragShaderMain=function(f,u){return`
  void main() {
    int indices[${u}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${l(f).output} = result;
  }
  `}},3891:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VecGlslLib=void 0;const a=o(8520);class l extends a.GlslLib{constructor(u){super(u)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const u=this.context.outputTextureLayout.shape.length,p={add:"+=",sub:"-=",mul:"*=",div:"/="},g={};for(const d in p){const c=`${d}Vec`;let t="";for(let i=0;i<u;++i)t+=`
          dest[${i}] ${p[d]} src[${i}];
          `;const e=`
        void ${c}(int src[${u}], out int dest[${u}]) {
          ${t}
        }
        `;g[c]=new a.GlslLibRoutine(e)}return g}copyVec(){const u=this.context.outputTextureLayout.shape.length;let p="";for(let d=0;d<u;++d)p+=`
        dest[${d}] = src[${d}];
        `;const g=`
      void copyVec(int src[${u}], out int dest[${u}]) {
        ${p}
      }
      `;return{copyVec:new a.GlslLibRoutine(g)}}setVecItem(){const u=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index =${u} + index;
        if (index == 0)
            m[0] = value;
        `;for(let d=1;d<u-1;++d)p+=`
        else if (index == ${d})
            m[${d}] = value;
            `;p+=`
        else
            m[${u-1}] = value;
        `;const g=`
      void setVecItem(out int m[${u}], int index, int value) {
        ${p}
      }
        `;return{setVecItem:new a.GlslLibRoutine(g)}}getVecItem(){const u=this.context.outputTextureLayout.shape.length;let p=`
        if(index < 0)
            index = ${u} + index;
        if (index == 0)
            return m[0];
      `;for(let d=1;d<u-1;++d)p+=`
        else if (index == ${d})
            return m[${d}];
      `;p+=`
        else
            return m[${u-1}];
        `;const g=`
      int getVecItem(int m[${u}], int index) {
        ${p}
      }
    `;return{getVecItem:new a.GlslLibRoutine(g)}}}n.VecGlslLib=l},8316:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLInferenceHandler=void 0;const a=o(6231),l=o(9162),f=o(2517),u=o(2403),p=o(7019),g=o(8710),d=o(5611),c=o(4057),t=o(2039);n.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,i){return(0,c.calculateTextureWidthAndHeight)(this.session.layoutStrategy,e,i)}executeProgram(e,i){if(i.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const s=[];for(let T=0;T<e.inputNames.length;++T)s[T]=this.getOrCreateTextureData(i[T],e.inputTypes[T]);const m=((T,_)=>{const x=_.map($=>`${$.unpackedShape.join(",")};${$.width}x${$.height}`).join("_");let A=T.name;return T.cacheHint&&(A+="["+T.cacheHint+"]"),A+=":"+x,A})(e,s);let b=this.session.programManager.getArtifact(m);const y=b?b.programInfo:typeof e.get=="function"?e.get():e,v=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,y.output.dims,y.output.textureType),w=this.createTextureData(v,y.output.type);return b||(b=this.session.programManager.build(y,s,w),this.session.programManager.setArtifact(m,b)),this.runProgram(b,s,w),w}run(e,i){return this.executeProgram(e,i).tensor}runProgram(e,i,s){for(let m=0;m<i.length;++m)if(!!i[m].isPacked!=(e.programInfo.inputTypes[m]===t.TextureType.packed))throw new Error(`input[${m}] property packed inconsistent`);if(!!s.isPacked!=(e.programInfo.output.textureType===t.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,i,s)}getOrCreateTextureData(e,i){let s=this.getTextureData(e.dataId,i===t.TextureType.packed);if(!s&&(s=this.getTextureData(e.dataId,i!==t.TextureType.packed),s))return i===t.TextureType.packed?this.pack(s):this.unpack(s);if(!s){const m=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,e.dims,i);if(i===t.TextureType.packedLastDimension){const v=e.dims;if(v.length===4){const w=[v[0],Math.ceil(v[1]*v[2]*v[3]/4)],T=(0,c.createTextureLayoutFromTextureType)(this.session.layoutStrategy,w,i);let _=e.numberData;if(v[1]*v[2]*v[3]%4!=0){const x=v[0],A=v[1]*v[2]*v[3],$=Math.ceil(A*1/4)*4;_=new Float32Array(x*$);for(let S=0;S<x;++S){const k=S*A,V=S*$+S%1*A;_.set(e.numberData.subarray(k,k+A),V)}}return this.createTextureData(T,e.type,_,e,1)}}if(i===t.TextureType.packed){const b=(0,c.createTextureLayoutFromShape)(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),y=this.createTextureData(b,e.type,e.numberData,e,1);s=this.pack(y)}else s=this.createTextureData(m,e.type,e.numberData,e,1)}return s}createTextureDataFromLayoutBindTensor(e,i,s,m){return this.createTextureData(e,i,s,m,1)}createTextureData(e,i,s,m,b){a.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const y=this.session.textureManager.createTextureFromLayout(i,e,s,b);return this.createTextureDataFromTexture(e,i,y,m)}reshapeUnpacked(e,i){const s=this.getOrCreateTextureData(e,t.TextureType.unpacked),m={channels:s.channels,height:s.height,width:s.width,shape:i.length!==0?i:[1],strides:f.ShapeUtil.computeStrides(i),unpackedShape:i};return this.createTextureDataFromTexture(m,e.type,s.texture).tensor}reshapePacked(e,i){const s=this.getOrCreateTextureData(e,t.TextureType.packed);if((0,p.isReshapeCheap)(e.dims,i)){const w={channels:s.channels,height:s.height,width:s.width,shape:i.length!==0?i:[1],strides:f.ShapeUtil.computeStrides(i),unpackedShape:i,isPacked:!0};return this.createTextureDataFromTexture(w,e.type,s.texture).tensor}const m=(0,p.processDims3D)(e.dims),b=(0,p.processDims3D)(i),y=this.reshapePacked(e,m),v=this.run((0,p.createPackedReshape3DProgramInfoLoader)(this,y,b),[y]);return this.reshapePacked(v,i)}cast(e,i){const s=this.getOrCreateTextureData(e,t.TextureType.unpacked);return this.createTextureDataFromTexture(s,i,s.texture).tensor}createTextureDataFromTexture(e,i,s,m,b){const y=Object.assign(Object.assign({},e),{tensor:m||new l.Tensor(e.unpackedShape,i,v=>this.readTexture(y),async v=>this.readTextureAsync(y),void 0,b),texture:s});return this.setTextureData(y.tensor.dataId,y,e.isPacked),y}getTextureData(e,i=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,i):i?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,i,s=!1){this.session.isInitializer(e)?this.session.setTextureData(e,i,s):(s?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,i)}isTextureLayoutCached(e,i=!1){return!!this.getTextureData(e.dataId,i)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,g.encodeAsUint8)(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat((0,g.encodeAsUint8)(this,e))}pack(e){return this.executeProgram((0,u.createPackProgramInfoLoader)(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram((0,d.createUnpackProgramInfoLoader)(this,e.tensor),[e.tensor])}}},1640:function(r,n,o){var a=this&&this.__createBinding||(Object.create?function(pe,Ve,Et,Fe){Fe===void 0&&(Fe=Et);var Dt=Object.getOwnPropertyDescriptor(Ve,Et);Dt&&!("get"in Dt?!Ve.__esModule:Dt.writable||Dt.configurable)||(Dt={enumerable:!0,get:function(){return Ve[Et]}}),Object.defineProperty(pe,Fe,Dt)}:function(pe,Ve,Et,Fe){Fe===void 0&&(Fe=Et),pe[Fe]=Ve[Et]}),l=this&&this.__setModuleDefault||(Object.create?function(pe,Ve){Object.defineProperty(pe,"default",{enumerable:!0,value:Ve})}:function(pe,Ve){pe.default=Ve}),f=this&&this.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var Ve={};if(pe!=null)for(var Et in pe)Et!=="default"&&Object.prototype.hasOwnProperty.call(pe,Et)&&a(Ve,pe,Et);return l(Ve,pe),Ve};Object.defineProperty(n,"__esModule",{value:!0}),n.WEBGL_OP_RESOLVE_RULES=void 0;const u=o(2898),p=f(o(7839)),g=o(4196),d=o(2069),c=o(8138),t=o(9663),e=o(5193),i=o(7992),s=o(1253),m=o(4776),b=o(6572),y=o(3346),v=o(5623),w=o(2870),T=o(2143),_=o(4939),x=o(718),A=o(2268),$=o(8117),S=o(2278),k=o(5524),V=o(5975),oe=o(3933),Y=o(6558),ie=o(5723),z=o(3738),M=f(o(4909)),re=o(8428),Ne=o(9793);n.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",M.abs],["Acos","","7+",M.acos],["Add","","7+",p.add],["And","","7+",p.and],["Asin","","7+",M.asin],["Atan","","7+",M.atan],["AveragePool","","7+",T.averagePool,T.parseAveragePoolAttributes],["BatchNormalization","","7+",u.batchNormalization,u.parseBatchNormalizationAttributes],["Cast","","6+",g.cast,g.parseCastAttributes],["Ceil","","6+",M.ceil],["Clip","","6-10",M.clip,M.parseClipAttributes],["Clip","","11+",M.clipV11],["Concat","","4+",d.concat,d.parseConcatAttributes],["Conv","","1+",c.conv,c.parseConvAttributes],["ConvTranspose","","1+",t.convTranspose,t.parseConvTransposeAttributes],["Cos","","7+",M.cos],["Div","","7+",p.div],["Dropout","","7+",M.identity],["DepthToSpace","","1+",e.depthToSpace,e.parseDepthToSpaceAttributes],["Equal","","7+",p.equal],["Elu","","6+",M.elu,M.parseEluAttributes],["Exp","","6+",M.exp],["Flatten","","1+",i.flatten,i.parseFlattenAttributes],["Floor","","6+",M.floor],["FusedConv","com.microsoft","1+",c.conv,c.parseConvAttributes],["Gather","","1+",s.gather,s.parseGatherAttributes],["Gemm","","7-10",m.gemm,m.parseGemmAttributesV7],["Gemm","","11+",m.gemm,m.parseGemmAttributesV11],["GlobalAveragePool","","1+",T.globalAveragePool,T.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",T.globalMaxPool],["Greater","","7+",p.greater],["Identity","","1+",M.identity],["ImageScaler","","1+",b.imageScaler,b.parseImageScalerAttributes],["InstanceNormalization","","6+",y.instanceNormalization,y.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",M.leakyRelu,M.parseLeakyReluAttributes],["Less","","7+",p.less],["Log","","6+",M.log],["MatMul","","1+",v.matMul,v.parseMatMulAttributes],["MaxPool","","1+",T.maxPool,T.parseMaxPoolAttributes],["Mul","","7+",p.mul],["Neg","","6+",M.neg],["Not","","1+",M.not],["Or","","7+",p.or],["Pad","","2-10",w.padV2,w.parsePadAttributesV2],["Pad","","11+",w.padV11,w.parsePadAttributesV11],["Pow","","7+",p.pow],["PRelu","","7+",p.pRelu],["ReduceLogSum","","1+",_.reduceLogSum,_.parseReduceAttributes],["ReduceMax","","1+",_.reduceMax,_.parseReduceAttributes],["ReduceMean","","1+",_.reduceMean,_.parseReduceAttributes],["ReduceMin","","1+",_.reduceMin,_.parseReduceAttributes],["ReduceProd","","1+",_.reduceProd,_.parseReduceAttributes],["ReduceSum","","1-12",_.reduceSum,_.parseReduceAttributes],["ReduceSumSquare","","1+",_.reduceLogSumSquare,_.parseReduceAttributes],["Relu","","6+",M.relu],["Reshape","","5+",x.reshape],["Resize","","10",A.resize,A.parseResizeAttributesV10],["Resize","","11+",A.resize,A.parseResizeAttributesV11],["Shape","","1+",$.shape],["Sigmoid","","6+",M.sigmoid],["Sin","","7+",M.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",k.softmax,k.parseSoftmaxAttributes],["Softmax","","13+",k.softmaxV13,k.parseSoftmaxAttributesV13],["Split","","2-12",V.split,V.parseSplitAttributes],["Sqrt","","6+",M.sqrt],["Squeeze","","1-12",oe.squeeze,oe.parseSqueezeAttributes],["Squeeze","","13+",oe.squeezeV13],["Sub","","7+",p.sub],["Sum","","6+",Y.sum],["Tan","","7+",M.tan],["Tanh","","6+",M.tanh],["Tile","","6+",ie.tile],["Transpose","","1+",z.transpose,z.parseTransposeAttributes],["Upsample","","7-8",Ne.upsample,Ne.parseUpsampleAttributesV7],["Upsample","","9",Ne.upsample,Ne.parseUpsampleAttributesV9],["Unsqueeze","","1-12",re.unsqueeze,re.parseUnsqueezeAttributes],["Unsqueeze","","13+",re.unsqueezeV13],["Xor","","7+",p.xor]]},2898:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseBatchNormalizationAttributes=n.batchNormalization=void 0;const a=o(246),l=o(5060),f=o(2039),u={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]};n.batchNormalization=(d,c,t)=>(g(c),[d.run(Object.assign(Object.assign({},u),{cacheHint:t.cacheKey,get:()=>p(d,c,t)}),c)]),n.parseBatchNormalizationAttributes=d=>{const c=d.attributes.getFloat("epsilon",1e-5),t=d.attributes.getFloat("momentum",.9),e=d.attributes.getInt("spatial",1);return(0,a.createAttributeWithCacheKey)({epsilon:c,momentum:t,spatial:e})};const p=(d,c,t)=>{const e=(0,l.getGlsl)(d.session.backend.glContext.version),i=c[0].dims.length,[s,m]=d.calculateTextureWidthAndHeight(c[1].dims,f.TextureType.unpacked),b=`
  float process(int[${i}] indices) {
    vec2 position = offsetToCoords(indices[1], ${s}, ${m});
    float scale = getColorAsFloat(${e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${e.texture2D}(Variance, position));
    float b = getColorAsFloat(${e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${t.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},u),{output:{dims:c[0].dims,type:c[0].type,textureType:f.TextureType.unpacked},shaderSource:b})},g=d=>{if(!d||d.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const c=d[0],t=d[1],e=d[2],i=d[3],s=d[4];if(c.dims.length<3||t.dims.length!==1||e.dims.length!==1||i.dims.length!==1||s.dims.length!==1)throw new Error("invalid input shape.");if(t.dims[0]!==c.dims[1]||e.dims[0]!==c.dims[1]||i.dims[0]!==c.dims[1]||s.dims[0]!==c.dims[1])throw new Error("invalid input shape.");if(c.type!=="float32"&&c.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||i.type!=="float32"&&i.type!=="float64"||s.type!=="float32"&&s.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.xor=n.sub=n.pRelu=n.pow=n.or=n.mul=n.less=n.greater=n.equal=n.div=n.and=n.add=n.glslPRelu=n.glslPow=n.glslXor=n.glslOr=n.glslAnd=n.glslLess=n.glslGreater=n.glslEqual=n.glslSub=n.glslMul=n.glslDiv=n.glslAdd=void 0;const a=o(2517),l=o(8520),f=o(5060),u=o(2039);function p(){const _="add_";return{body:`
  float ${_}(float a, float b) {
    return a + b;
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:_,type:l.FunctionType.ValueBased}}function g(){const _="div_";return{body:`
  float ${_}(float a, float b) {
    return a / b;
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:_,type:l.FunctionType.ValueBased}}function d(){const _="mul_";return{body:`
  float ${_}(float a, float b) {
    return a * b;
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:_,type:l.FunctionType.ValueBased}}function c(){const _="sub_";return{body:`
  float ${_}(float a, float b) {
    return a - b;
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:_,type:l.FunctionType.ValueBased}}function t(){const _="equal_";return{body:`
  float ${_}(float a, float b) {
    return float(a == b);
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:_,type:l.FunctionType.ValueBased}}function e(){const _="greater_";return{body:`
  float ${_}(float a, float b) {
    return float(a > b);
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:_,type:l.FunctionType.ValueBased}}function i(){const _="less_";return{body:`
  float ${_}(float a, float b) {
    return float(a < b);
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:_,type:l.FunctionType.ValueBased}}function s(){const _="and_";return{body:`
  float ${_}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:_,type:l.FunctionType.ValueBased}}function m(){const _="or_";return{body:`
  float ${_}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:_,type:l.FunctionType.ValueBased}}function b(){const _="xor_";return{body:`
  float ${_}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:_,type:l.FunctionType.ValueBased}}function y(){return function(_){const x=`${_}_`;return{body:`
  float ${x}(float a, float b) {
    return ${_}(a, b);
  }
  vec4 ${x}(vec4 v1, vec4 v2) {
    return ${_}(v1, v2);
  }
  `,name:x,type:l.FunctionType.ValueBased}}("pow")}function v(){const _="prelu_";return{body:`
  float ${_}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${_}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:_,type:l.FunctionType.ValueBased}}n.glslAdd=p,n.glslDiv=g,n.glslMul=d,n.glslSub=c,n.glslEqual=t,n.glslGreater=e,n.glslLess=i,n.glslAnd=s,n.glslOr=m,n.glslXor=b,n.glslPow=y,n.glslPRelu=v;const w=(_,x,A,$=x[0].type,S)=>{const k=_.session.pack?u.TextureType.packed:u.TextureType.unpacked;return{name:A.name,inputNames:["A","B"],inputTypes:[k,k],cacheHint:S,get:()=>T(_,x,A,$)}},T=(_,x,A,$=x[0].type)=>{const S=_.session.pack?u.TextureType.packed:u.TextureType.unpacked,k=!a.ShapeUtil.areEqual(x[0].dims,x[1].dims);let V=x[0].dims;const oe=_.session.pack;if(k){const z=a.BroadcastUtil.calcShape(x[0].dims,x[1].dims,!1);if(!z)throw new Error("Can't perform binary op on the given tensors");V=z;const M=V.length,re=x[0].dims.length!==0?x[0].dims.length:1,Ne=x[1].dims.length!==0?x[1].dims.length:1,pe=x[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Ve=x[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Et=(0,f.getGlsl)(_.session.backend.glContext.version),Fe=oe?`
      ${A.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${A.name}(a, b);
        ${Et.output} = result;
      }`:`
      ${A.body}
      float process(int indices[${M}]) {
        int aindices[${re}];
        int bindices[${Ne}];
        ${pe}
        ${Ve}
        return ${A.name}(_A(aindices), _B(bindices));
      }`;return{name:A.name,inputNames:["A","B"],inputTypes:[S,S],output:{dims:V,type:$,textureType:S},shaderSource:Fe,hasMain:oe}}const Y=(0,f.getGlsl)(_.session.backend.glContext.version),ie=`
    ${A.body}
    void main() {
      vec4 v1 = ${Y.texture2D}(A, TexCoords);
      vec4 v2 = ${Y.texture2D}(B, TexCoords);
      vec4 result = ${A.name}(v1, v2);
      ${Y.output} = result;
    }
    `;return{name:A.name,inputNames:["A","B"],inputTypes:[S,S],output:{dims:x[0].dims,type:$,textureType:S},shaderSource:ie,hasMain:!0}};n.add=(_,x)=>[_.run(w(_,x,p()),x)],n.and=(_,x)=>[_.run(w(_,x,s(),"bool"),x)],n.div=(_,x)=>[_.run(w(_,x,g()),x)],n.equal=(_,x)=>[_.run(w(_,x,t(),"bool"),x)],n.greater=(_,x)=>[_.run(w(_,x,e(),"bool"),x)],n.less=(_,x)=>[_.run(w(_,x,i(),"bool"),x)],n.mul=(_,x)=>[_.run(w(_,x,d()),x)],n.or=(_,x)=>[_.run(w(_,x,m(),"bool"),x)],n.pow=(_,x)=>[_.run(w(_,x,y()),x)],n.pRelu=(_,x)=>[_.run(w(_,x,v()),x)],n.sub=(_,x)=>[_.run(w(_,x,c()),x)],n.xor=(_,x)=>[_.run(w(_,x,b(),"bool"),x)]},4196:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseCastAttributes=n.cast=void 0;const a=o(2517);n.cast=(f,u,p)=>(l(u),[f.cast(u[0],p)]),n.parseCastAttributes=f=>a.ProtoUtil.tensorDataTypeFromProto(f.attributes.getInt("to"));const l=f=>{if(!f||f.length!==1)throw new Error("Cast requires 1 input.");if(f[0].type==="string")throw new Error("Invalid input type.")}},1163:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedConcatProgramInfoLoader=void 0;const a=o(5060),l=o(2039),f=o(9390),u=o(2827);n.createPackedConcatProgramInfoLoader=(g,d,c)=>{const t=(e=d.length,i=c.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:e},(s,m)=>`X${m}`),inputTypes:Array(e).fill(l.TextureType.packed),cacheHint:i});var e,i;return Object.assign(Object.assign({},t),{get:()=>((s,m,b,y)=>{const v=b[0].dims.slice();if(y>=v.length||y<-1*v.length)throw new Error("axis specified for concat doesn't match input dimensionality");y<0&&(y=v.length+y);const w=v.slice(0);for(let pe=1;pe<b.length;pe++){const Ve=b[pe].dims.slice();for(let Et=0;Et<v.length;Et++)if(Et===y)w[y]+=Ve[Et];else if(v[Et]!==Ve[Et])throw new Error("non concat dimensions must match")}const T=w.length,_=(0,u.getChannels)("coords",T),x=(0,f.getCoordsDataType)(T),A=(0,u.unpackFromChannel)(),$=b.map(pe=>pe.dims),S=(0,f.getGlChannels)(T),k=new Array($.length-1);k[0]=$[0][y];for(let pe=1;pe<k.length;pe++)k[pe]=k[pe-1]+$[pe][y];const V=S[y],oe=S.slice(-2),Y=S.join();let ie=`if (${V} < ${k[0]}) {
        return getChannel(
            getX0(${Y}), vec2(${oe.join()}));
        }`;for(let pe=1;pe<k.length;pe++){const Ve=k[pe-1];ie+=`
            if (${V} < ${k[pe]}  && ${V} >= ${k[pe-1]}) {
              return getChannel(
                getX${pe}(${p(S,V,Ve)}),
                vec2(${p(oe,V,Ve)}));
            }`}const z=k.length,M=k[k.length-1];ie+=`
            return getChannel(
              getX${z}(${p(S,V,M)}),
              vec2(${p(oe,V,M)}));`;const re=(0,a.getGlsl)(s.session.backend.glContext.version),Ne=`
          ${A}
          float getValue(${S.map(pe=>"int "+pe)}) {
            ${ie}
          }

          void main() {
            ${x} coords = getOutputCoords();
            int lastDim = coords.${S[T-1]};
            coords.${S[T-1]} = coords.${S[T-2]};
            coords.${S[T-2]} = lastDim;

            vec4 result = vec4(getValue(${_}), 0., 0., 0.);

            ${_[T-1]} = ${_[T-1]} + 1;
            if (${_[T-1]} < ${w[T-1]}) {
              result.g = getValue(${_});
            }

            ${_[T-2]} = ${_[T-2]} + 1;
            if (${_[T-2]} < ${w[T-2]}) {
              result.a = getValue(${_});
            }

            ${_[T-1]} = ${_[T-1]} - 1;
            if (${_[T-2]} < ${w[T-2]} &&
                ${_[T-1]} < ${w[T-1]}) {
              result.b = getValue(${_});
            }
            ${re.output} = result;
          }
        `;return Object.assign(Object.assign({},m),{output:{dims:w,type:b[0].type,textureType:l.TextureType.packed},shaderSource:Ne,hasMain:!0})})(g,t,d,c.axis)})};const p=(g,d,c)=>{const t=g.indexOf(d);return g.map((e,i)=>i===t?`${e} - ${c}`:e).join()}},2069:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConcatAttributes=n.concat=void 0;const a=o(246),l=o(2039),f=o(1163);n.concat=(e,i,s)=>(t(i),e.session.pack&&i[0].dims.length>1?[e.run((0,f.createPackedConcatProgramInfoLoader)(e,i,s),i)]:[e.run(u(e,i,s),i)]);const u=(e,i,s)=>{const m=(b=i.length,y=s.cacheKey,{name:"Concat",inputNames:Array.from({length:b},(v,w)=>`X${w}`),inputTypes:Array(b).fill(l.TextureType.unpacked),cacheHint:y});var b,y;return Object.assign(Object.assign({},m),{get:()=>((v,w,T,_)=>{const x=T[0].dims.slice();if(_>=x.length||_<-1*x.length)throw new Error("axis specified for concat doesn't match input dimensionality");_<0&&(_=x.length+_);const A=x.slice(0);for(let Y=1;Y<T.length;Y++){const ie=T[Y].dims.slice();for(let z=0;z<x.length;z++)if(z===_)A[_]+=ie[z];else if(x[z]!==ie[z])throw new Error("non concat dimensions must match")}const $=A.length,S=new Array(T.length);let k=0;for(let Y=0;Y<S.length;++Y)k+=T[Y].dims[_],S[Y]=k;let V="";V=T.length<5?p(S):g(S);const oe=`
        ${d(T.length,$)}
        ${c(S)}
        ${V}
        float process(int indices[${$}]) {
          int textureIndex = getTextureWhereDataResides (indices[${_}]);

          if(textureIndex != 0) {
            indices[${_}] = indices[${_}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},w),{output:{dims:A,type:T[0].type,textureType:l.TextureType.unpacked},shaderSource:oe})})(0,m,i,s.axis)})},p=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((i,s)=>`if(index<${i}) {return ${s};}
`).join("")}
    }`,g=e=>p(e),d=(e,i)=>{const s=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${i}]) {`];for(let m=0;m<e;++m)m===0?s.push(`	if (textureIndex == ${m}) { return _X${m}(indices); }`):m===e-1?s.push(`	else { return _X${m}(indices); }`):s.push(`	else if (textureIndex == ${m}) { return _X${m}(indices); }`);return s.push("	}"),s.join(`
`)},c=e=>{const i=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let s=0;s<e.length;++s)s===0?i.push(`	if (index == ${s}) { return ${e[s]}; }`):s===e.length-1?i.push(`	else { return ${e[s]}; }`):i.push(`	else if (index == ${s}) { return ${e[s]}; }`);return i.push("	}"),i.join(`
`)};n.parseConcatAttributes=e=>(0,a.createAttributeWithCacheKey)({axis:e.attributes.getInt("axis")});const t=e=>{if(!e||e.length<1)throw new Error("too few inputs");const i=e[0].type,s=e[0].dims.length;if(i==="string")throw new Error("string tensor is not supported yet");for(const m of e){if(m.type!==i)throw new Error("input tensors should be one type");if(m.dims.length!==s)throw new Error("input tensors should have the same shape")}}},4770:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackedGroupedConvProgramInfoLoader=void 0;const a=o(6231),l=o(5060),f=o(2039),u=o(8138),p=o(2823);n.createUnpackedGroupedConvProgramInfoLoader=(g,d,c)=>{const t=(e=d.length>2,i=c.cacheKey,{name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],cacheHint:i});var e,i;return Object.assign(Object.assign({},t),{get:()=>((s,m,b,y)=>{const v=m.length>2?"value += getBias(output_channel);":"",w=m[0].dims.slice(),T=m[1].dims.slice(),_=T[0]/y.group;a.Logger.verbose("GroupedConv",`autpPad:${y.autoPad}, dilations:${y.dilations}, group:${y.group}, kernelShape:${y.kernelShape}, pads:${y.pads}, strides:${y.strides}`);const x=(0,u.calculateOutputShape)(w,T,y.dilations,y.pads,y.strides),A=(0,l.getGlsl)(s.session.backend.glContext.version),{activationFunction:$,applyActivation:S}=(0,p.getActivationSnippet)(y),k=`
  const ivec2 strides = ivec2(${y.strides[0]}, ${y.strides[1]});
  const ivec2 pads = ivec2(${y.pads[0]}, ${y.pads[1]});
  ${$}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${_};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${T[1]}; wInChannel++) {
      int input_channel = group_id * ${T[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${T[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${y.dilations[0]};

        if (xHeight < 0 || xHeight >= ${w[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${T[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${y.dilations[1]};
          if (xWidth < 0 || xWidth >= ${w[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${v}
    ${S}
    ${A.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},b),{output:{dims:x,type:m[0].type,textureType:f.TextureType.unpacked},shaderSource:k,hasMain:!0})})(g,d,t,c)})}},1386:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.conv2DPacked=n.conv2DPackedPointwise=void 0;const a=o(8138),l=o(8555),f=o(708);n.conv2DPackedPointwise=(u,p,g)=>{const d=p[0].dims,c=p[1].dims,t=(0,a.calculateOutputShape)(d,c,g.dilations,g.pads,g.strides),e=u.reshapePacked(p[0],[d[1],d[2]*d[3]]),i=u.reshapePacked(p[1],[c[0],c[1]]),s=p.length>2?[i,e,p[2]]:[i,e],m=u.run((0,f.createPackedMatmulProgramInfoLoader)(u,s,g),s);return u.reshapePacked(m,t)},n.conv2DPacked=(u,p,g)=>{const d=p[0].dims,c=p[1].dims,t=(0,a.calculateOutputShape)(d,c,g.dilations,g.pads,g.strides),e=u.run((0,l.createPackedIm2ColProgramInfoLoader)(u,p[0],p[1],t,g),[p[0]]),i=u.reshapePacked(p[1],[c[0],c[1]*c[2]*c[3]]),s=p.length===3?[i,e,p[2]]:[i,e],m=u.run((0,f.createPackedMatmulProgramInfoLoader)(u,s,g),s);return u.reshapePacked(m,t)}},9663:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvTransposeAttributes=n.convTranspose=void 0;const a=o(246),l=o(5060),f=o(2039),u=o(2823),p=(i,s,m,b,y,v)=>(i-1)*s+m+(b-1)*y+1-v,g=(i,s,m,b,y)=>{const v=Math.floor(i/2);s==="SAME_UPPER"?(m[b]=v,m[y]=i-v):s==="SAME_LOWER"&&(m[b]=i-v,m[y]=v)};n.convTranspose=(i,s,m)=>(e(s,m),d(i,s,m));const d=(i,s,m)=>{const b=t(m,s);return[c(i,s,b)]},c=(i,s,m)=>i.run(((b,y,v)=>{const w=(T=y.length>2,_=v.cacheKey,{name:"ConvTranspose",inputNames:T?["X","W","B"]:["X","W"],inputTypes:T?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],cacheHint:_});var T,_;return Object.assign(Object.assign({},w),{get:()=>((x,A,$,S)=>{const k=A.length>2?"getB(output_channel)":"0.0",V=A[0].dims,oe=A[1].dims,Y=oe[1],ie=oe[0]/S.group,z=[A[0].dims[0],A[1].dims[1]*S.group,...S.outputShape],M=(0,l.getGlsl)(x.session.backend.glContext.version),{activationFunction:re,applyActivation:Ne}=(0,u.getActivationSnippet)(S),pe=`
  const ivec2 strides = ivec2(${S.strides[0]}, ${S.strides[1]});
  const ivec2 pads = ivec2(${S.pads[0]}, ${S.pads[1]});
  ${re}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Y};
    int wOutChannel = output_channel - group_id * ${Y};

    float value = ${k};
    for (int inChannelOffset = 0; inChannelOffset < ${ie}; inChannelOffset++) {
      int input_channel = group_id * ${ie} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${oe[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${oe[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${S.dilations[0]}, wHOff * ${S.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${V[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${V[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Ne}
    ${M.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},$),{output:{dims:z,type:A[0].type,textureType:f.TextureType.unpacked},shaderSource:pe,hasMain:!0})})(b,y,w,v)})})(i,s,m),s),t=(i,s)=>{const m=i.kernelShape.slice();if(i.kernelShape.length===0)for(let w=2;w<s[1].dims.length;++w)m.push(s[1].dims[w]);const b=i.pads.slice(),y=i.outputShape.slice();((w,T,_,x,A,$,S,k)=>{const V=w.length-2,oe=k.length===0;for(let Y=0;Y<V;++Y){const ie=oe?w[Y+2]*$[Y]:k[Y],z=p(w[Y+2],$[Y],A[Y],T[Y],_[Y],ie);g(z,x,A,Y,Y+V),oe&&k.push($[Y]*(w[Y+2]-1)+S[Y]+(T[Y]-1)*_[Y]+1-A[Y]-A[Y+V])}})(s[0].dims,m,i.dilations,i.autoPad,b,i.strides,i.outputPadding,y);const v=Object.assign({},i);return Object.assign(v,{kernelShape:m,pads:b,outputShape:y,cacheKey:i.cacheKey}),v};n.parseConvTransposeAttributes=i=>{const s=i.attributes,m=(0,u.parseInternalActivationAttributes)(s),b=s.getString("auto_pad","NOTSET"),y=s.getInts("dilations",[1,1]),v=s.getInt("group",1),w=s.getInts("kernel_shape",[]),T=s.getInts("output_padding",[0,0]),_=s.getInts("output_shape",[]),x=s.getInts("pads",[0,0,0,0]),A=s.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:b,dilations:y,group:v,kernelShape:w,outputPadding:T,outputShape:_,pads:x,strides:A},m))};const e=(i,s)=>{if(!i||i.length!==2&&i.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(i[0].dims.length!==4||i[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(i[0].dims[1]!==i[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const m=i[1].dims[1]*s.group;if(i.length===3&&(i[2].dims.length!==1||i[2].dims[0]!==m))throw new Error("invalid bias");const b=i[0].dims.length-2;if(s.dilations.length!==b)throw new Error(`dilations should be ${b}D`);if(s.strides.length!==b)throw new Error(`strides should be ${b}D`);if(s.pads.length!==2*b)throw new Error(`pads should be ${2*b}D`);if(s.outputPadding.length!==b)throw new Error(`output_padding should be ${b}D`);if(s.kernelShape.length!==0&&s.kernelShape.length!==i[1].dims.length-2)throw new Error("invalid kernel shape");if(s.outputShape.length!==0&&s.outputShape.length!==i[0].dims.length-2)throw new Error("invalid output shape");if(i[0].type!=="float32"||i[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(i.length===3&&i[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvAttributes=n.conv=n.calculateOutputShape=void 0;const a=o(246),l=o(2517),f=o(4770),u=o(1386),p=o(9828),g=o(2823),d=o(3248),c=o(5623);n.calculateOutputShape=(b,y,v,w,T)=>{const _=b[0],x=b.slice(2),A=x.length,$=y[0],S=y.slice(2).map((V,oe)=>V+(V-1)*(v[oe]-1)),k=x.map((V,oe)=>V+w[oe]+w[oe+A]).map((V,oe)=>Math.floor((V-S[oe]+T[oe])/T[oe]));return[_,$].concat(...k)},n.conv=(b,y,v)=>(m(y,v),t(b,y,v));const t=(b,y,v)=>{const w=s(v,y),T=b.session.pack,_=w.kernelShape[0]===1&&w.kernelShape[1]===1;return w.group>1?[b.run((0,f.createUnpackedGroupedConvProgramInfoLoader)(b,y,w),y)]:_&&T?[e(b,y,w)]:T&&y[0].dims.length===4&&y[0].dims[0]===1&&!_?[(0,u.conv2DPacked)(b,y,w)]:[i(b,y,w)]},e=(b,y,v)=>{const w=y[0].dims,T=y[1].dims,_=(0,n.calculateOutputShape)(w,T,v.dilations,v.pads,v.strides),x=b.reshapeUnpacked(y[0],[w[1],w[2]*w[3]]),A=b.reshapeUnpacked(y[1],[T[0],T[1]]),$=y.length>2?[A,x,y[2]]:[A,x],S=b.run((0,c.createMatmulProgramInfoLoader)($,v),$);return b.reshapeUnpacked(S,_)},i=(b,y,v)=>{const w=y[0].dims,T=y[1].dims,_=(0,n.calculateOutputShape)(w,T,v.dilations,v.pads,v.strides),x=b.run((0,d.createIm2ColProgramInfoLoader)(b,y[0],y[1],_,v),[y[0]]),A=y.length===3?[x,y[1],y[2]]:[x,y[1]];return b.run((0,p.createDotProductProgramInfoLoader)(b,y,_,v),A)},s=(b,y)=>{const v=b.kernelShape.slice();if(b.kernelShape.length===0)for(let _=2;_<y[1].dims.length;++_)v.push(y[1].dims[_]);const w=b.pads.slice();l.PoolConvUtil.adjustPadsBasedOnAutoPad(y[0].dims,b.strides,b.dilations,v,w,b.autoPad);const T=Object.assign({},b);return Object.assign(T,{kernelShape:v,pads:w,cacheKey:b.cacheKey}),T};n.parseConvAttributes=b=>{const y=b.attributes,v=(0,g.parseInternalActivationAttributes)(y),w=y.getString("auto_pad","NOTSET"),T=y.getInts("dilations",[1,1]),_=y.getInt("group",1),x=y.getInts("kernel_shape",[]),A=y.getInts("pads",[0,0,0,0]),$=y.getInts("strides",[1,1]);return(0,a.createAttributeWithCacheKey)(Object.assign({autoPad:w,dilations:T,group:_,kernelShape:x,pads:A,strides:$},v))};const m=(b,y)=>{if(!b||b.length!==2&&b.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(b[0].dims.length!==4||b[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(b[0].dims[1]!==b[1].dims[1]*y.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(b.length===3&&(b[2].dims.length!==1||b[1].dims[0]!==b[2].dims[0]))throw new Error("invalid bias");const v=b[0].dims.length-2;if(y.dilations.length!==v)throw new Error(`dilations should be ${v}D`);if(y.strides.length!==v)throw new Error(`strides should be ${v}D`);if(y.pads.length!==2*v)throw new Error(`pads should be ${2*v}D`);if(y.kernelShape.length!==0&&y.kernelShape.length!==b[1].dims.length-2)throw new Error("invalid kernel shape");if(b[0].type!=="float32"||b[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(b.length===3&&b[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseDepthToSpaceAttributes=n.depthToSpace=void 0;const a=o(3738);n.depthToSpace=(f,u,p)=>{l(u);const g=p.blocksize,d=g*g,c=p.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],t=p.mode==="DCR"?[u[0].dims[0],g,g,u[0].dims[1]/d,u[0].dims[2],u[0].dims[3]]:[u[0].dims[0],u[0].dims[1]/d,g,g,u[0].dims[2],u[0].dims[3]],e=f.reshapeUnpacked(u[0],t),i={perm:c,cacheKey:`${c}`},[s]=(0,a.transpose)(f,[e],i),m=[u[0].dims[0],u[0].dims[1]/d,u[0].dims[2]*g,u[0].dims[3]*g];return[f.reshapeUnpacked(s,m)]},n.parseDepthToSpaceAttributes=f=>{const u=f.attributes.getInt("blocksize");if(u<1)throw new Error(`blocksize must be >= 1, but got : ${u} for DepthToSpace`);const p=f.attributes.getString("mode","DCR");if(p!=="DCR"&&p!=="CRD")throw new Error(`unrecognized mode: ${p} for DepthToSpace`);return{mode:p,blocksize:u}};const l=f=>{if(f.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${f.length}`);if(f[0].type==="string"||f[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDotProductProgramInfoLoader=void 0;const a=o(2517),l=o(5060),f=o(2039),u=o(2823),p=o(3248);n.createDotProductProgramInfoLoader=(g,d,c,t)=>{const e=((i,s)=>({name:"ConvDotProduct",inputNames:i?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:i?[f.TextureType.unpacked,f.TextureType.packedLastDimension,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.packedLastDimension],cacheKey:s.activationCacheKey}))(d.length>2,t);return Object.assign(Object.assign({},e),{get:()=>((i,s,m,b,y)=>{const v=m[0].dims,w=m[1].dims,T=[w[0],Math.ceil(v[1]*w[2]*w[3]/4)],_=(0,p.calculateIm2ColDims)(v,w,b),[x,A]=i.calculateTextureWidthAndHeight(T,f.TextureType.packedLastDimension),$=a.ShapeUtil.computeStrides(_),[S,k]=i.calculateTextureWidthAndHeight(_,f.TextureType.packedLastDimension),V=b.length,oe=m.length<3?"0.0":"_B(b)",Y=Math.ceil(v[1]*w[2]*w[3]/4),{activationFunction:ie,applyActivation:z}=(0,u.getActivationSnippet)(y),M=(0,l.getGlsl)(i.session.backend.glContext.version),re=`
${ie}
float process(int indices[${V}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${$[0]} + im2col[1] * ${$[1]} + im2col[2] * ${$[2]};
  int kernelOffset = indices[1] * ${T[1]};
  float value = ${oe};
  for (int i = 0; i < ${Y}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${S}, ${k});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${x}, ${A});
    value += dot(${M.texture2D}(Im2Col, im2colCoords), ${M.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${z}
  return value;
}`;return Object.assign(Object.assign({},s),{output:{dims:b,type:m[0].type,textureType:f.TextureType.unpacked},shaderSource:re})})(g,e,d,c,t)})}},7992:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseFlattenAttributes=n.flatten=void 0;const a=o(2517);n.flatten=(f,u,p)=>{l(u,p);const g=a.ShapeUtil.flattenShape(u[0].dims,p);return[f.reshapeUnpacked(u[0],g)]},n.parseFlattenAttributes=f=>f.attributes.getInt("axis",1);const l=(f,u)=>{if(!f||f.length!==1)throw new Error("Flatten requires 1 input.");const p=f[0].dims.length;if(p===0)throw new Error("scalar tensor is not supported.");if(u<-p||u>p)throw new Error("Invalid axis");if(f[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInternalActivationAttributes=n.getActivationSnippet=void 0;const a=o(2517),l=o(4909);n.getActivationSnippet=function(f){let u;switch(f.activation){case"Relu":u=(0,l.glslRelu)();break;case"Sigmoid":u=(0,l.glslSigmoid)();break;case"Clip":u=(0,l.glslClip)(f.clipMin,f.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const p=u.name;return{activationFunction:u.body,applyActivation:`value = ${p}_(value);`}},n.parseInternalActivationAttributes=f=>{const u=f.getString("activation","");if(u==="Clip"){const[p,g]=f.getFloats("activation_params",[a.MIN_CLIP,a.MAX_CLIP]);return{activation:u,clipMax:g,clipMin:p,activationCacheKey:`${u}:${p},${g}`}}return{activation:u,activationCacheKey:u}}},1253:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGatherAttributes=n.gather=void 0;const a=o(246),l=o(782),f=o(2517),u=o(2039);n.gather=(c,t,e)=>(d(t,e.axis),[c.run(g(c,t,e),t)]),n.parseGatherAttributes=c=>(0,a.createAttributeWithCacheKey)({axis:c.attributes.getInt("axis",0)});const p={name:"Gather",inputNames:["A","B"],inputTypes:[u.TextureType.unpacked,u.TextureType.unpacked]},g=(c,t,e)=>{const i=Object.assign(Object.assign({},p),{cacheHint:e.cacheKey});return Object.assign(Object.assign({},i),{get:()=>((s,m,b,y)=>{const v=b[0].dims.slice(),w=b[1].dims.slice(),T=new Array(v.length+w.length-1);y=f.ShapeUtil.normalizeAxis(y,v.length);const _=[];for(let A=0;A<T.length;A++)A<y?(T[A]=v[A],_.push(`inputIdx[${A}] = outputIdx[${A}];`)):A<y+w.length?(T[A]=w[A-y],_.push(`indexDataIdx[${A-y}] = outputIdx[${A}];`)):(T[A]=v[A-w.length+1],_.push(`inputIdx[${A-w.length+1}] = outputIdx[${A}];`));const x=`
      float process(int outputIdx[${T.length||1}]) {
        int inputIdx[${v.length}];
        int indexDataIdx[${w.length||1}];
        indexDataIdx[0] = 0;
        ${_.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${y}] = idx < 0 ? idx + ${v[y]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},m),{output:{dims:T,type:b[0].type,textureType:u.TextureType.unpacked},shaderSource:x})})(0,i,t,e.axis)})},d=(c,t)=>{if(!c||c.length!==2)throw new Error("Gather requires 2 inputs.");const e=c[0].dims.length;if(e<1)throw new Error("Invalid input shape.");if(t<-e||t>e-1)throw new Error("Invalid axis.");if(l.NUMBER_TYPES.indexOf(c[0].type)===-1)throw new Error("Invaid input type.");if(c[1].type!=="int32"&&c[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGemmAttributesV11=n.parseGemmAttributesV7=n.gemm=void 0;const a=o(246),l=o(2517),f=o(2039);n.gemm=(c,t,e)=>(d(t,e),[c.run(p(t,e),t)]);const u=(c,t)=>{const e=c.attributes.getInt("transA",0)!==0,i=c.attributes.getInt("transB",0)!==0,s=c.attributes.getFloat("alpha",1),m=c.attributes.getFloat("beta",1);return(0,a.createAttributeWithCacheKey)({transA:e,transB:i,alpha:s,beta:m,isOptionalC:t})};n.parseGemmAttributesV7=c=>u(c,!1),n.parseGemmAttributesV11=c=>u(c,!0);const p=(c,t)=>{const e={name:"Gemm",inputNames:c.length===3?["A","B","C"]:["A","B"],inputTypes:c.length===3?[f.TextureType.unpacked,f.TextureType.unpacked,f.TextureType.unpacked]:[f.TextureType.unpacked,f.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},e),{get:()=>g(e,c,t)})},g=(c,t,e)=>{const i=t[0].dims.slice(),s=t[1].dims.slice(),[m,b]=l.GemmUtil.getShapeOfGemmResult(i,e.transA,s,e.transB,t.length===3?t[2].dims:void 0),y=[m,b];if(!y)throw new Error("Can't use gemm on the given tensors");let v=i[i.length-1],w="";e.transA&&(v=i[0]),e.transA&&e.transB?w="value += _A_T(a) * _B_T(b);":e.transA&&!e.transB?w="value += _A_T(a) * _B(b);":!e.transA&&e.transB?w="value += _A(a) * _B_T(b);":e.transA||e.transB||(w="value += _A(a) * _B(b);");const T=y.length,_=`
      float process(int indices[${T}]) {
          int a[${T}];
          int b[${T}];
          ${t.length===3?`int c[${t[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${t.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${v}; ++k) {
              a[${T-1}] = k;
              b[${T-2}] = k;
              ${w}
          }

          value = value * alpha;
          ${t.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},c),{output:{dims:y,type:t[0].type,textureType:f.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:e.alpha},{name:"beta",type:"float",data:e.beta}],shaderSource:_})},d=(c,t)=>{if(!c)throw new Error("Input is missing");if(t.isOptionalC&&(c.length<2||c.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&c.length!==3)throw new Error("Gemm requires 3 inputs");if(c.length===3&&c[2].dims.length!==1&&c[2].dims.length!==2)throw new Error("Invalid input shape of C");if(c[0].type!=="float32"&&c[0].type!=="float64"||c[1].type!=="float32"&&c[1].type!=="float64"||c.length===3&&c[2].type!=="float32"&&c[2].type!=="float64")throw new Error("Invalid input type.");if(c[0].type!==c[1].type||c.length===3&&c[0].type!==c[2].type)throw new Error("Input types are mismatched")}},8555:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedIm2ColProgramInfoLoader=void 0;const a=o(5060),l=o(2039),f=o(2827);n.createPackedIm2ColProgramInfoLoader=(u,p,g,d,c)=>{const t=(e=c.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[l.TextureType.packed],cacheHint:e});var e;return Object.assign(Object.assign({},t),{get:()=>((i,s,m,b,y,v)=>{const w=m.dims,T=b.dims,_=y.length,x=[T[1]*T[2]*T[3],y[2]*y[3]],A=T[2]*T[3],$=(0,f.unpackFromChannel)(),S=(0,a.getGlsl)(i.session.backend.glContext.version);let k="";for(let oe=0;oe<=1;oe++)for(let Y=0;Y<=1;Y++)k+=`
            blockIndex = rc.x + ${Y};
            pos = rc.y + ${oe};

            if(blockIndex < ${x[1]} && pos < ${x[0]}) {
              offsetY = int(blockIndex / (${y[_-1]})) * ${v.strides[0]} -
                ${v.pads[0]};
              d0 = offsetY + ${v.dilations[0]} * (imod(pos, ${A}) / ${T[2]});

              if(d0 < ${w[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${y[_-1]}) * ${v.strides[1]} -
                  ${v.pads[1]};
                d1 = offsetX + ${v.dilations[1]} * imod(imod(pos, ${A}), ${T[2]});

                if(d1 < ${w[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${A}.);
                    innerDims = vec2(d0, d1);
                    result[${2*oe+Y}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const V=`
      ${$}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${k}
          ${S.output} = result;
      }
            `;return Object.assign(Object.assign({},s),{output:{dims:x,type:m.type,textureType:l.TextureType.packed},shaderSource:V,hasMain:!0})})(u,t,p,g,d,c)})}},3248:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.calculateIm2ColDims=n.createIm2ColProgramInfoLoader=void 0;const a=o(2039);n.createIm2ColProgramInfoLoader=(l,f,u,p,g)=>{const d=(c=g.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[a.TextureType.unpacked],cacheHint:c});var c;return Object.assign(Object.assign({},d),{get:()=>((t,e,i,s,m,b)=>{const y=i.dims,v=s.dims,w=m.length,T=(0,n.calculateIm2ColDims)(y,v,m,4),_=`
        const int XC = ${y[1]};
        const int XH = ${y[2]};
        const int XW = ${y[3]};
        const int KH = ${b.kernelShape[0]};
        const int KW = ${b.kernelShape[1]};
        const int dilationH = ${b.dilations[0]};
        const int dilationW = ${b.dilations[1]};
        const int strideH = ${b.strides[0]};
        const int strideW = ${b.strides[1]};
        const int padH = ${b.pads[0]};
        const int padW = ${b.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${w}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${y.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},e),{output:{dims:T,type:i.type,textureType:a.TextureType.packedLastDimension},shaderSource:_})})(0,d,f,u,p,g)})},n.calculateIm2ColDims=(l,f,u,p=4)=>[u[0],u[2],u[3],Math.ceil(l[1]*f[2]*f[3]/p)]},6572:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseImageScalerAttributes=n.imageScaler=void 0;const a=o(246),l=o(2039);n.imageScaler=(d,c,t)=>(g(c),[d.run(u(d,c,t),c)]),n.parseImageScalerAttributes=d=>{const c=d.attributes.getFloat("scale"),t=d.attributes.getFloats("bias");return(0,a.createAttributeWithCacheKey)({scale:c,bias:t})};const f={name:"ImageScaler",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},u=(d,c,t)=>{const e=Object.assign(Object.assign({},f),{cacheHint:t.cacheKey});return Object.assign(Object.assign({},e),{get:()=>((i,s,m,b)=>{const y=m[0].dims.slice(),v=y.length,w=`
      ${p(b.bias.length)}
      float process(int indices[${v}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},s),{output:{dims:y,type:m[0].type,textureType:l.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:b.bias.length,data:b.bias},{name:"scale",type:"float",data:b.scale}],shaderSource:w})})(0,e,c,t)})},p=d=>{const c=[`float getBias(float bias[${d}], int channel) {`];for(let t=0;t<d;++t)t===0?c.push(`	if (channel == ${t}) { return bias[${t}]; }`):t===d-1?c.push(`	else { return bias[${t}]; }`):c.push(`	else if (channel == ${t}) { return bias[${t}]; }`);return c.push("	}"),c.join(`
`)},g=d=>{if(!d||d.length!==1)throw new Error("ImageScaler requires 1 input.");if(d[0].dims.length!==4)throw new Error("Invalid input shape.");if(d[0].type!=="float32"&&d[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInstanceNormalizationAttributes=n.instanceNormalization=void 0;const a=o(5060),l=o(2039);n.instanceNormalization=(c,t,e)=>{d(t);const i=c.run(u(t[0]),t);return[c.run(g(c,t[0],e,i.dims),[t[0],i,t[1],t[2]])]},n.parseInstanceNormalizationAttributes=c=>c.attributes.getFloat("epsilon",1e-5);const f={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[l.TextureType.unpacked]},u=c=>Object.assign(Object.assign({},f),{get:()=>((t,e)=>{const i=e.dims.slice(),s=i[1],m=i[2]*i[3],b=[i[0],s],y=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${i[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${i[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${m});
        temp = 0.0;
        for(int a2=0; a2<${i[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${i[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${m});

        return v;
      }`;return Object.assign(Object.assign({},t),{output:{dims:b,type:e.type,textureType:l.TextureType.packedLastDimension},shaderSource:y})})(f,c)}),p={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[l.TextureType.unpacked,l.TextureType.packedLastDimension,l.TextureType.unpacked,l.TextureType.unpacked]},g=(c,t,e,i)=>{const s=Object.assign(Object.assign({},p),{cacheHint:`${e}`});return Object.assign(Object.assign({},s),{get:()=>((m,b,y,v,w)=>{const T=(0,a.getGlsl)(m.session.backend.glContext.version),[_,x]=m.calculateTextureWidthAndHeight(w,l.TextureType.packedLastDimension),[A,$]=[_/4,x],S=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${A}, ${$});
        return ${T.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},b),{output:{dims:y.dims,type:y.type,textureType:l.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:v}],shaderSource:S})})(c,s,t,e,i)})},d=c=>{if(!c||c.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const t=c[0],e=c[1],i=c[2];if(t.dims.length<3||e.dims.length!==1||i.dims.length!==1)throw new Error("Invalid input shape.");if(e.dims[0]!==t.dims[1]||i.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if(t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||i.type!=="float32"&&i.type!=="float64")throw new Error("Invalid input type.");if(c[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedMatmulProgramInfoLoader=void 0;const a=o(2517),l=o(5060),f=o(2039),u=o(9390),p=o(2823),g=o(5623);n.createPackedMatmulProgramInfoLoader=(d,c,t)=>{const e=(i=c.length>2,s=t.activationCacheKey,{name:"MatMul (packed)",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[f.TextureType.packed,f.TextureType.packed,f.TextureType.packed]:[f.TextureType.packed,f.TextureType.packed],cacheHint:s});var i,s;return Object.assign(Object.assign({},e),{get:()=>((m,b,y,v)=>{const w=y.length>2,T=w?"value += getBiasForMatmul();":"",_=y[0].dims,x=y[1].dims,A=a.BroadcastUtil.calcShape(_,x,!0),$=!a.ShapeUtil.areEqual(y[0].dims,y[1].dims);if(!A)throw new Error("Can't use matmul on the given tensors");const S=_[_.length-1],k=Math.ceil(S/2),V=_.length,oe=x.length,Y=(0,l.getGlsl)(m.session.backend.glContext.version),ie=(0,u.getCoordsDataType)(A.length),z=A.length,M=(0,u.getGlChannels)(),{activationFunction:re,applyActivation:Ne}=(0,p.getActivationSnippet)(v),pe=w?`${(0,g.getBiasForMatmul)(ie,M,y[2].dims,A,!0)}`:"",Ve=$?`${function(_n,At,Pn,Ue){let $n=[],Jn=[];const Dn=Pn[0].dims,Nn=Pn[1].dims,Wn=Dn.length,Un=Nn.length,Rn=Ue.length,er=Rn-Wn,tr=Rn-Un;$n=Dn.map((En,Ln)=>`coords.${At[Ln+er]}`),$n[Wn-1]="i*2",$n.join(", "),Jn=Nn.map((En,Ln)=>`coords.${At[Ln+tr]}`),Jn[Un-2]="i*2",Jn.join(", ");const Zn=a.BroadcastUtil.getBroadcastDims(Dn,Ue),Tn=a.BroadcastUtil.getBroadcastDims(Nn,Ue),xn=Zn.map(En=>`coords.${At[En+er]} = 0;`).join(`
`),Lt=Tn.map(En=>`coords.${At[En+tr]} = 0;`).join(`
`),vn=`int lastDim = coords.${At[Rn-1]};
  coords.${At[Rn-1]} = coords.${At[Rn-2]};
  coords.${At[Rn-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${_n} coords = getOutputCoords();
  ${vn}
  ${xn}
  vec4 outputValue = getA(${$n});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${_n} coords = getOutputCoords();
  ${vn}
  ${Lt}
  vec4 outputValue = getB(${Jn});
  return outputValue;
}`}(ie,M,y,A)}`:"",Et=$?"getAAtOutCoordsMatmul(i)":`getA(${function(_n,At){let Pn="";for(let Ue=0;Ue<At-2;Ue++)Pn+=`rc.${_n[Ue]}, `;return Pn+=`rc.${_n[At-2]}, i*2`,Pn}(M,V)})`,Fe=$?"getBAtOutCoordsMatmul(i)":`getB(${function(_n,At){let Pn="";for(let Ue=0;Ue<At-2;Ue++)Pn+=`rc.${_n[Ue]}, `;return Pn+=`i*2, rc.${_n[At-1]}`,Pn}(M,oe)})`,Dt=`
            ${Ve}
            ${pe}
            ${re}
            void main() {
              ${$?"":`${ie} rc =
          getOutputCoords(); int lastDim = rc.${M[z-1]}; rc.${M[z-1]} =
          rc.${M[z-2]}; rc.${M[z-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${k}; i++) {
                vec4 a = ${Et};
                vec4 b = ${Fe};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${T}
              ${Ne}
              ${Y.output} = value;
            }`;return Object.assign(Object.assign({},b),{output:{dims:A,type:y[0].type,textureType:f.TextureType.packed},shaderSource:Dt,hasMain:!0})})(d,e,c,t)})}},5623:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBiasForMatmul=n.createMatmulProgramInfoLoader=n.parseMatMulAttributes=n.matMul=void 0;const a=o(2517),l=o(2039),f=o(9390),u=o(2823),p=o(708);function g(t,e){const i=(s=t.length>2,m=e.activationCacheKey,{name:"MatMul",inputNames:s?["A","B","Bias"]:["A","B"],inputTypes:s?[l.TextureType.unpacked,l.TextureType.unpacked,l.TextureType.unpacked]:[l.TextureType.unpacked,l.TextureType.unpacked],cacheHint:m});var s,m;return Object.assign(Object.assign({},i),{get:()=>function(b,y,v){const w=y[0].dims,T=y[1].dims,_=a.BroadcastUtil.calcShape(w,T,!0);if(!_)throw new Error("Can't use matmul on the given tensors");const x=(0,f.getCoordsDataType)(_.length),A=(0,f.getGlChannels)(),{activationFunction:$,applyActivation:S}=(0,u.getActivationSnippet)(v),k=y.length>2,V=k?"value += getBiasForMatmul();":"",oe=k?`${c(x,A,y[2].dims,_,!1)}`:"",Y=_.length,ie=w.length,z=T.length,M=`
    ${$}
    ${oe}
    float process(int indices[${Y}]) {
        int a[${ie}];
        int b[${z}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${w[w.length-1]}; ++k) {
            a[${ie-1}] = k;
            b[${z-2}] = k;
            value += _A(a) * _B(b);
        }
        ${V}
        ${S}
        return value;
    }`;return Object.assign(Object.assign({},b),{output:{dims:_,type:y[0].type,textureType:l.TextureType.unpacked},shaderSource:M})}(i,t,e)})}n.matMul=(t,e,i)=>(d(e),t.session.pack?[t.run((0,p.createPackedMatmulProgramInfoLoader)(t,e,i),e)]:[t.run(g(e,i),e)]),n.parseMatMulAttributes=t=>(0,u.parseInternalActivationAttributes)(t.attributes),n.createMatmulProgramInfoLoader=g;const d=t=>{if(!t||t.length!==2)throw new Error("MatMul requires 2 inputs.");if(t[0].dims[t[0].dims.length-1]!==t[1].dims[t[1].dims.length-2])throw new Error("shared dimension does not match.");if(t[0].type!=="float32"&&t[0].type!=="float64"||t[1].type!=="float32"&&t[1].type!=="float64")throw new Error("inputs should be float type");if(t[0].type!==t[1].type)throw new Error("inputs types should match")};function c(t,e,i,s,m){let b="";const y=i.length,v=s.length,w=v-y;b=v<2&&y>0?"coords":i.map((x,A)=>`coords.${e[A+w]}`).join(", ");const T=a.BroadcastUtil.getBroadcastDims(i,s).map(x=>`coords.${e[x+w]} = 0;`).join(`
`);let _="vec4(outputValue.xx, outputValue.yy)";return a.ShapeUtil.size(i)===1&&(_="vec4(outputValue.x)"),m?`
vec4 getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${T}
  vec4 outputValue = getBias(${b});
  return ${_};
}`:`
float getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${T}
  return getBias(coords.x);
}`}n.getBiasForMatmul=c},2403:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackProgramInfoLoader=void 0;const a=o(5060),l=o(2039),f=o(9390),u=o(2827),p={name:"pack",inputNames:["A"],inputTypes:[l.TextureType.unpackedReversed]};n.createPackProgramInfoLoader=(g,d)=>Object.assign(Object.assign({},p),{get:()=>((c,t)=>{const e=(0,a.getGlsl)(c.session.backend.glContext.version),i=t.dims,s=i.length,m=t.dims.length,b=(0,f.getCoordsDataType)(m),y=(0,u.getChannels)("rc",m),v=(w=m,T=y,_=i[i.length-2],x=i[i.length-1],w===0||w===1?"":`
    int r = ${T[w-2]};
    int c = ${T[w-1]};
    int rp1 = ${T[w-2]} + 1;
    int cp1 = ${T[w-1]} + 1;
    bool rEdge = rp1 >= ${x};
    bool cEdge = cp1 >= ${_};
    `);var w,T,_,x;let A;A=s===0?[1,1]:s===1?[i[0],1]:[i[m-1],i[m-2]];const $=function(V,oe,Y){if(V===0)return"false";if(V===1)return`rc > ${oe[0]}`;let ie="";for(let z=V-2;z<V;z++)ie+=`${Y[z]} >= ${oe[z-V+2]}`,z<V-1&&(ie+="||");return ie}(m,A,y),S=function(V,oe){const Y=V.length;if(Y===0)return"getA(), 0, 0, 0";if(Y===1)return`getA(rc),
            rc + 1 >= ${V[0]} ? 0. : getA(rc + 1),
            0, 0`;let ie="";if(Y>2)for(let z=0;z<Y-2;++z)ie+=`${oe[z]},`;return`getA(${ie}r, c),
          rEdge ? 0. : getA(${ie}rp1, c),
          cEdge ? 0. : getA(${ie}r, cp1),
          rEdge || cEdge ? 0. : getA(${ie}rp1, cp1)`}(i,y),k=`
        void main() {
          ${b} rc = getOutputCoords();

          if(${$}) {
            ${e.output} = vec4(0);
          } else {
            ${v}

            ${e.output} = vec4(${S});
          }
        }
      `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:l.TextureType.packed},shaderSource:k})})(g,d)})},2827:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.unpackFromChannel=n.getChannels=n.getVecChannels=void 0;const a=o(9390);function l(f,u){return(0,a.getGlChannels)(u).map(p=>`${f}.${p}`)}n.getVecChannels=l,n.getChannels=function(f,u){return u===1?[f]:l(f,u)},n.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parsePadAttributesV11=n.padV11=n.parsePadAttributesV2=n.padV2=void 0;const a=o(246),l=o(2517),f=o(5060),u=o(2039),p={name:"Pad",inputNames:["A"],inputTypes:[u.TextureType.unpacked]};n.padV2=(b,y,v)=>(c(y),[b.run(Object.assign(Object.assign({},p),{cacheHint:v.cacheKey,get:()=>d(b,y[0],v)}),y)]),n.parsePadAttributesV2=b=>{const y=b.attributes.getString("mode","constant"),v=b.attributes.getFloat("value",0),w=b.attributes.getInts("pads");return(0,a.createAttributeWithCacheKey)({mode:y,value:v,pads:w})},n.padV11=(b,y,v)=>{t(y);const w=g(b,y,v);return(0,n.padV2)(b,[y[0]],w)},n.parsePadAttributesV11=b=>b.attributes.getString("mode","constant");const g=(b,y,v)=>{if(!b.session.isInitializer(y[1].dataId)||y.length>=3&&!b.session.isInitializer(y[2].dataId))throw new Error("dynamic pad attributes are not allowed");const w=Array.from(y[1].integerData),T=y.length>=3?y[2].floatData[0]:0;return(0,a.createAttributeWithCacheKey)({mode:v,pads:w,value:T})},d=(b,y,v)=>{const w=l.ShapeUtil.padShape(y.dims.slice(),v.pads),T=w.length,_=`
      ${e(b,y,v)}
      float process(int[${T}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[u.TextureType.unpacked],output:{dims:w,type:y.type,textureType:u.TextureType.unpacked},shaderSource:_}},c=b=>{if(!b||b.length!==1)throw new Error("Pad requires 1 input");if(b[0].type!=="float32"&&b[0].type!=="float64")throw new Error("Invalid input type.")},t=b=>{if(!b||b.length!==2&&b.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(b[1].type!=="int32")throw new Error("Invalid input type.");if(b.length>=3&&b[2].type==="string")throw new Error("Invalid input type.")},e=(b,y,v)=>{const w=(0,f.getGlsl)(b.session.backend.glContext.version),[T,_]=b.calculateTextureWidthAndHeight(y.dims,u.TextureType.unpacked),x=l.ShapeUtil.computeStrides(y.dims);switch(v.mode){case"constant":return i(w,y.dims,x,T,_,v.pads,v.value);case"reflect":return s(w,y.dims,x,T,_,v.pads);case"edge":return m(w,y.dims,x,T,_,v.pads);default:throw new Error("Invalid mode")}},i=(b,y,v,w,T,_,x)=>{const A=y.length;let $="";for(let S=A-1;S>=0;--S)$+=`
        k = m[${S}] - ${_[S]};
        if (k < 0)  return constant;
        if (k >= ${y[S]}) return constant;
        offset += k * ${v[S]};
        `;return`
      float padA(int m[${A}]) {
        const float constant = float(${x});
        int offset = 0;
        int k = 0;
        ${$}
        vec2 coords = offsetToCoords(offset, ${w}, ${T});
        float value = getColorAsFloat(${b.texture2D}(A, coords));
        return value;
      }
      `},s=(b,y,v,w,T,_)=>{const x=y.length;let A="";for(let $=x-1;$>=0;--$)A+=`
        k = m[${$}] - ${_[$]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(y[$]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${y[$]}) { k = _2n_1 - k; }
        }
        offset += k * ${v[$]};
        `;return`
      float padA(int m[${x}]) {
        int offset = 0;
        int k = 0;
        ${A}
        vec2 coords = offsetToCoords(offset, ${w}, ${T});
        float value = getColorAsFloat(${b.texture2D}(A, coords));
        return value;
      }
      `},m=(b,y,v,w,T,_)=>{const x=y.length;let A="";for(let $=x-1;$>=0;--$)A+=`
        k = m[${$}] - ${_[$]};
        if (k < 0)  k = 0;
        if (k >= ${y[$]}) k = ${y[$]-1};
        offset += k * ${v[$]};
      `;return`
      float padA(int m[${x}]) {
        int offset = 0;
        int k = 0;
        ${A}
        vec2 coords = offsetToCoords(offset, ${w}, ${T});
        float value = getColorAsFloat(${b.texture2D}(A, coords));
        return value;
      }
      `}},2143:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.globalMaxPool=n.parseMaxPoolAttributes=n.maxPool=n.parseGlobalAveragePoolAttributes=n.globalAveragePool=n.parseAveragePoolAttributes=n.averagePool=void 0;const a=o(246),l=o(2517),f=o(2039);n.averagePool=(m,b,y)=>{t(b);const v={name:"AveragePool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:y.cacheKey};return[m.run(Object.assign(Object.assign({},v),{get:()=>u(b,v,!1,y)}),b)]},n.parseAveragePoolAttributes=m=>{const b=m.attributes.getString("auto_pad","NOTSET"),y=m.attributes.getInt("ceil_mode",0),v=m.attributes.getInt("count_include_pad",0)!==0,w=m.attributes.getInts("kernel_shape"),T=m.attributes.getInts("strides",[]),_=m.attributes.getInts("pads",[]);if(y!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,a.createAttributeWithCacheKey)({autoPad:b,ceilMode:y,countIncludePad:v,kernelShape:w,strides:T,pads:_})};const u=(m,b,y,v)=>{const[w,T]=g(m,v,y),_=l.ShapeUtil.size(w.kernelShape);let x="";w.countIncludePad?x+=`value /= float(${_});`:x+=`value /= float(${_} - pad);`;const A=`
        ${e(m[0].dims,w,"value += _X(x);",x,"0.0")}
      `;return Object.assign(Object.assign({},b),{output:{dims:T,type:m[0].type,textureType:f.TextureType.unpacked},shaderSource:A})};n.globalAveragePool=(m,b,y)=>{t(b);const v={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:`${y.countIncludePad}`};return[m.run(Object.assign(Object.assign({},v),{get:()=>u(b,v,!0,y)}),b)]},n.parseGlobalAveragePoolAttributes=m=>{const b=m.attributes.getInt("count_include_pad",0)!==0;return(0,a.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:b,kernelShape:[],strides:[],pads:[]})},n.maxPool=(m,b,y)=>{t(b);const v={name:"MaxPool",inputNames:["X"],inputTypes:[f.TextureType.unpacked],cacheHint:y.cacheKey};return[m.run(Object.assign(Object.assign({},v),{get:()=>p(b,v,!1,y)}),b)]},n.parseMaxPoolAttributes=m=>{const b=m.attributes.getString("auto_pad","NOTSET"),y=m.attributes.getInt("ceil_mode",0),v=m.attributes.getInts("kernel_shape"),w=m.attributes.getInts("strides",[]),T=m.attributes.getInts("pads",[]),_=m.attributes.getInt("storage_order",0),x=m.attributes.getInts("dilations",[]);if(_!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(y!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,a.createAttributeWithCacheKey)({autoPad:b,ceilMode:y,countIncludePad:!1,kernelShape:v,strides:w,pads:T,storageOrder:_,dilations:x})};const p=(m,b,y,v)=>{const[w,T]=g(m,v,y),_=`
      ${e(m[0].dims,w,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},b),{output:{dims:T,type:m[0].type,textureType:f.TextureType.unpacked},shaderSource:_})},g=(m,b,y)=>{const v=m[0].dims.slice(),w=Object.hasOwnProperty.call(b,"dilations"),T=b.kernelShape.slice(),_=b.strides.slice(),x=w?b.dilations.slice():[],A=b.pads.slice();l.PoolConvUtil.adjustPoolAttributes(y,v,T,_,x,A);const $=l.PoolConvUtil.computePoolOutputShape(y,v,_,x,T,A,b.autoPad),S=Object.assign({},b);return w?Object.assign(S,{kernelShape:T,strides:_,pads:A,dilations:x,cacheKey:b.cacheKey}):Object.assign(S,{kernelShape:T,strides:_,pads:A,cacheKey:b.cacheKey}),[S,$]},d={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},c={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[f.TextureType.unpacked]};n.globalMaxPool=(m,b)=>(t(b),[m.run(Object.assign(Object.assign({},c),{get:()=>p(b,c,!0,d)}),b)]);const t=m=>{if(!m||m.length!==1)throw new Error("Pool ops requires 1 input.");if(m[0].type!=="float32"&&m[0].type!=="float64")throw new Error("Invalid input type.")},e=(m,b,y,v,w)=>{const T=m.length;if(b.kernelShape.length<=2){const _=b.kernelShape[b.kernelShape.length-1],x=b.strides[b.strides.length-1],A=b.pads[b.pads.length/2-1],$=b.pads[b.pads.length-1],S=m[T-1];let k="",V="",oe="";if(k=A+$!==0?`
          for (int i = 0; i < ${_}; i++) {
            x[${T} - 1] = indices[${T} - 1] * ${x} - ${A} + i;
            if (x[${T} - 1] < 0 || x[${T} - 1] >= ${S}) {
              pad++;
              continue;
            }
            ${y}
          }`:`
          for (int i = 0; i < ${_}; i++) {
            x[${T} - 1] = indices[${T} - 1] * ${x} - ${A} + i;
            ${y}
          }`,b.kernelShape.length===2){const Y=b.kernelShape[b.kernelShape.length-2],ie=b.strides[b.strides.length-2],z=b.pads[b.pads.length/2-2],M=b.pads[b.pads.length-2],re=m[T-2];V=z+M!==0?`
            for (int j = 0; j < ${Y}; j++) {
              x[${T} - 2] = indices[${T} - 2] * ${ie} - ${z} + j;
              if (x[${T} - 2] < 0 || x[${T} - 2] >= ${re}) {
                pad+= ${_};
                continue;
              }
          `:`
            for (int j = 0; j < ${Y}; j++) {
              x[${T} - 2] = indices[${T} - 2] * ${ie} - ${z} + j;
            `,oe=`
          }
        `}return`
        float process(int indices[${T}]) {
          int x[${T}];
          copyVec(indices, x);

          float value = ${w};
          int pad = 0;
          ${V}
          ${k}
          ${oe}
          ${v}
          return value;
        }
      `}{const _=l.ShapeUtil.size(b.kernelShape),x=l.ShapeUtil.computeStrides(b.kernelShape),A=x.length,$=b.pads.length,S=s(A),k=i(m,"inputDims"),V=i(b.pads,"pads"),oe=i(x,"kernelStrides"),Y=i(b.strides,"strides");let ie="";return ie=b.pads.reduce((z,M)=>z+M)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${y}
          }`:`
          }
          ${y}
        `,`
        ${S}
        float process(int indices[${T}]) {
          int x[${T}];
          copyVec(indices, x);
          int offset[${A}];
          int pads[${$}];
          int inputDims[${T}];
          int kernelStrides[${A}];
          int strides[${A}];
          ${V}
          ${k}
          ${Y}
          ${oe}

          float value = ${w};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${_}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${T} - ${A}; j < ${T}; j++) {
              x[j] = indices[j] * strides[j - ${T} + ${A}]
                + offset[j - ${T} + ${A}] - pads[j - 2];
              ${ie}
          }
          ${v}

          return value;
        }
      `}},i=(m,b)=>{let y="";for(let v=0;v<m.length;v++)y+=`
      ${b}[${v}] = ${m[v]};
    `;return y},s=m=>`
  void offsetToIndices(int offset, int[${m}] strides, out int[${m}] indices) {
    if (${m} == 0) {
      return;
    }
    for (int i = 0; i < ${m} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${m} - 1] = offset;
  }`},4939:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reduceLogSumSquare=n.reduceLogSum=n.reduceProd=n.reduceMin=n.reduceMax=n.reduceMean=n.reduceSum=n.parseReduceAttributes=void 0;const a=o(246),l=o(782),f=o(2517),u=o(2039),p=(c,t,e,i,s)=>{d(t);const m={name:i,inputNames:["A"],inputTypes:[u.TextureType.unpacked]};return[c.run(Object.assign(Object.assign({},m),{cacheHint:e.cacheKey,get:()=>g(c,t,e,i,s,m)}),t)]};n.parseReduceAttributes=c=>{const t=c.attributes.getInts("axes",[]),e=c.attributes.getInt("keepdims",1)===1;return(0,a.createAttributeWithCacheKey)({axes:t,keepDims:e})};const g=(c,t,e,i,s,m)=>{const b=[],y=t[0].dims.length||1,v=[],w=f.ShapeUtil.normalizeAxes(e.axes,t[0].dims.length),T=s(t,w);let _=T[1];for(let A=0;A<t[0].dims.length;A++)w.indexOf(A)>=0||w.length===0?(e.keepDims&&b.push(1),_=`
          for(int j${A} = 0; j${A} < ${t[0].dims[A]}; j${A}++) {
            inputIdx[${A}] = j${A};
            ${_}
          }`):(v.push(`inputIdx[${A}] = outputIdx[${b.length}];`),b.push(t[0].dims[A]));const x=`
      float process(int outputIdx[${b.length||1}]) {
        float value;                 // final result
        int inputIdx[${y}];      // addressing input data
        ${v.join(`
`)}
        ${T[0]}       // init ops for reduce max/min
        ${_}
        ${T[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},m),{output:{dims:b,type:t[0].type,textureType:u.TextureType.unpacked},shaderSource:x})},d=c=>{if(!c||c.length!==1)throw new Error("Reduce op requires 1 input.");if(l.NUMBER_TYPES.indexOf(c[0].type)===-1)throw new Error("Invalid input type.")};n.reduceSum=(c,t,e)=>p(c,t,e,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),n.reduceMean=(c,t,e)=>p(c,t,e,"ReduceMean",(i,s)=>{let m=1;for(let b=0;b<i[0].dims.length;b++)(s.indexOf(b)>=0||s.length===0)&&(m*=i[0].dims[b]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${m}.;`]}),n.reduceMax=(c,t,e)=>p(c,t,e,"ReduceMax",(i,s)=>{const m=[];for(let b=0;b<i[0].dims.length;b++)(s.indexOf(b)>=0||s.length===0)&&m.push(`inputIdx[${b}] = 0;`);return[`${m.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),n.reduceMin=(c,t,e)=>p(c,t,e,"ReduceMin",(i,s)=>{const m=[];for(let b=0;b<i[0].dims.length;b++)(s.indexOf(b)>=0||s.length===0)&&m.push(`inputIdx[${b}] = 0;`);return[`${m.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),n.reduceProd=(c,t,e)=>p(c,t,e,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),n.reduceLogSum=(c,t,e)=>p(c,t,e,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),n.reduceLogSumSquare=(c,t,e)=>p(c,t,e,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isReshapeCheap=n.processDims3D=n.createPackedReshape3DProgramInfoLoader=void 0;const a=o(2517),l=o(5060),f=o(2039),u=o(2827);n.createPackedReshape3DProgramInfoLoader=(p,g,d)=>{const c=(t=>({name:"Reshape (packed)",inputTypes:[f.TextureType.packed],inputNames:["A"],cacheHint:`${t}`}))(d);return Object.assign(Object.assign({},c),{get:()=>((t,e,i,s)=>{const m=e.dims,b=s;let y="";for(let T=0;T<4;T++){let _="";switch(T){case 0:_="outputCoords = rc;";break;case 1:_="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:_="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:_="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}y+=`
        ${_}
        ${T>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${T}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${T>0?"}":""}
      `}const v=(0,l.getGlsl)(t.session.backend.glContext.version),w=`
      ${function(T){const _=a.ShapeUtil.computeStrides(T),x=["b","r","c"],A="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${_.map(($,S)=>`int ${x[S]} = ${A} / ${$}; ${S===_.length-1?`int ${x[S+1]} = ${A} - ${x[S]} * ${$}`:`index -= ${x[S]} * ${$}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(m)}
      ${function(T){const _=a.ShapeUtil.computeStrides(T);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${_[0]} + coords.z * ${_[1]} + coords.y;
  }
`}(b)}
      ${(0,u.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${b[2]};
        int cols = ${b[1]};

        ${y}
        ${v.output} = result;
      }
    `;return Object.assign(Object.assign({},i),{output:{dims:b,type:e.type,textureType:f.TextureType.packed},shaderSource:w,hasMain:!0})})(p,g,c,d)})},n.processDims3D=function(p){if(p.length===0)return[1,1,1];let g=1;for(let d=0;d<p.length-2;++d)g*=p[d];return[g,p.length>1?p[p.length-2]:1,p[p.length-1]]},n.isReshapeCheap=function(p,g){let d=!1;return d=p.length===0||g.length===0||(p.length<2||g.length<2?p[p.length-1]===g[g.length-1]:p[p.length-1]===g[g.length-1]&&p[p.length-2]===g[g.length-2]),d}},718:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reshape=void 0;const a=o(2517);n.reshape=(l,f)=>{const u=a.ShapeUtil.calculateReshapedDims(f[0].dims,f[1].integerData);return l.session.pack?[l.reshapePacked(f[0],u)]:[l.reshapeUnpacked(f[0],u)]}},2268:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseResizeAttributesV11=n.parseResizeAttributesV10=n.resize=void 0;const a=o(5060),l=o(2039),f=o(9390),u=o(2827),p=o(9793),g={name:"Resize",inputNames:["A"],inputTypes:[l.TextureType.packed]};n.resize=(i,s,m)=>((0,p.validateInputs)(s,m),[i.run(Object.assign(Object.assign({},g),{cacheHint:m.cacheKey,get:()=>d(i,s,m)}),s)]),n.parseResizeAttributesV10=i=>(0,p.parseUpsampleAttributes)(i,10),n.parseResizeAttributesV11=i=>(0,p.parseUpsampleAttributes)(i,11);const d=(i,s,m)=>{const b=(0,a.getGlsl)(i.session.backend.glContext.version),[y,v]=c(s,m);if(y.every(ie=>ie===1)&&m.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},g),{output:{dims:v,type:s[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${b.texture2D}(X, TexCoords);
                    ${b.output} = v;
                }`});const w=v.length;if(w<2)throw new Error(`output dimension should be at least 2, but got ${w}`);const T=v[w-2],_=v[w-1],x=s[0].dims;if(w!==x.length)throw new Error(`output dimension should match input ${x.length}, but got ${w}`);const A=x[w-2],$=x[w-1],S=y[w-2],k=y[w-1];let V="";if(m.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${m.mode}'`);switch(m.coordinateTransformMode){case"asymmetric":V=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":V=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":V=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${_}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${T}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${_}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${T}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":V=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${_}.0 - 1.0, ${T}.0 - 1.0, ${_}.0 - 1.0,
                            ${T}.0 - 1.0);
                        vec4 original = vec4(${$}.0 - 1.0, ${A}.0 - 1.0, ${$}.0 - 1.0,
                            ${A}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${m.coordinateTransformMode}'`)}const oe=(0,f.getCoordsDataType)(w),Y=`
            const vec2 inputWH = vec2(${A}.0, ${$}.0);
            const vec4 scaleWHWH = vec4(float(${S}), float(${k}), float(${S}), float(${k}));
            ${(0,u.unpackFromChannel)()}
            ${V}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${oe} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${T-1};
                bool hasNextCol = rc.z < ${_-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${b.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},g),{output:{dims:v,type:s[0].type,textureType:l.TextureType.packed},hasMain:!0,shaderSource:Y})},c=(i,s)=>{const m=i[0].dims;let b,y=s.scales;if(y.length===0){const w=i[s.scalesInputIdx];if(w&&w.size!==0){if(i[s.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");y=t(w,s.mode,s.isResize)}else{const T=i[s.sizesInputIdx];if(!T||T.size===0)throw new Error("Either scales or sizes MUST be provided as input.");b=Array.from(T.integerData),y=e(b,m,s.mode,s.isResize)}}else if(i[s.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const v=b||m.map((w,T)=>Math.floor(w*y[T]));return[y,v]},t=(i,s,m)=>{const b=Array.from(i.floatData);return(0,p.scalesValidation)(b,s,m),b},e=(i,s,m,b)=>{const y=s.length,v=new Array(y);for(let w=0,T=y;w<T;w++)if(s[w]===0){if(i[w]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");v[w]=1}else v[w]=i[w]/s[w];return(0,p.scalesValidation)(v,m,b),v}},8117:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.shape=void 0;const a=o(9162);n.shape=(f,u)=>(l(u),[new a.Tensor([u[0].dims.length],"int32",void 0,void 0,new Int32Array(u[0].dims))]);const l=f=>{if(!f||f.length!==1)throw new Error("Shape requires 1 input.")}},2278:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sliceV10=n.parseSliceAttributes=n.slice=void 0;const a=o(246),l=o(782),f=o(2517),u=o(2039),p={name:"Slice",inputNames:["A"],inputTypes:[u.TextureType.unpacked]};n.slice=(e,i,s)=>(d(i),[e.run(Object.assign(Object.assign({},p),{cacheHint:s.cacheKey,get:()=>g(e,i[0],s)}),i)]),n.parseSliceAttributes=e=>{const i=e.attributes.getInts("starts"),s=e.attributes.getInts("ends"),m=e.attributes.getInts("axes",[]);return(0,a.createAttributeWithCacheKey)({starts:i,ends:s,axes:m})};const g=(e,i,s)=>{const m=s.axes.length===0?i.dims.slice(0).map((x,A)=>A):s.axes,b=f.ShapeUtil.normalizeAxes(m,i.dims.length),y=s.starts.map((x,A)=>x>i.dims[b[A]]-1?i.dims[b[A]]:f.ShapeUtil.normalizeAxis(x,i.dims[b[A]])),v=s.ends.map((x,A)=>x>i.dims[b[A]]-1?i.dims[b[A]]:f.ShapeUtil.normalizeAxis(x,i.dims[b[A]])),w=i.dims.slice(),T=[];for(let x=0;x<b.length;x++)w[b[x]]=v[x]-y[x],y[x]>0&&T.push(`outputIdx[${b[x]}] += ${y[x]};`);const _=`
      float process(int outputIdx[${w.length}]) {
        ${T.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},p),{output:{dims:w,type:i.type,textureType:u.TextureType.unpacked},shaderSource:_})},d=e=>{if(!e||e.length!==1)throw new Error("Slice requires 1 input.");if(l.NUMBER_TYPES.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")};n.sliceV10=(e,i)=>{t(i);const s=c(e,i);return[e.run(Object.assign(Object.assign({},p),{cacheHint:s.cacheKey,get:()=>g(e,i[0],s)}),[i[0]])]};const c=(e,i)=>{if(!e.session.isInitializer(i[1].dataId)||!e.session.isInitializer(i[2].dataId)||i.length>=4&&!e.session.isInitializer(i[3].dataId)||i.length>=5&&!e.session.isInitializer(i[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(i.length>=5&&i[4].integerData.some(y=>y!==1))throw new Error("currently non-1 steps is not supported for Slice");const s=Array.from(i[1].integerData),m=Array.from(i[2].integerData),b=i.length>=4?Array.from(i[3].integerData):[];return{starts:s,ends:m,axes:b,cacheKey:`${b};${s};${m}`}},t=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if(e[1].type!=="int32"||e[1].dims.length!==1)throw new Error("Invalid input type.");if(e[2].type!=="int32"||e[2].dims.length!==1)throw new Error("Invalid input type.");if(e.length>=4&&(e[3].type!=="int32"||e[3].dims.length!==1))throw new Error("Invalid input type.");if(e.length>=5&&(e[4].type!=="int32"||e[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.softmaxV13=n.parseSoftmaxAttributesV13=n.parseSoftmaxAttributes=n.softmax=void 0;const a=o(246),l=o(2517),f=o(5060),u=o(2039),p=o(3738),g={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[u.TextureType.unpacked]},d={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[u.TextureType.unpacked,u.TextureType.unpacked]},c={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[u.TextureType.unpacked,u.TextureType.unpacked,u.TextureType.unpacked]};n.softmax=(b,y,v)=>{m(y);const w=y[0].dims.slice(),T=l.ShapeUtil.normalizeAxis(v.axis,w.length),_=l.ShapeUtil.sizeToDimension(w,T),x=l.ShapeUtil.sizeFromDimension(w,T);return t(b,y,v,_,x)},n.parseSoftmaxAttributes=b=>(0,a.createAttributeWithCacheKey)({axis:b.attributes.getInt("axis",1)}),n.parseSoftmaxAttributesV13=b=>(0,a.createAttributeWithCacheKey)({axis:b.attributes.getInt("axis",-1)}),n.softmaxV13=(b,y,v)=>{m(y);const w=y[0].dims.slice(),T=l.ShapeUtil.normalizeAxis(v.axis,w.length),_=w.length,x=T!==_-1,A=[];let $,S=[],k=[];x&&(S=Array.from({length:_}).map((ie,z)=>z),S[T]=_-1,S[_-1]=T,S.map(ie=>A.push(w[ie])),$=(0,a.createAttributeWithCacheKey)({perm:S}),k=(0,p.transpose)(b,y,$));const V=x?l.ShapeUtil.sizeToDimension(A,_-1):l.ShapeUtil.sizeToDimension(w,_-1),oe=x?l.ShapeUtil.sizeFromDimension(A,_-1):l.ShapeUtil.sizeFromDimension(w,_-1),Y=t(b,x?k:y,v,V,oe);return x?(0,p.transpose)(b,Y,$):Y};const t=(b,y,v,w,T)=>{const _=e(b,y[0],w,T,[w]),x=b.run(Object.assign(Object.assign({},g),{cacheHint:v.cacheKey,get:()=>_}),y),A=i(b,y[0],w,T,_.output.dims,[w]),$=b.run(Object.assign(Object.assign({},d),{cacheHint:v.cacheKey,get:()=>A}),[y[0],x]),S=s(b,y[0],w,T,_.output.dims,A.output.dims);return[b.run(Object.assign(Object.assign({},c),{cacheHint:v.cacheKey,get:()=>S}),[y[0],x,$])]},e=(b,y,v,w,T)=>{const[_,x]=b.calculateTextureWidthAndHeight(y.dims,u.TextureType.unpacked),A=T.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(T.length!==1)throw new Error("Dimensionality of the output should be 1");if(T[0]!==v)throw new Error("Shape of the output should be equal to logical row count");const $=(0,f.getGlsl)(b.session.backend.glContext.version),S=`
      float process(int[${A}] indices) {
        int logical_row_start_offset = indices[0] * ${w};

        float max = getColorAsFloat(${$.texture2D}(A, offsetToCoords(logical_row_start_offset, ${_},
        ${x} )));
        for(int i=1; i<${w}; ++i)
        {
          float current = getColorAsFloat(${$.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${_}, ${x})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},g),{output:{dims:T,type:y.type,textureType:u.TextureType.unpacked},shaderSource:S})},i=(b,y,v,w,T,_)=>{const[x,A]=b.calculateTextureWidthAndHeight(y.dims,u.TextureType.unpacked),$=_.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(_.length!==1)throw new Error("Dimensionality of the output should be 1");if(_[0]!==v)throw new Error("Shape of the output should be equal to logical row count");if(T.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(T[0]!==v)throw new Error("Shape of the intermediate results should be equal to logical row count");const S=`
      float process(int[${$}] indices) {
        int logical_row_start_offset = indices[0] * ${w};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${w}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,f.getGlsl)(b.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${x}, ${A}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},d),{output:{dims:_,type:y.type,textureType:u.TextureType.unpacked},shaderSource:S})},s=(b,y,v,w,T,_)=>{const[x,A]=b.calculateTextureWidthAndHeight(y.dims,u.TextureType.unpacked),$=y.dims.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(T.length!==1||_.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(T[0]!==v||_[0]!==v)throw new Error("Shape of the intermediate results should be equal to logical row count");const S=`
      float process(int[${$}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${x}, ${A});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${w};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},c),{output:{dims:y.dims,type:y.type,textureType:u.TextureType.unpacked},shaderSource:S})},m=b=>{if(!b||b.length!==1)throw new Error("Softmax requires 1 input.");if(b[0].type!=="float32"&&b[0].type!=="float64")throw new Error("Invalid input type")}},5975:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSplitAttributes=n.split=void 0;const a=o(246),l=o(2517),f=o(2039),u={name:"Split",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};n.split=(c,t,e)=>{d(t);const i=l.ShapeUtil.normalizeAxis(e.axis,t[0].dims.length),s=p(c,t,i,e),m=[];for(let b=0;b<s;++b)m.push(c.run(Object.assign(Object.assign({},u),{cacheHint:`${e.cacheKey};${b}`,get:()=>g(c,t[0],e,i,b)}),t));return m},n.parseSplitAttributes=c=>{const t=c.attributes.getInt("axis",0),e=c.attributes.getInts("split",[]),i=c.outputs.length;return(0,a.createAttributeWithCacheKey)({axis:t,split:e,numOutputs:i})};const p=(c,t,e,i)=>{const[,s]=l.SplitUtil.splitShape(t[0].dims,e,i.split,i.numOutputs);return s.length},g=(c,t,e,i,s)=>{const[m,b]=l.SplitUtil.splitShape(t.dims,i,e.split,e.numOutputs),y=b[s],v=m[s],w=`
      float process(int indices[${v.length}]) {
        indices[${i}] += ${y};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},u),{cacheHint:`${e.cacheKey}:${s}`,output:{dims:v,type:t.type,textureType:f.TextureType.unpacked},shaderSource:w})},d=c=>{if(!c||c.length!==1)throw new Error("Split requires one input.");if(c[0].type!=="int8"&&c[0].type!=="uint8"&&c[0].type!=="int16"&&c[0].type!=="uint16"&&c[0].type!=="int32"&&c[0].type!=="uint32"&&c[0].type!=="float32"&&c[0].type!=="float64"&&c[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSqueezeAttributes=n.squeezeV13=n.squeeze=void 0;const a=o(2517);n.squeeze=(u,p,g)=>{l(p);const d=a.ShapeUtil.squeezeShape(p[0].dims,g);return[u.reshapeUnpacked(p[0],d)]},n.squeezeV13=(u,p)=>(f(p),(0,n.squeeze)(u,[p[0]],Array.from(p[1].integerData))),n.parseSqueezeAttributes=u=>u.attributes.getInts("axes");const l=u=>{if(!u||u.length!==1)throw new Error("Squeeze requires 1 input.");if(u[0].type==="string")throw new Error("invalid input tensor types.")},f=u=>{if(!u||u.length!==2)throw new Error("Squeeze requires 2 inputs.");if(u[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sum=void 0;const a=o(5060),l=o(2039);n.sum=(p,g)=>{u(g);const d={name:"Sum",inputNames:g.map((c,t)=>`X${t}`),inputTypes:new Array(g.length).fill(l.TextureType.unpacked)};return[p.run(Object.assign(Object.assign({},d),{get:()=>f(p,g,d)}),g)]};const f=(p,g,d)=>{const c=(0,a.getGlsl)(p.session.backend.glContext.version),t=g[0].dims.slice(),e=`
      void main() {
        vec4 result = ${g.map((i,s)=>`${c.texture2D}(X${s},TexCoords)`).join(" + ")};
        ${c.output} = result;
      }
    `;return Object.assign(Object.assign({},d),{output:{dims:t,type:g[0].type,textureType:l.TextureType.unpacked},hasMain:!0,shaderSource:e})},u=p=>{if(!p||p.length===0)throw new Error("Sum requires inputs.");const g=p[0].dims.length;for(let d=1;d<p.length;d++){if(g!==p[d].dims.length)throw new Error("Input shapes are mismatched.");for(let c=0;c<g;c++)if(p[0].dims[c]!==p[d].dims[c])throw new Error("Input shapes are not matched.")}if(p[0].type!=="float32"&&p[0].type!=="float64")throw new Error("Invalid input type.");for(let d=1;d<p.length;d++)if(p[0].type!==p[d].type)throw new Error("Input types are not matched.")}},5723:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tile=void 0;const a=o(782),l=o(2039);n.tile=(p,g)=>{u(g);const d={name:"Tile",inputNames:["A"],inputTypes:[l.TextureType.unpacked]};return[p.run(Object.assign(Object.assign({},d),{get:()=>f(p,g,d)}),g)]};const f=(p,g,d)=>{const c=g[0].dims.slice(),t=new Array(c.length),e=[];for(let m=0;m<c.length;m++)t[m]=c[m]*g[1].numberData[m],e.push(`inputIdx[${m}] = int(mod(float(outputIdx[${m}]), ${c[m]}.));`);const i=t.length,s=`
      float process(int outputIdx[${i}]) {
        int inputIdx[${i}];
        ${e.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},d),{output:{dims:t,type:g[0].type,textureType:l.TextureType.unpacked},shaderSource:s})},u=p=>{if(!p||p.length!==2)throw new Error("Tile requires 2 input.");if(p[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(p[1].dims[0]!==p[0].dims.length)throw new Error("Invalid input shape.");if(a.NUMBER_TYPES.indexOf(p[0].type)===-1)throw new Error("Invalid input type.");if(p[1].type!=="int32"&&p[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseTransposeAttributes=n.transpose=void 0;const a=o(246),l=o(2517),f=o(2039),u={name:"Transpose",inputNames:["A"],inputTypes:[f.TextureType.unpacked]};n.transpose=(e,i,s)=>(t(i),[e.run(Object.assign(Object.assign({},u),{cacheHint:s.cacheKey,get:()=>p(e,i[0],s.perm)}),i)]),n.parseTransposeAttributes=e=>(0,a.createAttributeWithCacheKey)({perm:e.attributes.getInts("perm",[])});const p=(e,i,s)=>{const m=i.dims;s=g(m,s);const b=d(m,s),y=m.length,v=`
      ${c("perm",s,y)}
      float process(int indices[${y}]) {
        int a[${y}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},u),{output:{dims:b,type:i.type,textureType:f.TextureType.unpacked},shaderSource:v})},g=(e,i)=>(i&&i.length!==e.length&&(i=[...e.keys()].reverse()),i),d=(e,i)=>(i=g(e,i),l.ShapeUtil.sortBasedOnPerm(e,i)),c=(e,i,s)=>{const m=[];m.push(`void ${e}(out int a[${s}], int src[${s}]) {`);for(let b=0;b<s;++b)m.push(`	a[${i[b]}]=src[${b}];`);return m.push("	}"),m.join(`
`)},t=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.encodeAsUint8=void 0;const a=o(5060),l=o(2039);n.encodeAsUint8=(f,u)=>{const p=u.shape,g=(0,a.getGlsl)(f.session.backend.glContext.version),d=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${g.texture2D}(X,TexCoords).r;
      ${g.output} = encodeAsUint8(value);
    }`,c={name:"Uint8Encode",inputTypes:[l.TextureType.unpacked],inputNames:["X"],output:{dims:p,type:u.tensor.type,textureType:l.TextureType.downloadUint8AsFloat},shaderSource:d,hasMain:!0};return f.executeProgram(c,[u.tensor])}},4909:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tanh=n.tan=n.sqrt=n.sin=n.sigmoid=n.relu=n.not=n.neg=n.log=n.parseLeakyReluAttributes=n.leakyRelu=n.identity=n.floor=n.exp=n.parseEluAttributes=n.elu=n.cos=n.ceil=n.clipV11=n.parseClipAttributes=n.clip=n.atan=n.asin=n.acos=n.abs=n.glslTanh=n.glslTan=n.glslSqrt=n.glslSigmoid=n.glslRelu=n.glslSin=n.glslNot=n.glslNeg=n.glslLog=n.glslLeakyRelu=n.glslIdentity=n.glslClip=n.glslFloor=n.glslExp=n.glslElu=n.glslCos=n.glslCeil=n.glslAtan=n.glslAsin=n.glslAcos=n.glslAbs=void 0;const a=o(246),l=o(2517),f=o(8520),u=o(5060),p=o(2039);function g(){return Y("abs")}function d(){return Y("acos")}function c(){return Y("asin")}function t(){return Y("atan")}function e(){return Y("ceil")}function i(){return Y("cos")}function s(M){const re="elu";return{body:`
  const float alpha = float(${M});

  float ${re}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${re}_(vec4 v) {
    return vec4(${re}_(v.x), ${re}_(v.y), ${re}_(v.z), ${re}_(v.w));
  }
  `,name:re,type:f.FunctionType.ValueBased}}function m(){return Y("exp")}function b(){return Y("floor")}function y(M,re){const Ne="clip";return{body:`
  const float min = float(${M});
  const float max = float(${re});

  float ${Ne}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Ne}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Ne,type:f.FunctionType.ValueBased}}function v(){const M="indentity";return{body:`
  float ${M}_(float a) {
    return a;
  }
  vec4 ${M}_(vec4 v) {
    return v;
  }
  `,name:M,type:f.FunctionType.ValueBased}}function w(M){const re="leakyRelu";return{body:`
  const float alpha = float(${M});

  float ${re}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${re}_(vec4 v) {
    return vec4(${re}_(v.x), ${re}_(v.y), ${re}_(v.z), ${re}_(v.w));
  }
  `,name:re,type:f.FunctionType.ValueBased}}function T(){return Y("log")}function _(){const M="neg";return{body:`
  float ${M}_(float a) {
    return -a;
  }
  vec4 ${M}_(vec4 v) {
    return -v;
  }
  `,name:M,type:f.FunctionType.ValueBased}}function x(){const M="not";return{body:`
  float ${M}_(float a) {
    return float( ! bool(a) );
  }
  bool ${M}_(bool a) {
    return !a;
  }
  vec4 ${M}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${M}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:M,type:f.FunctionType.ValueBased}}function A(){return Y("sin")}function $(){const M="relu";return{body:`
  float ${M}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${M}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:M,type:f.FunctionType.ValueBased}}function S(){const M="sigmoid";return{body:`
  float ${M}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${M}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:M,type:f.FunctionType.ValueBased}}function k(){return Y("sqrt")}function V(){return Y("tan")}function oe(){const M="tanh";return{body:`
  float ${M}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${M}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:M,type:f.FunctionType.ValueBased}}function Y(M){return{body:`
  float ${M}_(float a) {
    return ${M}(a);
  }
  vec4 ${M}_(vec4 v) {
    return ${M}(v);
  }
  `,name:M,type:f.FunctionType.ValueBased}}n.glslAbs=g,n.glslAcos=d,n.glslAsin=c,n.glslAtan=t,n.glslCeil=e,n.glslCos=i,n.glslElu=s,n.glslExp=m,n.glslFloor=b,n.glslClip=y,n.glslIdentity=v,n.glslLeakyRelu=w,n.glslLog=T,n.glslNeg=_,n.glslNot=x,n.glslSin=A,n.glslRelu=$,n.glslSigmoid=S,n.glslSqrt=k,n.glslTan=V,n.glslTanh=oe;const ie=(M,re,Ne,pe)=>{const Ve=M.session.pack?p.TextureType.packed:p.TextureType.unpacked,Et={name:Ne.name,inputTypes:[Ve],inputNames:["A"],cacheHint:pe};return Object.assign(Object.assign({},Et),{get:()=>((Fe,Dt,_n,At)=>{const Pn=Fe.session.pack?p.TextureType.packed:p.TextureType.unpacked,Ue=(0,u.getGlsl)(Fe.session.backend.glContext.version);return Object.assign(Object.assign({},Dt),{output:{dims:_n.dims,type:_n.type,textureType:Pn},shaderSource:`
     ${At.body}
     void main() {
       vec4 v = ${Ue.texture2D}(A, TexCoords);
       v = ${At.name}_(v);
       ${Ue.output} = v;
     }
     `,hasMain:!0})})(M,Et,re,Ne)})};n.abs=(M,re)=>[M.run(ie(M,re[0],g()),re)],n.acos=(M,re)=>[M.run(ie(M,re[0],d()),re)],n.asin=(M,re)=>[M.run(ie(M,re[0],c()),re)],n.atan=(M,re)=>[M.run(ie(M,re[0],t()),re)],n.clip=(M,re,Ne)=>[M.run(ie(M,re[0],y(Ne.min,Ne.max),Ne.cacheKey),re)],n.parseClipAttributes=M=>(0,a.createAttributeWithCacheKey)({min:M.attributes.getFloat("min",l.MIN_CLIP),max:M.attributes.getFloat("max",l.MAX_CLIP)}),n.clipV11=(M,re)=>{const Ne=z(M,re);return(0,n.clip)(M,[re[0]],Ne)};const z=(M,re)=>{if(re.length>=3&&(!M.session.isInitializer(re[1].dataId)||!M.session.isInitializer(re[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Ne=re.length>=3?re[1].numberData[0]:l.MIN_CLIP,pe=re.length>=3?re[2].numberData[0]:l.MAX_CLIP;return(0,a.createAttributeWithCacheKey)({min:Ne,max:pe})};n.ceil=(M,re)=>[M.run(ie(M,re[0],e()),re)],n.cos=(M,re)=>[M.run(ie(M,re[0],i()),re)],n.elu=(M,re,Ne)=>[M.run(ie(M,re[0],s(Ne.alpha),Ne.cacheKey),re)],n.parseEluAttributes=M=>(0,a.createAttributeWithCacheKey)({alpha:M.attributes.getFloat("alpha",1)}),n.exp=(M,re)=>[M.run(ie(M,re[0],m()),re)],n.floor=(M,re)=>[M.run(ie(M,re[0],b()),re)],n.identity=(M,re)=>[M.run(ie(M,re[0],v()),re)],n.leakyRelu=(M,re,Ne)=>[M.run(ie(M,re[0],w(Ne.alpha),Ne.cacheKey),re)],n.parseLeakyReluAttributes=M=>(0,a.createAttributeWithCacheKey)({alpha:M.attributes.getFloat("alpha",.01)}),n.log=(M,re)=>[M.run(ie(M,re[0],T()),re)],n.neg=(M,re)=>[M.run(ie(M,re[0],_()),re)],n.not=(M,re)=>[M.run(ie(M,re[0],x()),re)],n.relu=(M,re)=>[M.run(ie(M,re[0],$()),re)],n.sigmoid=(M,re)=>[M.run(ie(M,re[0],S()),re)],n.sin=(M,re)=>[M.run(ie(M,re[0],A()),re)],n.sqrt=(M,re)=>[M.run(ie(M,re[0],k()),re)],n.tan=(M,re)=>[M.run(ie(M,re[0],V()),re)],n.tanh=(M,re)=>[M.run(ie(M,re[0],oe()),re)]},5611:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackProgramInfoLoader=n.createUnpackProgramInfo=void 0;const a=o(5060),l=o(2039),f=o(9390),u=o(2827),p={name:"unpack",inputNames:["A"],inputTypes:[l.TextureType.packed]};n.createUnpackProgramInfo=(g,d)=>{const c=d.dims.length,t=(0,u.getChannels)("rc",c),e=t.slice(-2),i=(0,f.getCoordsDataType)(c),s=(0,u.unpackFromChannel)(),m=d.dims.length===0?"":function(v,w){if(v===1)return"rc";let T="";for(let _=0;_<v;_++)T+=w[_],_<v-1&&(T+=",");return T}(c,t),b=c<=1?"rc":`vec2(${e.join(",")})`,y=`
    ${s}
    void main() {
      ${i} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${m});

       ${(0,a.getGlsl)(g.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${b}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},p),{hasMain:!0,output:{dims:d.dims,type:d.type,textureType:l.TextureType.unpacked},shaderSource:y})},n.createUnpackProgramInfoLoader=(g,d)=>Object.assign(Object.assign({},p),{get:()=>(0,n.createUnpackProgramInfo)(g,d)})},8428:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseUnsqueezeAttributes=n.unsqueezeV13=n.unsqueeze=void 0;const a=o(2517);n.unsqueeze=(u,p,g)=>{l(p);const d=a.ShapeUtil.unsqueezeShape(p[0].dims,g);return[u.reshapeUnpacked(p[0],d)]},n.unsqueezeV13=(u,p)=>(f(p),(0,n.unsqueeze)(u,[p[0]],Array.from(p[1].integerData))),n.parseUnsqueezeAttributes=u=>u.attributes.getInts("axes");const l=u=>{if(!u||u.length!==1)throw new Error("Unsqueeze requires 1 input.");if(u[0].type==="string")throw new Error("invalid input tensor types.")},f=u=>{if(!u||u.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(u[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.scalesValidation=n.validateInputs=n.parseUpsampleAttributes=n.parseUpsampleAttributesV9=n.parseUpsampleAttributesV7=n.upsample=void 0;const a=o(246),l=o(5060),f=o(2039),u={name:"Upsample",inputNames:["X"],inputTypes:[f.TextureType.unpacked]};n.upsample=(g,d,c)=>((0,n.validateInputs)(d,c),[g.run(Object.assign(Object.assign({},u),{cacheHint:c.cacheKey,get:()=>p(g,d,c)}),d)]),n.parseUpsampleAttributesV7=g=>(0,n.parseUpsampleAttributes)(g,7),n.parseUpsampleAttributesV9=g=>(0,n.parseUpsampleAttributes)(g,9),n.parseUpsampleAttributes=(g,d)=>{const c=d>=10,t=g.attributes.getString("mode","nearest");if(t!=="nearest"&&t!=="linear"&&(d<11||t!=="cubic"))throw new Error(`unrecognized mode: ${t}`);let e=[];d<9&&(e=g.attributes.getFloats("scales"),(0,n.scalesValidation)(e,t,c));const i=g.attributes.getFloat("extrapolation_value",0),s=d>10?g.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(s)===-1)throw new Error(`coordinate_transform_mode '${s}' is not supported`);const m=s==="tf_crop_and_resize",b=m,y=t==="nearest"&&d>=11?g.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(y)===-1)throw new Error(`nearest_mode '${y}' is not supported`);const v=g.attributes.getFloat("cubic_coeff_a",-.75),w=g.attributes.getInt("exclude_outside",0)!==0;if(w&&t!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const T=d<11||t==="nearest"&&s==="asymmetric"&&y==="floor";let _=0,x=0,A=0;return d>10?g.inputs.length>2?(_=1,x=2,A=3):(x=1,A=2):d===9&&(x=1),(0,a.createAttributeWithCacheKey)({opset:d,isResize:c,mode:t,scales:e,extrapolationValue:i,coordinateTransformMode:s,useExtrapolation:b,needRoiInput:m,nearestMode:y,cubicCoefficientA:v,excludeOutside:w,useNearest2xOptimization:T,roiInputIdx:_,scalesInputIdx:x,sizesInputIdx:A})};const p=(g,d,c)=>{const t=(0,l.getGlsl)(g.session.backend.glContext.version),[e,i]=g.calculateTextureWidthAndHeight(d[0].dims,f.TextureType.unpacked),s=d[0].dims.map((A,$)=>Math.floor(A*c.scales[$])),[m,b]=g.calculateTextureWidthAndHeight(s,f.TextureType.unpacked),y=s.length,v=new Array(y),w=new Array(y);let T=`
      int output_pitches[${y}];
      int input_pitches[${y}];
      `;for(let A=y-1;A>=0;A--)v[A]=A===y-1?1:v[A+1]*s[A+1],w[A]=A===y-1?1:w[A+1]*d[0].dims[A+1],T+=`
        output_pitches[${A}] = ${v[A]};
        input_pitches[${A}] = ${w[A]};
        `;const _=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${e}, ${i});
        float value = getColorAsFloat(${t.texture2D}(X, coords));
        return value;
      }
      `,x=c.mode==="nearest"?`
    ${_}
    float process(int indices[${y}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${b});

      ${T}

      int d, m;
      for (int dim = 0; dim < ${y}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:y===4?`
    ${_}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${b});

      ${T}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${d[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${_}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${m}, ${b});

      ${T}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${d[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},u),{output:{dims:s,type:d[0].type,textureType:f.TextureType.unpacked},shaderSource:x,variables:[{name:"scales",type:"int",arrayLength:c.scales.length,data:c.scales.map(A=>Math.ceil(A))}]})};n.validateInputs=(g,d)=>{if(!g||d.opset<9&&g.length!==1||d.opset>=9&&d.opset<11&&g.length!==2||d.opset>=11&&g.length<2)throw new Error("invalid inputs.");if(d.scales.length>0&&g[0].dims.length!==d.scales.length)throw new Error("Invalid input shape.");if(g[0].type==="string")throw new Error("Invalid input tensor types.")},n.scalesValidation=(g,d,c)=>{if(c){for(const t of g)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(const t of g)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(d!=="linear"&&d!=="cubic"||g.length===2||g.length===4&&g[0]===1&&g[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${c?"Resize":"Upsample"} opeartor.`)}},1958:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ProgramManager=void 0;const a=o(1670),l=o(6231),f=o(8879),u=o(5060);n.ProgramManager=class{constructor(p,g,d){this.profiler=p,this.glContext=g,this.textureLayoutStrategy=d,this.repo=new Map,this.attributesBound=!1}getArtifact(p){return this.repo.get(p)}setArtifact(p,g){this.repo.set(p,g)}run(p,g,d){var c;this.profiler.event("op",`ProgramManager.run ${(c=p.programInfo.name)!==null&&c!==void 0?c:"unknown kernel"}`,()=>{var t;const e=this.glContext.gl,i=p.program;e.useProgram(i);try{this.bindOutput(d),this.attributesBound||this.bindAttributes(p.attribLocations),this.bindUniforms(p.uniformLocations,(t=p.programInfo.variables)!==null&&t!==void 0?t:[],g)}catch(s){throw l.Logger.error("ProgramManager",p.programInfo.shaderSource),s}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(p=>this.glContext.deleteProgram(p.program))}build(p,g,d){return this.profiler.event("backend","ProgramManager.build",()=>{const c=new f.GlslPreprocessor(this.glContext,p,g,d),t=c.preprocess(),e=this.compile(t);return{programInfo:p,program:e,uniformLocations:this.getUniformLocations(e,c.context.programInfo.inputNames,c.context.programInfo.variables),attribLocations:this.getAttribLocations(e)}})}compile(p){if(!this.vertexShader){l.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const c=(0,u.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(c,this.glContext.gl.VERTEX_SHADER)}a.env.debug&&l.Logger.verbose("ProrgramManager",`FragShader:
${p}
`);const g=this.glContext.compileShader(p,this.glContext.gl.FRAGMENT_SHADER),d=this.glContext.createProgram(this.vertexShader,g);return this.glContext.deleteShader(g),d}bindOutput(p){const g=p.width,d=p.height;l.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${g}/${d}, shape=${p.shape}, type=${p.tensor.type}`),this.glContext.attachFramebuffer(p.texture,g,d)}bindAttributes(p){const g=p.position,d=p.textureCoord;this.glContext.setVertexAttributes(g,d),this.attributesBound=!0}bindUniforms(p,g,d){var c;const t=this.glContext.gl;let e=0;for(const{name:i,type:s,location:m,arrayLength:b}of p){const y=(c=g.find(v=>v.name===i))===null||c===void 0?void 0:c.data;if(s!=="sampler2D"&&!y)throw new Error(`variable '${i}' does not have data defined in program info`);switch(s){case"sampler2D":this.bindTexture(d[e],m,e),e++;break;case"float":b?t.uniform1fv(m,y):t.uniform1f(m,y);break;case"int":b?t.uniform1iv(m,y):t.uniform1i(m,y);break;default:throw new Error(`Uniform not implemented: ${s}`)}}}bindTexture(p,g,d){this.glContext.bindTextureToUniform(p.texture,d,g)}getAttribLocations(p){return{position:this.getAttribLocation(p,"position"),textureCoord:this.getAttribLocation(p,"textureCoord")}}getUniformLocations(p,g,d){const c=[];if(g)for(const t of g)c.push({name:t,type:"sampler2D",location:this.getUniformLocation(p,t)});if(d)for(const t of d)c.push(Object.assign(Object.assign({},t),{location:this.getUniformLocation(p,t.name)}));return c}getUniformLocation(p,g){const d=this.glContext.gl.getUniformLocation(p,g);if(d===null)throw new Error(`Uniform ${g} not found.`);return d}getAttribLocation(p,g){return this.glContext.gl.getAttribLocation(p,g)}}},6416:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLSessionHandler=void 0;const a=o(6231),l=o(1047),f=o(8316),u=o(1640),p=o(1958),g=o(7859),d=o(5702);n.WebGLSessionHandler=class{constructor(c,t){this.backend=c,this.context=t,this.layoutStrategy=new g.PreferLogicalStrategy(c.glContext.maxTextureSize),this.programManager=new p.ProgramManager(this.context.profiler,c.glContext,this.layoutStrategy),this.textureManager=new d.TextureManager(c.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:c.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=c.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new f.WebGLInferenceHandler(this)}onGraphInitialized(c){const t=c.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(t)}isInitializer(c){return!!this.initializers&&this.initializers.has(c)}addInitializer(c){this.initializers.add(c)}getTextureData(c,t){return t?this.packedTextureDataCache.get(c):this.unpackedTextureDataCache.get(c)}setTextureData(c,t,e=!1){a.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(c,t):this.unpackedTextureDataCache.set(c,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(c=>this.textureManager.releaseTexture(c,!0)),this.unpackedTextureDataCache=new Map}resolve(c,t,e){const i=(0,l.resolveOperator)(c,t,u.WEBGL_OP_RESOLVE_RULES);return{impl:i.opImpl,context:i.opInit?i.opInit(c,e):c}}}},7769:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Uint8DataEncoder=n.RGBAFloatDataEncoder=n.RedFloat32DataEncoder=void 0;const a=o(6231);n.RedFloat32DataEncoder=class{constructor(l,f=1){if(f===1)this.internalFormat=l.R32F,this.format=l.RED,this.textureType=l.FLOAT,this.channelSize=f;else{if(f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=l.RGBA32F,this.format=l.RGBA,this.textureType=l.FLOAT,this.channelSize=f}}encode(l,f){let u,p;return l.constructor!==Float32Array&&(a.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),p=new Float32Array(l)),f*this.channelSize>l.length?(a.Logger.warning("Encoder","Source data too small. Allocating larger array"),p=l,u=this.allocate(f*this.channelSize),p.forEach((g,d)=>u[d]=g)):(p=l,u=p),u}allocate(l){return new Float32Array(4*l)}decode(l,f){return this.channelSize===1?l.filter((u,p)=>p%4==0).subarray(0,f):l.subarray(0,f)}},n.RGBAFloatDataEncoder=class{constructor(l,f=1,u){if(f!==1&&f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.channelSize=f,this.textureType=u||l.FLOAT}encode(l,f){let u=l;return this.channelSize===1&&(a.Logger.verbose("Encoder","Exploding into a larger array"),u=this.allocate(f),l.forEach((p,g)=>u[4*g]=p)),u}allocate(l){return new Float32Array(4*l)}decode(l,f){return this.channelSize===1?l.filter((u,p)=>p%4==0).subarray(0,f):l.subarray(0,f)}},n.Uint8DataEncoder=class{constructor(l,f=1){if(this.channelSize=4,f===1)this.internalFormat=l.ALPHA,this.format=l.ALPHA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=f;else{if(f!==4)throw new Error(`Invalid number of channels: ${f}`);this.internalFormat=l.RGBA,this.format=l.RGBA,this.textureType=l.UNSIGNED_BYTE,this.channelSize=f}}encode(l,f){return new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}allocate(l){return new Uint8Array(l*this.channelSize)}decode(l,f){if(l instanceof Uint8Array)return l.subarray(0,f);throw new Error(`Invalid array type: ${l.constructor}`)}}},7859:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBatchDim=n.sizeToSquarishShape=n.getRowsCols=n.sizeFromShape=n.isInt=n.parseAxisParam=n.squeezeShape=n.PreferLogicalStrategy=n.AlwaysKeepOriginalSizeStrategy=void 0;const a=o(6231),l=o(2517);function f(c,t){const e=[],i=[],s=t!=null&&Array.isArray(t)&&t.length===0,m=t==null||s?null:u(t,c).sort();let b=0;for(let y=0;y<c.length;++y){if(m!=null){if(m[b]===y&&c[y]!==1)throw new Error(`Can't squeeze axis ${y} since its dim '${c[y]}' is not 1`);(m[b]==null||m[b]>y)&&c[y]===1&&(e.push(c[y]),i.push(y)),m[b]<=y&&b++}c[y]!==1&&(e.push(c[y]),i.push(y))}return{newShape:e,keptDims:i}}function u(c,t){const e=t.length;return c=c==null?t.map((i,s)=>s):[].concat(c),(0,l.assert)(c.every(i=>i>=-e&&i<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${c}`),(0,l.assert)(c.every(p),()=>`All values in axis param must be integers but got axis ${c}`),c.map(i=>i<0?e+i:i)}function p(c){return c%1==0}function g(c){if(c.length===0)return 1;let t=c[0];for(let e=1;e<c.length;e++)t*=c[e];return t}function d(c){const t=Math.ceil(Math.sqrt(c));return[t,Math.ceil(c/t)]}n.AlwaysKeepOriginalSizeStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,t){if(c.length===0)return[1,1];const e=this.maxTextureSize;if(t&&t.breakAxis!==void 0){const m=t.breakAxis>=c.length?1:c.slice(t.breakAxis).reduce((y,v)=>y*v),b=t.breakAxis<=0?1:c.slice(0,t.breakAxis).reduce((y,v)=>y*v);if(!(m>e||b>e))return[m,b];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${t.breakAxis}`)}const i=c.reduce((m,b)=>m*b);let s=Math.floor(Math.sqrt(i));for(;s<e&&s<i&&i%s!=0;s++);if(s>=e||i%s!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${c}`);return[s,i/s]}},n.PreferLogicalStrategy=class{constructor(c){this.maxTextureSize=c}computeTextureWH(c,t){const e=this.computeTexture(c,t);return t&&t.isPacked&&(e[0]/=2,e[1]/=2),t&&t.reverseWH?[e[1],e[0]]:e}computeTexture(c,t){const e=t&&t.isPacked;if(c.length===0)return e?[2,2]:[1,1];let i=this.maxTextureSize;if(t&&t.breakAxis!==void 0){const b=t.breakAxis>=c.length?1:c.slice(t.breakAxis).reduce((v,w)=>v*w),y=t.breakAxis<=0?1:c.slice(0,t.breakAxis).reduce((v,w)=>v*w);if(!(b>i||y>i))return[b,y];a.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${c}, breakAxis:${t.breakAxis}`)}let s=c.slice(0);e&&(i*=2,s=s.map((b,y)=>y>=s.length-2?s[y]%2==0?s[y]:s[y]+1:s[y]),s.length===1&&(s=[2,s[0]])),s.length!==2&&(s=f(s).newShape);const m=g(s);return s.length<=1&&m<=i?[1,m]:s.length===2&&s[0]<=i&&s[1]<=i?s:s.length===3&&s[0]*s[1]<=i&&s[2]<=i?[s[0]*s[1],s[2]]:s.length===3&&s[0]<=i&&s[1]*s[2]<=i?[s[0],s[1]*s[2]]:s.length===4&&s[0]*s[1]*s[2]<=i&&s[3]<=i?[s[0]*s[1]*s[2],s[3]]:s.length===4&&s[0]<=i&&s[1]*s[2]*s[3]<=i?[s[0],s[1]*s[2]*s[3]]:e?d(m/4).map(b=>2*b):d(m)}},n.squeezeShape=f,n.parseAxisParam=u,n.isInt=p,n.sizeFromShape=g,n.getRowsCols=function(c){if(c.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[c.length>1?c[c.length-2]:1,c[c.length-1]]},n.sizeToSquarishShape=d,n.getBatchDim=function(c,t=2){return g(c.slice(0,c.length-t))}},4057:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createTextureLayoutFromShape=n.calculateTextureWidthAndHeight=n.createTextureLayoutFromTextureType=void 0;const a=o(2517),l=o(2039);n.createTextureLayoutFromTextureType=(f,u,p)=>{const g=p===l.TextureType.unpacked||p===l.TextureType.unpackedReversed?1:4,d=p===l.TextureType.packed,c=p===l.TextureType.unpackedReversed||p===l.TextureType.packed,t=p===l.TextureType.packedLastDimension?u.length-1:void 0,e=p===l.TextureType.packedLastDimension?u.map((i,s)=>s===u.length-1?4*i:i):void 0;return(0,n.createTextureLayoutFromShape)(f,u,g,e,{isPacked:d,reverseWH:c,breakAxis:t})},n.calculateTextureWidthAndHeight=(f,u,p)=>{const g=(0,n.createTextureLayoutFromTextureType)(f,u,p);return[g.width,g.height]},n.createTextureLayoutFromShape=(f,u,p=1,g,d)=>{const c=!(!d||!d.isPacked),[t,e]=f.computeTextureWH(c&&g||u,d),i=u.length;let s=u.slice(0);if(i===0&&(s=[1]),p===1)g=u;else if(c){if(p!==4)throw new Error("a packed texture must be 4-channel");g=u,i>0&&(s[i-1]=Math.ceil(s[i-1]/2)),i>1&&(s[i-2]=Math.ceil(s[i-2]/2))}else if(!g)throw new Error("Unpacked shape is needed when using channels > 1");return{width:t,height:e,channels:p,isPacked:c,shape:s,strides:a.ShapeUtil.computeStrides(s),unpackedShape:g,reversedWH:d&&d.reverseWH}}},5702:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextureManager=void 0;const a=o(6231);n.TextureManager=class{constructor(l,f,u,p){this.glContext=l,this.layoutStrategy=f,this.profiler=u,this.config=p,this.pendingRead=new Map,p.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(l,f,u,p){const g=this.toEncoderType(l),d=this.glContext.getEncoder(g,f.channels||1,p);if(f.isPacked&&p===1)throw new Error("not implemented");const c=f.width,t=f.height;let e,i;if(this.config.reuseTextures){e=`${c}x${t}_${d.format}_${d.internalFormat}_${d.textureType}`,i=this.inUseTextures.get(e),i||(i=[],this.inUseTextures.set(e,i));const m=this.idleTextures.get(e);if(m&&m.length>0){const b=m.pop();return i.push(b),p===1&&this.glContext.updateTexture(b,c,t,d,this.toTextureData(l,u)),b}}a.Logger.verbose("TextureManager",`Creating new texture of size ${f.width}x${f.height}`);const s=this.glContext.allocateTexture(c,t,d,this.toTextureData(l,u));return this.config.reuseTextures&&(i.push(s),this.textureLookup.set(s,e)),s}readTexture(l,f,u){return u||(u=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const p=l.shape.reduce((d,c)=>d*c)*u,g=this.glContext.readTexture(l.texture,l.width,l.height,p,this.toEncoderType(f),u);return this.toTensorData(f,g)})}async readTextureAsync(l,f,u){const p=l.tensor.dataId;if(u||(u=1),this.pendingRead.has(p)){const g=this.pendingRead.get(p);return new Promise(d=>g==null?void 0:g.push(d))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(p,[]);const g=l.shape.reduce((e,i)=>e*i)*u;await this.glContext.createAndWaitForFence();const d=this.glContext.readTexture(l.texture,l.width,l.height,g,this.toEncoderType(f),u),c=this.toTensorData(f,d),t=this.pendingRead.get(p);return this.pendingRead.delete(p),t==null||t.forEach(e=>e(c)),c})}readUint8TextureAsFloat(l){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const f=l.shape.reduce((p,g)=>p*g),u=this.glContext.readTexture(l.texture,l.width,l.height,4*f,"byte",4);return new Float32Array(u.buffer,u.byteOffset,f)})}releaseTexture(l,f){let u;if(this.config.reuseTextures&&(u=this.textureLookup.get(l.texture),u)){f&&this.textureLookup.delete(u);const p=this.inUseTextures.get(u);if(p){const g=p.indexOf(l.texture);if(g!==-1){p.splice(g,1);let d=this.idleTextures.get(u);d||(d=[],this.idleTextures.set(u,d)),d.push(l.texture)}}}u&&!f||(a.Logger.verbose("TextureManager",`Deleting texture of size ${l.width}x${l.height}`),this.glContext.deleteTexture(l.texture))}toTensorData(l,f){switch(l){case"int16":return f instanceof Int16Array?f:Int16Array.from(f);case"int32":return f instanceof Int32Array?f:Int32Array.from(f);case"int8":return f instanceof Int8Array?f:Int8Array.from(f);case"uint16":return f instanceof Uint16Array?f:Uint16Array.from(f);case"uint32":return f instanceof Uint32Array?f:Uint32Array.from(f);case"uint8":case"bool":return f instanceof Uint8Array?f:Uint8Array.from(f);case"float32":return f instanceof Float32Array?f:Float32Array.from(f);case"float64":return f instanceof Float64Array?f:Float64Array.from(f);default:throw new Error(`TensorData type ${l} is not supported`)}}toTextureData(l,f){if(f)return f instanceof Float32Array?f:new Float32Array(f)}toEncoderType(l){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(r,n)=>{var o;Object.defineProperty(n,"__esModule",{value:!0}),n.TextureType=void 0,(o=n.TextureType||(n.TextureType={}))[o.unpacked=0]="unpacked",o[o.unpackedReversed=1]="unpackedReversed",o[o.packed=2]="packed",o[o.downloadUint8AsFloat=3]="downloadUint8AsFloat",o[o.packedLastDimension=4]="packedLastDimension"},9390:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getGlChannels=n.getCoordsDataType=n.getSqueezedParams=n.squeezeInputShape=n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=n.generateShaderFuncNameFromInputSamplerName=n.repeatedTry=n.getPackedShape=void 0;const a=o(2517);n.getPackedShape=function(l){const f=l.length;return l.slice(0,f-1).concat(l[f-1]/4)},n.repeatedTry=async function(l,f=p=>0,u){return new Promise((p,g)=>{let d=0;const c=()=>{if(l())return void p();d++;const t=f(d);u!=null&&d>=u?g():setTimeout(c,t)};c()})},n.generateShaderFuncNameFromInputSamplerName=function(l){return(0,a.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)},n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(l){return(0,a.assert)(l!==void 0&&l.length!==0,()=>"empty string found for sampler name"),"get"+l.charAt(0).toUpperCase()+l.slice(1)+"AtOutCoords"},n.squeezeInputShape=function(l,f){let u=JSON.parse(JSON.stringify(l));return u=f,u},n.getSqueezedParams=function(l,f){return f.map(u=>l[u]).join(", ")},n.getCoordsDataType=function(l){if(l<=1)return"int";if(l===2)return"ivec2";if(l===3)return"ivec3";if(l===4)return"ivec4";if(l===5)return"ivec5";if(l===6)return"ivec6";throw Error(`GPU for rank ${l} is not yet supported`)},n.getGlChannels=function(l=6){return["x","y","z","w","u","v"].slice(0,l)}},7305:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createNewWebGLContext=n.createWebGLContext=void 0;const a=o(6231),l=o(1713),f={};function u(p){const g=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const t=document.createElement("canvas");return t.width=1,t.height=1,t}();let d;const c={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!p||p==="webgl2")&&(d=g.getContext("webgl2",c),d))try{return new l.WebGLContext(d,2)}catch(t){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${t}`)}if((!p||p==="webgl")&&(d=g.getContext("webgl",c)||g.getContext("experimental-webgl",c),d))try{return new l.WebGLContext(d,1)}catch(t){a.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${t}`)}throw new Error("WebGL is not supported")}n.createWebGLContext=function p(g){let d;g&&g!=="webgl2"||!("webgl2"in f)?g&&g!=="webgl"||!("webgl"in f)||(d=f.webgl):d=f.webgl2,d=d||u(g),g=g||d.version===1?"webgl":"webgl2";const c=d.gl;return f[g]=d,c.isContextLost()?(delete f[g],p(g)):(c.disable(c.DEPTH_TEST),c.disable(c.STENCIL_TEST),c.disable(c.BLEND),c.disable(c.DITHER),c.disable(c.POLYGON_OFFSET_FILL),c.disable(c.SAMPLE_COVERAGE),c.enable(c.SCISSOR_TEST),c.enable(c.CULL_FACE),c.cullFace(c.BACK),d)},n.createNewWebGLContext=u},1713:function(r,n,o){var a=this&&this.__createBinding||(Object.create?function(c,t,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(t,e);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(c,i,s)}:function(c,t,e,i){i===void 0&&(i=e),c[i]=t[e]}),l=this&&this.__setModuleDefault||(Object.create?function(c,t){Object.defineProperty(c,"default",{enumerable:!0,value:t})}:function(c,t){c.default=t}),f=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var t={};if(c!=null)for(var e in c)e!=="default"&&Object.prototype.hasOwnProperty.call(c,e)&&a(t,c,e);return l(t,c),t};Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLContext=n.linearSearchLastTrue=void 0;const u=o(1670),p=f(o(7769)),g=o(9390);function d(c){let t=0;for(;t<c.length&&c[t]();++t);return t-1}n.linearSearchLastTrue=d,n.WebGLContext=class{constructor(c,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=c,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(c,t,e,i){const s=this.gl,m=s.createTexture();s.bindTexture(s.TEXTURE_2D,m),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_MAG_FILTER,s.NEAREST),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_2D,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE);const b=i?e.encode(i,c*t):null;return s.texImage2D(s.TEXTURE_2D,0,e.internalFormat,c,t,0,e.format,e.textureType,b),this.checkError(),m}updateTexture(c,t,e,i,s){const m=this.gl;m.bindTexture(m.TEXTURE_2D,c);const b=i.encode(s,t*e);m.texSubImage2D(m.TEXTURE_2D,0,0,0,t,e,i.format,i.textureType,b),this.checkError()}attachFramebuffer(c,t,e){const i=this.gl;i.bindTexture(i.TEXTURE_2D,c),i.bindFramebuffer(i.FRAMEBUFFER,this.framebuffer),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c,0),this.checkError(),i.viewport(0,0,t,e),i.scissor(0,0,t,e)}readTexture(c,t,e,i,s,m){const b=this.gl;m||(m=1),this.frameBufferBound||this.attachFramebuffer(c,t,e);const y=this.getEncoder(s,m),v=y.allocate(t*e);return b.bindTexture(b.TEXTURE_2D,c),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,c,0),b.readPixels(0,0,t,e,b.RGBA,y.textureType,v),this.checkError(),y.decode(v,i)}isFramebufferReady(){return!0}getActiveTexture(){const c=this.gl;return"TEXTURE"+(c.getParameter(this.gl.ACTIVE_TEXTURE)-c.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(c,t){const e=this.gl;e.vertexAttribPointer(c,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(c),t!==-1&&(e.vertexAttribPointer(t,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(t)),this.checkError()}createProgram(c,t){const e=this.gl,i=e.createProgram();return e.attachShader(i,c),e.attachShader(i,t),e.linkProgram(i),i}compileShader(c,t){const e=this.gl,i=e.createShader(t);if(!i)throw new Error(`createShader() returned null with type ${t}`);if(e.shaderSource(i,c),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(i)}
Shader source:
${c}`);return i}deleteShader(c){this.gl.deleteShader(c)}bindTextureToUniform(c,t,e){const i=this.gl;i.activeTexture(i.TEXTURE0+t),this.checkError(),i.bindTexture(i.TEXTURE_2D,c),this.checkError(),i.uniform1i(e,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(u.env.debug){const c=this.gl,t=c.getError();let e="";switch(t){case c.NO_ERROR:return;case c.INVALID_ENUM:e="INVALID_ENUM";break;case c.INVALID_VALUE:e="INVALID_VALUE";break;case c.INVALID_OPERATION:e="INVALID_OPERATION";break;case c.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case c.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case c.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(e)}}deleteTexture(c){this.gl.deleteTexture(c)}deleteProgram(c){this.gl.deleteProgram(c)}getEncoder(c,t,e=0){if(this.version===2)return new p.RedFloat32DataEncoder(this.gl,t);switch(c){case"float":return e===1||this.isRenderFloat32Supported?new p.RGBAFloatDataEncoder(this.gl,t):new p.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new p.Uint8DataEncoder(this.gl,t);default:throw new Error(`Invalid dataType: ${c}`)}}clearActiveTextures(){const c=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)c.activeTexture(c.TEXTURE0+t),c.bindTexture(c.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const c=this.gl;c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(this.framebuffer),c.bindBuffer(c.ARRAY_BUFFER,null),c.deleteBuffer(this.vertexbuffer),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null),c.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const c=this.gl,t=c.createBuffer();if(!t)throw new Error("createBuffer() returned null");const e=this.createDefaultGeometry();return c.bindBuffer(c.ARRAY_BUFFER,t),c.bufferData(c.ARRAY_BUFFER,e,c.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const c=this.gl.createFramebuffer();if(!c)throw new Error("createFramebuffer returned null");return c}queryVitalParameters(){const c=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=c.getParameter(c.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const c=this.gl,t=c.createTexture();c.bindTexture(c.TEXTURE_2D,t);const e=this.version===2?c.RGBA32F:c.RGBA;c.texImage2D(c.TEXTURE_2D,0,e,1,1,0,c.RGBA,c.FLOAT,null);const i=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,i),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,t,0);const s=c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE;return c.bindTexture(c.TEXTURE_2D,null),c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteTexture(t),c.deleteFramebuffer(i),s}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const c=this.gl;let t,e,i,s,m;try{t=c.createTexture(),e=c.createFramebuffer(),c.bindTexture(c.TEXTURE_2D,t);const b=this.version===2?c.RGBA32F:c.RGBA;return c.texImage2D(c.TEXTURE_2D,0,b,1,1,0,c.RGBA,c.FLOAT,null),c.bindFramebuffer(c.FRAMEBUFFER,e),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,t,0),c.enable(c.BLEND),i=c.createShader(c.VERTEX_SHADER),!!i&&(c.shaderSource(i,"void main(){}"),c.compileShader(i),s=c.createShader(c.FRAGMENT_SHADER),!!s&&(c.shaderSource(s,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),c.compileShader(s),m=c.createProgram(),!!m&&(c.attachShader(m,i),c.attachShader(m,s),c.linkProgram(m),c.useProgram(m),c.drawArrays(c.POINTS,0,1),c.getError()===c.NO_ERROR)))}finally{c.disable(c.BLEND),m&&c.deleteProgram(m),i&&c.deleteShader(i),s&&c.deleteShader(s),e&&(c.bindFramebuffer(c.FRAMEBUFFER,null),c.deleteFramebuffer(e)),t&&(c.bindTexture(c.TEXTURE_2D,null),c.deleteTexture(t))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const c=this.gl,t=this.disjointTimerQueryWebgl2Extension,e=c.createQuery();return c.beginQuery(t.TIME_ELAPSED_EXT,e),e}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const c=this.gl,t=this.disjointTimerQueryWebgl2Extension;c.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(c){let t=!1,e=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const i=this.gl,s=this.disjointTimerQueryWebgl2Extension;t=i.getQueryParameter(c,i.QUERY_RESULT_AVAILABLE),e=i.getParameter(s.GPU_DISJOINT_EXT)}return t&&!e}getTimerResult(c){let t=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl;t=e.getQueryParameter(c,e.QUERY_RESULT),e.deleteQuery(c)}return t/1e6}async waitForQueryAndGetTime(c){return await(0,g.repeatedTry)(()=>this.isTimerResultAvailable(c)),this.getTimerResult(c)}async createAndWaitForFence(){const c=this.createFence(this.gl);return this.pollFence(c)}createFence(c){let t;const e=c,i=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return c.flush(),t=i===null?()=>!0:()=>{const s=e.clientWaitSync(i,0,0);return s===e.ALREADY_SIGNALED||s===e.CONDITION_SATISFIED},{query:i,isFencePassed:t}}async pollFence(c){return new Promise(t=>{this.addItemToPoll(()=>c.isFencePassed(),()=>t())})}pollItems(){const c=d(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=c;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(c+1)}async addItemToPoll(c,t){this.itemsToPoll.push({isDoneFn:c,resolveFn:t}),this.itemsToPoll.length>1||await(0,g.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExecutionPlan=void 0;const a=o(6231);class l{constructor(u,p){this.op=u,this.node=p}}n.ExecutionPlan=class{constructor(f,u,p){this.graph=f,this.profiler=p,this.initialize(u)}initialize(f){this.profiler.event("session","ExecutionPlan.initialize",()=>{const u=this.graph.getNodes();if(u.length!==f.length)throw new Error("The size of nodes and OPs do not match.");this._ops=f.map((p,g)=>new l(p,u[g])),this.reset(),this._starter=[],this._ops.forEach((p,g)=>{let d=!0;for(const c of p.node.inputs)if(!this._values[c]&&this.graph.getInputIndices().indexOf(c)===-1){d=!1;break}d&&this._starter.push(g)})})}reset(){this._values=this.graph.getValues().map(f=>f.tensor)}async execute(f,u){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const p=f.createInferenceHandler(),g=this.graph.getInputIndices();if(u.length!==g.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${u.length} expected: ${g.length}`);u.forEach((s,m)=>{const b=g[m];this._values[b]=s});const d=this._starter.slice(0),c=this.graph.getValues(),t=this.graph.getNodes();let e=0;for(;e<d.length;){const s=d[e++],m=this._ops[s],b=m.node.inputs.map(T=>this._values[T]);if(b.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${m.node}`);const y=b;a.Logger.verbose("ExecPlan",`Runing op:${m.node.name} (${y.map((T,_)=>`'${m.node.inputs[_]}': ${T.type}[${T.dims.join(",")}]`).join(", ")})`);const v=await this.profiler.event("node",m.node.name,async()=>m.op.impl(p,y,m.op.context));if(v.length!==m.node.outputs.length)throw new Error("the size of output does not match model definition.");v.forEach((T,_)=>{const x=m.node.outputs[_];if(this._values[x])throw new Error(`output [${x}] already has value: op:${m.node.name}`);this._values[x]=T});const w=new Set;v.forEach((T,_)=>{const x=m.node.outputs[_];for(const A of c[x].to){const $=t[A];let S=!0;for(const k of $.inputs)if(!this._values[k]){S=!1;break}S&&w.add(A)}}),d.push(...w)}const i=[];for(let s=0;s<this.graph.getOutputIndices().length;s++){const m=this.graph.getOutputIndices()[s],b=this._values[m];if(b===void 0)throw new Error(`required output [${m}] does not have value`);m===0?await b.getData():b.data,i.push(b)}return a.Logger.verbose("ExecPlan","disposing of inferenceHandler"),p.dispose(),i})}}},7070:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Graph=void 0;const a=o(1446),l=o(7778),f=o(9395),u=o(9162),p=o(2517);var g=f.onnxruntime.experimental.fbs;n.Graph={from:(e,i)=>new t(e,i)};class d{constructor(i){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,i&&(this.type=p.ProtoUtil.tensorValueTypeFromProto(i.type.tensorType))}get from(){return this._from}get to(){return this._to}}class c{constructor(i,s){i instanceof a.onnx.NodeProto?(this.name=i.name,this.opType=i.opType,this.attributes=new l.Attribute(i.attribute)):i instanceof g.Node&&(this.name=s??i.name(),this.opType=i.opType(),this.attributes=new l.Attribute(p.ProtoUtil.tensorAttributesFromORTFormat(i))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class t{constructor(i,s){if(!i)throw new TypeError("graph is empty");this.buildGraph(i),this.transformGraph(s),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(i){if(i instanceof a.onnx.GraphProto)this.buildGraphFromOnnxFormat(i);else{if(!(i instanceof g.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(i)}}buildGraphFromOnnxFormat(i){const s=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const m=new Map;if(!i.input)throw new Error("missing information in graph: input");const b=[];for(const y of i.input){if(s.has(y.name))throw new Error(`duplicated input name: ${y.name}`);const v=this._allData.push(new d(y))-1;s.set(y.name,v),b.push(y.name)}if(!i.initializer)throw new Error("missing information in graph: initializer");for(const y of i.initializer){let v=s.get(y.name);if(v===void 0){const w=new d;w.type={shape:{dims:p.ProtoUtil.tensorDimsFromProto(y.dims)},tensorType:p.ProtoUtil.tensorDataTypeFromProto(y.dataType)},v=this._allData.push(w)-1,s.set(y.name,v)}this._allData[v]._from=-1,this._allData[v].tensor=u.Tensor.fromProto(y)}for(let y=0;y<this._allData.length;y++)this._allData[y].tensor||(this._allInputIndices.push(y),this._allInputNames.push(b[y]));if(!i.output)throw new Error("missing information in graph: output");for(const y of i.output){if(s.has(y.name))throw new Error(`duplicated output name: ${y.name}`);const v=this._allData.push(new d(y))-1;s.set(y.name,v),this._allOutputIndices.push(v),this._allOutputNames.push(y.name)}if(!i.node)throw new Error("missing information in graph: node");for(const y of i.node){if(!y.name)for(let w=0;;w++){const T=`unnamed_${y.opType}_${w}`;if(!m.has(T)){y.name=T;break}}if(m.has(y.name))throw new Error(`duplicated node name: ${y.name}`);const v=this._nodes.push(new c(y))-1;m.set(y.name,v)}for(let y=0;y<this._nodes.length;y++){const v=this._nodes[y],w=i.node[y];if(!w.output)throw new Error(`missing output for node: ${w.name}`);for(const T of w.output){let _=s.get(T);if(_===void 0&&(_=this._allData.push(new d)-1,s.set(T,_)),v.outputs.push(_),this._allData[_]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${_}`);if(this._allData[_]._from=y,w.opType==="Constant"){if(!w.attribute||w.attribute.length!==1||!w.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!w.output||w.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");v.outputs.pop(),v.executeNode=!1,this._allData[_]._from=-1,this._allData[_].tensor=u.Tensor.fromProto(w.attribute[0].t)}}}for(let y=0;y<this._nodes.length;y++){const v=this._nodes[y],w=i.node[y];if(!w.input)throw new Error(`missing input for node: ${w.name}`);for(const T of w.input){const _=s.get(T);if(_===void 0){if(T===""&&w.input.length===3&&w.opType==="Resize")continue;throw new Error(`unrecognized input '${T}' for node: ${w.name}`)}v.inputs.push(_),this._allData[_]._to.push(y)}}return!0}buildGraphFromOrtFormat(i){var s,m,b;const y=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const v=new Map,w=[];for(let T=0;T<i.inputsLength();T++){const _=i.inputs(T);if(y.has(_))throw new Error(`duplicated input name: ${_}`);for(let x=0;x<i.nodeArgsLength();x++)if(((s=i.nodeArgs(x))===null||s===void 0?void 0:s.name())===_){const A=new d;if(((b=(m=i.nodeArgs(x))===null||m===void 0?void 0:m.type())===null||b===void 0?void 0:b.valueType())!==g.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const $=i.nodeArgs(x).type().value(new g.TensorTypeAndShape),S=p.ProtoUtil.tensorDataTypeFromProto($.elemType()),k=$.shape(),V=[];for(let Y=0;Y<k.dimLength();Y++)V.push(p.LongUtil.longToNumber(k.dim(Y).value().dimValue()));A.type={shape:{dims:V},tensorType:S};const oe=this._allData.push(A)-1;y.set(_,oe),w.push(_)}}for(let T=0;T<i.initializersLength();T++){const _=i.initializers(T);let x=y.get(_.name());if(x===void 0){const A=new d,$=p.ProtoUtil.tensorDimsFromORTFormat(_),S=p.ProtoUtil.tensorDataTypeFromProto(_.dataType());A.type={shape:{dims:$},tensorType:S},x=this._allData.push(A)-1,y.set(_.name(),x)}this._allData[x]._from=-1,this._allData[x].tensor=u.Tensor.fromOrtTensor(_)}for(let T=0;T<this._allData.length;T++)this._allData[T].tensor||(this._allInputIndices.push(T),this._allInputNames.push(w[T]));for(let T=0;T<i.outputsLength();T++){const _=i.outputs(T);if(y.has(_))throw new Error(`duplicated output name: ${_}`);const x=this._allData.push(new d)-1;y.set(_,x),this._allOutputIndices.push(x),this._allOutputNames.push(_)}if(!i.nodes)throw new Error("missing information in graph: node");for(let T=0;T<i.nodesLength();T++){const _=i.nodes(T);let x=_.name();if(!x)for(let $=0;x=`unnamed_${_.opType()}_${$}`,v.has(x);$++);if(v.has(x))throw new Error(`duplicated node name: ${x}`);const A=this._nodes.push(new c(_,x))-1;v.set(x,A)}for(let T=0;T<this._nodes.length;T++){const _=this._nodes[T],x=i.nodes(T);if(x==null)throw new Error(`No node exists at index ${T}`);if((x==null?void 0:x.outputsLength())===0)throw new Error(`missing output for node: ${x.name}`);for(let A=0;A<(x==null?void 0:x.outputsLength());A++){const $=x==null?void 0:x.outputs(A);let S=y.get($);if(S===void 0&&(S=this._allData.push(new d)-1,y.set($,S)),_.outputs.push(S),this._allData[S]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${S}`);if(this._allData[S]._from=T,x.opType()==="Constant"){if(x.attributesLength()!==1||!x.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(x.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");_.outputs.pop(),_.executeNode=!1,this._allData[S]._from=-1,this._allData[S].tensor=u.Tensor.fromOrtTensor(x.attributes(0).t())}}}for(let T=0;T<this._nodes.length;T++){const _=this._nodes[T],x=i.nodes(T);if(x.inputsLength()===0)throw new Error(`missing input for node: ${x.name}`);for(let A=0;A<x.inputsLength();A++){const $=x.inputs(A),S=y.get($);if(S===void 0)throw new Error(`unrecognized input '${$}' for node: ${x.name()}`);_.inputs.push(S),this._allData[S]._to.push(T)}}}checkIsAcyclic(){const i=new Set;this._allInputIndices.forEach(b=>{this._allData[b]._to.forEach(y=>{i.add(y)})});const s=Array.from(i),m=new Array(this._nodes.length).fill("white");for(;s.length>0;){const b=s.pop();m[b]==="gray"?m[b]="black":(s.push(b),m[b]="gray",this._nodes[b].outputs.forEach(y=>{const v=this._allData[y];if(v.tensor!==void 0)throw new Error("node outputs should not be initialized");if(v._from!==b)throw new Error("from property of the Value object doesn't match index of Node being processed");v._to.forEach(w=>{if(m[w]==="gray")throw new Error("model graph is cyclic");m[w]==="white"&&s.push(w)})}))}}transformGraph(i){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),i&&i.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let i=0;for(let s=0;s<this._nodes.length;s++)this._nodes[s].executeNode?i>0&&(this._nodes[s].inputs.forEach(m=>{const b=this._allData[m]._to.indexOf(s+i);b!==-1&&(this._allData[m]._to[b]=s)}),this._nodes[s].outputs.forEach(m=>{this._allData[m]._from&&this._allData[m]._from===s+i&&(this._allData[m]._from=s)})):(i++,this._nodes[s].outputs.forEach(m=>{this._allData[m]._from=-2}),this._nodes.splice(s,1),s--);i=0;for(let s=0;s<this._allData.length;s++)if(this._allData[s].from!==-2||this._allOutputIndices.indexOf(s+i)!==-1){if(i>0){let m=-1;this._allData[s].from!==void 0&&this._allData[s].from!==-1?(m=this._nodes[this._allData[s].from].outputs.indexOf(s+i),m!==-1&&(this._nodes[this._allData[s].from].outputs[m]=s)):(m=this._allInputIndices.indexOf(s+i),m!==-1&&(this._allInputIndices[m]=s)),this._allData[s].to.forEach(b=>{m=this._nodes[b].inputs.indexOf(s+i),m!==-1&&(this._nodes[b].inputs[m]=s)}),this._allData[s].to.length===0&&(m=this._allOutputIndices.indexOf(s+i),m!==-1&&(this._allOutputIndices[m]=s))}}else i++,this._allData.splice(s,1),s--}deleteNode(i){const s=this._nodes[i];if(s.outputs.length>1){for(let T=1;T<s.outputs.length;T++)if(this._allData[s.outputs[T]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}s.executeNode=!1;const m=s.inputs[0],b=s.outputs[0],y=this._allData[b].to,v=this._allData[m].to.indexOf(i);if(v===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[m].to.splice(v,1),this._allData[b]._to=[];const w=this._allOutputIndices.indexOf(b);if(w!==-1&&(this._allOutputIndices[w]=m),y&&y.length>0)for(const T of y){const _=this._nodes[T].inputs.indexOf(b);if(_===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[T].inputs[_]=m,this._allData[m].to.push(T)}}removeAllDropoutNodes(){let i=0;for(const s of this._nodes){if(s.opType==="Dropout"){if(s.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(s.outputs.length!==1&&s.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(s.outputs.length===2&&this._allData[s.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(i)}i++}}removeAllIdentityNodes(){let i=0;for(const s of this._nodes)s.opType==="Identity"&&this.deleteNode(i),i++}isActivation(i){switch(i.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const i of this._nodes)if(i.opType==="Conv"){const s=this._allData[i.outputs[0]]._to;if(s.length===1&&this.isActivation(this._nodes[s[0]])){const m=this._nodes[s[0]];if(m.opType==="Clip")if(m.inputs.length===1)try{i.attributes.set("activation_params","floats",[m.attributes.getFloat("min"),m.attributes.getFloat("max")])}catch{i.attributes.set("activation_params","floats",[p.MIN_CLIP,p.MAX_CLIP])}else{if(!(m.inputs.length>=3&&this._allData[m.inputs[1]].tensor!==void 0&&this._allData[m.inputs[2]].tensor!==void 0))continue;i.attributes.set("activation_params","floats",[this._allData[m.inputs[1]].tensor.floatData[0],this._allData[m.inputs[2]].tensor.floatData[0]])}i.attributes.set("activation","string",m.opType),this.deleteNode(s[0])}}}}},6231:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.now=n.Profiler=n.Logger=void 0;const o={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},a={none:new class{log(c,t,e){}},console:new class{log(c,t,e){console.log(`${this.color(c)} ${e?"\x1B[35m"+e+"\x1B[0m ":""}${t}`)}color(c){switch(c){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${c}`)}}}},l={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let f={"":l};function u(c,t,e,i){if(t===void 0)return s=c,{verbose:u.verbose.bind(null,s),info:u.info.bind(null,s),warning:u.warning.bind(null,s),error:u.error.bind(null,s),fatal:u.fatal.bind(null,s)};if(e===void 0)p(c,t);else if(typeof e=="number"&&i===void 0)p(c,t);else if(typeof e=="string"&&i===void 0)p(c,e,0,t);else{if(typeof e!="string"||typeof i!="number")throw new TypeError("input is valid");p(c,e,0,t)}var s}function p(c,t,e,i){const s=f[i||""]||f[""];o[c]<o[s.minimalSeverity]||(s.logDateTime&&(t=`${new Date().toISOString()}|${t}`),s.logSourceLocation,a[s.provider].log(c,t,i))}(function(c){function t(i){f={},e("",i||{})}function e(i,s){if(i==="*")t(s);else{const m=f[i]||l;f[i]={provider:s.provider||m.provider,minimalSeverity:s.minimalSeverity||m.minimalSeverity,logDateTime:s.logDateTime===void 0?m.logDateTime:s.logDateTime,logSourceLocation:s.logSourceLocation===void 0?m.logSourceLocation:s.logSourceLocation}}}c.verbose=function(i,s){c("verbose",i,s)},c.info=function(i,s){c("info",i,s)},c.warning=function(i,s){c("warning",i,s)},c.error=function(i,s){c("error",i,s)},c.fatal=function(i,s){c("fatal",i,s)},c.reset=t,c.set=e,c.setWithEnv=function(i){const s={};i.logLevel&&(s.minimalSeverity=i.logLevel),e("",s)}})(u||(u={})),n.Logger=u;class g{constructor(t,e,i,s,m,b){this.category=t,this.name=e,this.startTime=i,this.endCallback=s,this.timer=m,this.ctx=b}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class d{constructor(t,e,i,s){this.category=t,this.name=e,this.startTime=i,this.endTime=s}}n.Profiler=class{static create(c){return c===void 0?new this:new this(c.maxNumberEvents,c.flushBatchSize,c.flushIntervalInMilliseconds)}constructor(c,t,e){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=c===void 0?1e4:c,this._flushBatchSize=t===void 0?10:t,this._flushIntervalInMilliseconds=e===void 0?5e3:e}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,n.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(c,t,e,i){const s=this._started?this.begin(c,t,i):void 0;let m=!1;const b=e();if(b&&typeof b.then=="function")return m=!0,new Promise((y,v)=>{b.then(async w=>{s&&await s.end(),y(w)},async w=>{s&&await s.end(),v(w)})});if(!m&&s){const y=s.end();if(y&&typeof y.then=="function")return new Promise((v,w)=>{y.then(()=>{v(b)},T=>{w(T)})})}return b}begin(c,t,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){const i=(0,n.now)();return this.flush(i),new g(c,t,i,s=>this.endSync(s))}{const i=e.beginTimer();return new g(c,t,0,async s=>this.end(s),i,e)}}async end(c){const t=await c.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new d(c.category,c.name,c.startTime,t)),this.flush(t))}endSync(c){const t=(0,n.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new d(c.category,c.name,c.startTime,t)),this.flush(t))}logOneEvent(c){n.Logger.verbose(`Profiler.${c.category}`,`${(c.endTime-c.startTime).toFixed(2)}ms on event '${c.name}' at ${c.endTime.toFixed(2)}`)}flush(c){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||c-this._flushTime>=this._flushIntervalInMilliseconds){for(const t=this._flushPointer;this._flushPointer<t+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,n.now)()}}get started(){return this._started}},n.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Model=void 0;const a=o(5686),l=o(1446),f=o(7070),u=o(9395),p=o(2517);var g=u.onnxruntime.experimental.fbs;n.Model=class{constructor(){}load(d,c,t){if(!t)try{return void this.loadFromOnnxFormat(d,c)}catch(e){if(t!==void 0)throw e}this.loadFromOrtFormat(d,c)}loadFromOnnxFormat(d,c){const t=l.onnx.ModelProto.decode(d);if(p.LongUtil.longToNumber(t.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=t.opsetImport.map(e=>({domain:e.domain,version:p.LongUtil.longToNumber(e.version)})),this._graph=f.Graph.from(t.graph,c)}loadFromOrtFormat(d,c){const t=new a.flatbuffers.ByteBuffer(d),e=g.InferenceSession.getRootAsInferenceSession(t).model();if(p.LongUtil.longToNumber(e.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let i=0;i<e.opsetImportLength();i++){const s=e.opsetImport(i);this._opsets.push({domain:s==null?void 0:s.domain(),version:p.LongUtil.longToNumber(s.version())})}this._graph=f.Graph.from(e.graph(),c)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FLOAT_TYPES=n.INT_TYPES=n.NUMBER_TYPES=void 0,n.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],n.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],n.FLOAT_TYPES=["float32","float64"]},1047:(r,n)=>{function o(a,l){if(l.endsWith("+")){const f=Number.parseInt(l.substring(0,l.length-1),10);return!isNaN(f)&&f<=a}if(l.split("-").length===2){const f=l.split("-"),u=Number.parseInt(f[0],10),p=Number.parseInt(f[1],10);return!isNaN(u)&&!isNaN(p)&&u<=a&&a<=p}return Number.parseInt(l,10)===a}Object.defineProperty(n,"__esModule",{value:!0}),n.resolveOperator=void 0,n.resolveOperator=function(a,l,f){for(const u of f){const p=u[0],g=u[1],d=u[2],c=u[3],t=u[4];if(a.opType===p){for(const e of l)if((e.domain===g||e.domain==="ai.onnx"&&g==="")&&o(e.version,d))return{opImpl:c,opInit:t}}}throw new TypeError(`cannot resolve operator '${a.opType}' with opsets: ${l.map(u=>`${u.domain||"ai.onnx"} v${u.version}`).join(", ")}`)}},9395:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.onnxruntime=void 0;const a=o(5686);var l,f;l=n.onnxruntime||(n.onnxruntime={}),function(u){(function(p){p[p.UNDEFINED=0]="UNDEFINED",p[p.FLOAT=1]="FLOAT",p[p.INT=2]="INT",p[p.STRING=3]="STRING",p[p.TENSOR=4]="TENSOR",p[p.GRAPH=5]="GRAPH",p[p.FLOATS=6]="FLOATS",p[p.INTS=7]="INTS",p[p.STRINGS=8]="STRINGS",p[p.TENSORS=9]="TENSORS",p[p.GRAPHS=10]="GRAPHS",p[p.SPARSE_TENSOR=11]="SPARSE_TENSOR",p[p.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(u.AttributeType||(u.AttributeType={}))}((f=l.experimental||(l.experimental={})).fbs||(f.fbs={})),function(u){(function(p){(function(g){(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.VALUE=1]="VALUE",d[d.PARAM=2]="PARAM"})(g.DimensionValueType||(g.DimensionValueType={}))})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){(function(d){d[d.UNDEFINED=0]="UNDEFINED",d[d.FLOAT=1]="FLOAT",d[d.UINT8=2]="UINT8",d[d.INT8=3]="INT8",d[d.UINT16=4]="UINT16",d[d.INT16=5]="INT16",d[d.INT32=6]="INT32",d[d.INT64=7]="INT64",d[d.STRING=8]="STRING",d[d.BOOL=9]="BOOL",d[d.FLOAT16=10]="FLOAT16",d[d.DOUBLE=11]="DOUBLE",d[d.UINT32=12]="UINT32",d[d.UINT64=13]="UINT64",d[d.COMPLEX64=14]="COMPLEX64",d[d.COMPLEX128=15]="COMPLEX128",d[d.BFLOAT16=16]="BFLOAT16"})(g.TensorDataType||(g.TensorDataType={}))})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){(function(d){d[d.Primitive=0]="Primitive",d[d.Fused=1]="Fused"})(g.NodeType||(g.NodeType={}))})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){(function(d){d[d.NONE=0]="NONE",d[d.tensor_type=1]="tensor_type",d[d.sequence_type=2]="sequence_type",d[d.map_type=3]="map_type"})(g.TypeInfoValue||(g.TypeInfoValue={}))})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsShape(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsShape(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}dim(t,e){let i=this.bb.__offset(this.bb_pos,4);return i?(e||new u.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}dimLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startShape(t){t.startObject(1)}static addDim(t,e){t.addFieldOffset(0,e,0)}static createDimVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startDimVector(t,e){t.startVector(4,e,4)}static endShape(t){return t.endObject()}static createShape(t,e){return d.startShape(t),d.addDim(t,e),d.endShape(t)}}g.Shape=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDimension(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDimension(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}value(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new u.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}denotation(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startDimension(t){t.startObject(2)}static addValue(t,e){t.addFieldOffset(0,e,0)}static addDenotation(t,e){t.addFieldOffset(1,e,0)}static endDimension(t){return t.endObject()}static createDimension(t,e,i){return d.startDimension(t),d.addValue(t,e),d.addDenotation(t,i),d.endDimension(t)}}g.Dimension=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDimensionValue(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDimensionValue(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):u.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}dimParam(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}static startDimensionValue(t){t.startObject(3)}static addDimType(t,e){t.addFieldInt8(0,e,u.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}static addDimParam(t,e){t.addFieldOffset(2,e,0)}static endDimensionValue(t){return t.endObject()}static createDimensionValue(t,e,i,s){return d.startDimensionValue(t),d.addDimType(t,e),d.addDimValue(t,i),d.addDimParam(t,s),d.endDimensionValue(t)}}g.DimensionValue=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensorTypeAndShape(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensorTypeAndShape(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):u.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new u.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startTensorTypeAndShape(t){t.startObject(2)}static addElemType(t,e){t.addFieldInt32(0,e,u.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(t,e){t.addFieldOffset(1,e,0)}static endTensorTypeAndShape(t){return t.endObject()}static createTensorTypeAndShape(t,e,i){return d.startTensorTypeAndShape(t),d.addElemType(t,e),d.addShape(t,i),d.endTensorTypeAndShape(t)}}g.TensorTypeAndShape=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMapType(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMapType(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):u.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new u.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startMapType(t){t.startObject(2)}static addKeyType(t,e){t.addFieldInt32(0,e,u.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(t,e){t.addFieldOffset(1,e,0)}static endMapType(t){return t.endObject()}static createMapType(t,e,i){return d.startMapType(t),d.addKeyType(t,e),d.addValueType(t,i),d.endMapType(t)}}g.MapType=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSequenceType(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSequenceType(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}elemType(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new u.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSequenceType(t){t.startObject(1)}static addElemType(t,e){t.addFieldOffset(0,e,0)}static endSequenceType(t){return t.endObject()}static createSequenceType(t,e){return d.startSequenceType(t),d.addElemType(t,e),d.endSequenceType(t)}}g.SequenceType=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(p.fbs||(p.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(g,d){return this.bb_pos=g,this.bb=d,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(g,d,c,t){return g.prep(4,12),g.writeInt32(t),g.writeInt32(c),g.writeInt32(d),g.offset()}}})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNodeEdge(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNodeEdge(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}nodeIndex(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}inputEdges(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new u.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+i)+12*t,this.bb):null}inputEdgesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}outputEdges(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new u.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+i)+12*t,this.bb):null}outputEdgesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNodeEdge(t){t.startObject(3)}static addNodeIndex(t,e){t.addFieldInt32(0,e,0)}static addInputEdges(t,e){t.addFieldOffset(1,e,0)}static startInputEdgesVector(t,e){t.startVector(12,e,4)}static addOutputEdges(t,e){t.addFieldOffset(2,e,0)}static startOutputEdgesVector(t,e){t.startVector(12,e,4)}static endNodeEdge(t){return t.endObject()}static createNodeEdge(t,e,i,s){return d.startNodeEdge(t),d.addNodeIndex(t,e),d.addInputEdges(t,i),d.addOutputEdges(t,s),d.endNodeEdge(t)}}g.NodeEdge=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNode(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNode(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}domain(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}sinceVersion(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0}index(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}opType(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):u.experimental.fbs.NodeType.Primitive}executionProviderType(t){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}inputs(t,e){let i=this.bb.__offset(this.bb_pos,20);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}inputsLength(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}outputs(t,e){let i=this.bb.__offset(this.bb_pos,22);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}outputsLength(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}attributes(t,e){let i=this.bb.__offset(this.bb_pos,24);return i?(e||new u.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}attributesLength(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}inputArgCounts(t){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}inputArgCountsLength(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}inputArgCountsArray(){let t=this.bb.__offset(this.bb_pos,26);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}implicitInputs(t,e){let i=this.bb.__offset(this.bb_pos,28);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}implicitInputsLength(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNode(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addDomain(t,e){t.addFieldOffset(2,e,0)}static addSinceVersion(t,e){t.addFieldInt32(3,e,0)}static addIndex(t,e){t.addFieldInt32(4,e,0)}static addOpType(t,e){t.addFieldOffset(5,e,0)}static addType(t,e){t.addFieldInt32(6,e,u.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(t,e){t.addFieldOffset(7,e,0)}static addInputs(t,e){t.addFieldOffset(8,e,0)}static createInputsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startInputsVector(t,e){t.startVector(4,e,4)}static addOutputs(t,e){t.addFieldOffset(9,e,0)}static createOutputsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startOutputsVector(t,e){t.startVector(4,e,4)}static addAttributes(t,e){t.addFieldOffset(10,e,0)}static createAttributesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startAttributesVector(t,e){t.startVector(4,e,4)}static addInputArgCounts(t,e){t.addFieldOffset(11,e,0)}static createInputArgCountsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startInputArgCountsVector(t,e){t.startVector(4,e,4)}static addImplicitInputs(t,e){t.addFieldOffset(12,e,0)}static createImplicitInputsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startImplicitInputsVector(t,e){t.startVector(4,e,4)}static endNode(t){return t.endObject()}static createNode(t,e,i,s,m,b,y,v,w,T,_,x,A,$){return d.startNode(t),d.addName(t,e),d.addDocString(t,i),d.addDomain(t,s),d.addSinceVersion(t,m),d.addIndex(t,b),d.addOpType(t,y),d.addType(t,v),d.addExecutionProviderType(t,w),d.addInputs(t,T),d.addOutputs(t,_),d.addAttributes(t,x),d.addInputArgCounts(t,A),d.addImplicitInputs(t,$),d.endNode(t)}}g.Node=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsValueInfo(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsValueInfo(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}type(t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new u.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startValueInfo(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addType(t,e){t.addFieldOffset(2,e,0)}static endValueInfo(t){return t.endObject()}static createValueInfo(t,e,i,s){return d.startValueInfo(t),d.addName(t,e),d.addDocString(t,i),d.addType(t,s),d.endValueInfo(t)}}g.ValueInfo=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTypeInfo(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTypeInfo(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}denotation(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):u.experimental.fbs.TypeInfoValue.NONE}value(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}static startTypeInfo(t){t.startObject(3)}static addDenotation(t,e){t.addFieldOffset(0,e,0)}static addValueType(t,e){t.addFieldInt8(1,e,u.experimental.fbs.TypeInfoValue.NONE)}static addValue(t,e){t.addFieldOffset(2,e,0)}static endTypeInfo(t){return t.endObject()}static createTypeInfo(t,e,i,s){return d.startTypeInfo(t),d.addDenotation(t,e),d.addValueType(t,i),d.addValue(t,s),d.endTypeInfo(t)}}g.TypeInfo=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsOperatorSetId(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsOperatorSetId(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}domain(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}version(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}static startOperatorSetId(t){t.startObject(2)}static addDomain(t,e){t.addFieldOffset(0,e,0)}static addVersion(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}static endOperatorSetId(t){return t.endObject()}static createOperatorSetId(t,e,i){return d.startOperatorSetId(t),d.addDomain(t,e),d.addVersion(t,i),d.endOperatorSetId(t)}}g.OperatorSetId=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensor(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensor(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}dims(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}dimsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):u.experimental.fbs.TensorDataType.UNDEFINED}rawData(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}rawDataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}rawDataArray(){let t=this.bb.__offset(this.bb_pos,12);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}stringData(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}stringDataLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}static startTensor(t){t.startObject(6)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addDims(t,e){t.addFieldOffset(2,e,0)}static createDimsVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startDimsVector(t,e){t.startVector(8,e,8)}static addDataType(t,e){t.addFieldInt32(3,e,u.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(t,e){t.addFieldOffset(4,e,0)}static createRawDataVector(t,e){t.startVector(1,e.length,1);for(let i=e.length-1;i>=0;i--)t.addInt8(e[i]);return t.endVector()}static startRawDataVector(t,e){t.startVector(1,e,1)}static addStringData(t,e){t.addFieldOffset(5,e,0)}static createStringDataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startStringDataVector(t,e){t.startVector(4,e,4)}static endTensor(t){return t.endObject()}static createTensor(t,e,i,s,m,b,y){return d.startTensor(t),d.addName(t,e),d.addDocString(t,i),d.addDims(t,s),d.addDataType(t,m),d.addRawData(t,b),d.addStringData(t,y),d.endTensor(t)}}g.Tensor=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseTensor(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseTensor(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}values(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new u.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indices(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new u.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dims(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}dimsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSparseTensor(t){t.startObject(3)}static addValues(t,e){t.addFieldOffset(0,e,0)}static addIndices(t,e){t.addFieldOffset(1,e,0)}static addDims(t,e){t.addFieldOffset(2,e,0)}static createDimsVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startDimsVector(t,e){t.startVector(8,e,8)}static endSparseTensor(t){return t.endObject()}static createSparseTensor(t,e,i,s){return d.startSparseTensor(t),d.addValues(t,e),d.addIndices(t,i),d.addDims(t,s),d.endSparseTensor(t)}}g.SparseTensor=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAttribute(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAttribute(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):u.experimental.fbs.AttributeType.UNDEFINED}f(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}i(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}s(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}t(t){let e=this.bb.__offset(this.bb_pos,16);return e?(t||new u.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}g(t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new u.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}floats(t){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0}floatsLength(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}floatsArray(){let t=this.bb.__offset(this.bb_pos,20);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}ints(t){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}intsLength(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}strings(t,e){let i=this.bb.__offset(this.bb_pos,24);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}stringsLength(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}tensors(t,e){let i=this.bb.__offset(this.bb_pos,26);return i?(e||new u.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}tensorsLength(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}graphs(t,e){let i=this.bb.__offset(this.bb_pos,28);return i?(e||new u.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}graphsLength(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAttribute(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addType(t,e){t.addFieldInt32(2,e,u.experimental.fbs.AttributeType.UNDEFINED)}static addF(t,e){t.addFieldFloat32(3,e,0)}static addI(t,e){t.addFieldInt64(4,e,t.createLong(0,0))}static addS(t,e){t.addFieldOffset(5,e,0)}static addT(t,e){t.addFieldOffset(6,e,0)}static addG(t,e){t.addFieldOffset(7,e,0)}static addFloats(t,e){t.addFieldOffset(8,e,0)}static createFloatsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addFloat32(e[i]);return t.endVector()}static startFloatsVector(t,e){t.startVector(4,e,4)}static addInts(t,e){t.addFieldOffset(9,e,0)}static createIntsVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startIntsVector(t,e){t.startVector(8,e,8)}static addStrings(t,e){t.addFieldOffset(10,e,0)}static createStringsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startStringsVector(t,e){t.startVector(4,e,4)}static addTensors(t,e){t.addFieldOffset(11,e,0)}static createTensorsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startTensorsVector(t,e){t.startVector(4,e,4)}static addGraphs(t,e){t.addFieldOffset(12,e,0)}static createGraphsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startGraphsVector(t,e){t.startVector(4,e,4)}static endAttribute(t){return t.endObject()}static createAttribute(t,e,i,s,m,b,y,v,w,T,_,x,A,$){return d.startAttribute(t),d.addName(t,e),d.addDocString(t,i),d.addType(t,s),d.addF(t,m),d.addI(t,b),d.addS(t,y),d.addT(t,v),d.addG(t,w),d.addFloats(t,T),d.addInts(t,_),d.addStrings(t,x),d.addTensors(t,A),d.addGraphs(t,$),d.endAttribute(t)}}g.Attribute=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGraph(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGraph(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}initializers(t,e){let i=this.bb.__offset(this.bb_pos,4);return i?(e||new u.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}initializersLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}nodeArgs(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new u.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}nodeArgsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}nodes(t,e){let i=this.bb.__offset(this.bb_pos,8);return i?(e||new u.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}maxNodeIndex(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}nodeEdges(t,e){let i=this.bb.__offset(this.bb_pos,12);return i?(e||new u.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}nodeEdgesLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}inputs(t,e){let i=this.bb.__offset(this.bb_pos,14);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}inputsLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}outputs(t,e){let i=this.bb.__offset(this.bb_pos,16);return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*t,e):null}outputsLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}sparseInitializers(t,e){let i=this.bb.__offset(this.bb_pos,18);return i?(e||new u.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}sparseInitializersLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGraph(t){t.startObject(8)}static addInitializers(t,e){t.addFieldOffset(0,e,0)}static createInitializersVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startInitializersVector(t,e){t.startVector(4,e,4)}static addNodeArgs(t,e){t.addFieldOffset(1,e,0)}static createNodeArgsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startNodeArgsVector(t,e){t.startVector(4,e,4)}static addNodes(t,e){t.addFieldOffset(2,e,0)}static createNodesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startNodesVector(t,e){t.startVector(4,e,4)}static addMaxNodeIndex(t,e){t.addFieldInt32(3,e,0)}static addNodeEdges(t,e){t.addFieldOffset(4,e,0)}static createNodeEdgesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startNodeEdgesVector(t,e){t.startVector(4,e,4)}static addInputs(t,e){t.addFieldOffset(5,e,0)}static createInputsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startInputsVector(t,e){t.startVector(4,e,4)}static addOutputs(t,e){t.addFieldOffset(6,e,0)}static createOutputsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startOutputsVector(t,e){t.startVector(4,e,4)}static addSparseInitializers(t,e){t.addFieldOffset(7,e,0)}static createSparseInitializersVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startSparseInitializersVector(t,e){t.startVector(4,e,4)}static endGraph(t){return t.endObject()}static createGraph(t,e,i,s,m,b,y,v,w){return d.startGraph(t),d.addInitializers(t,e),d.addNodeArgs(t,i),d.addNodes(t,s),d.addMaxNodeIndex(t,m),d.addNodeEdges(t,b),d.addInputs(t,y),d.addOutputs(t,v),d.addSparseInitializers(t,w),d.endGraph(t)}}g.Graph=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsModel(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsModel(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}irVersion(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}opsetImport(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new u.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}opsetImportLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}producerName(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}producerVersion(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}domain(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}modelVersion(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}docString(t){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}graph(t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new u.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}graphDocString(t){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}static startModel(t){t.startObject(9)}static addIrVersion(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addOpsetImport(t,e){t.addFieldOffset(1,e,0)}static createOpsetImportVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startOpsetImportVector(t,e){t.startVector(4,e,4)}static addProducerName(t,e){t.addFieldOffset(2,e,0)}static addProducerVersion(t,e){t.addFieldOffset(3,e,0)}static addDomain(t,e){t.addFieldOffset(4,e,0)}static addModelVersion(t,e){t.addFieldInt64(5,e,t.createLong(0,0))}static addDocString(t,e){t.addFieldOffset(6,e,0)}static addGraph(t,e){t.addFieldOffset(7,e,0)}static addGraphDocString(t,e){t.addFieldOffset(8,e,0)}static endModel(t){return t.endObject()}static createModel(t,e,i,s,m,b,y,v,w,T){return d.startModel(t),d.addIrVersion(t,e),d.addOpsetImport(t,i),d.addProducerName(t,s),d.addProducerVersion(t,m),d.addDomain(t,b),d.addModelVersion(t,y),d.addDocString(t,v),d.addGraph(t,w),d.addGraphDocString(t,T),d.endModel(t)}}g.Model=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKernelCreateInfos(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKernelCreateInfos(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}nodeIndices(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}nodeIndicesLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}nodeIndicesArray(){let t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}kernelDefHashes(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}kernelDefHashesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startKernelCreateInfos(t){t.startObject(2)}static addNodeIndices(t,e){t.addFieldOffset(0,e,0)}static createNodeIndicesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startNodeIndicesVector(t,e){t.startVector(4,e,4)}static addKernelDefHashes(t,e){t.addFieldOffset(1,e,0)}static createKernelDefHashesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startKernelDefHashesVector(t,e){t.startVector(8,e,8)}static endKernelCreateInfos(t){return t.endObject()}static createKernelCreateInfos(t,e,i){return d.startKernelCreateInfos(t),d.addNodeIndices(t,e),d.addKernelDefHashes(t,i),d.endKernelCreateInfos(t)}}g.KernelCreateInfos=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSubGraphSessionState(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSubGraphSessionState(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}graphId(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}sessionState(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new u.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSubGraphSessionState(t){t.startObject(2)}static addGraphId(t,e){t.addFieldOffset(0,e,0)}static addSessionState(t,e){t.addFieldOffset(1,e,0)}static endSubGraphSessionState(t){let e=t.endObject();return t.requiredField(e,4),e}static createSubGraphSessionState(t,e,i){return d.startSubGraphSessionState(t),d.addGraphId(t,e),d.addSessionState(t,i),d.endSubGraphSessionState(t)}}g.SubGraphSessionState=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSessionState(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSessionState(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}kernels(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new u.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}subGraphSessionStates(t,e){let i=this.bb.__offset(this.bb_pos,6);return i?(e||new u.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}subGraphSessionStatesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSessionState(t){t.startObject(2)}static addKernels(t,e){t.addFieldOffset(0,e,0)}static addSubGraphSessionStates(t,e){t.addFieldOffset(1,e,0)}static createSubGraphSessionStatesVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startSubGraphSessionStatesVector(t,e){t.startVector(4,e,4)}static endSessionState(t){return t.endObject()}static createSessionState(t,e,i){return d.startSessionState(t),d.addKernels(t,e),d.addSubGraphSessionStates(t,i),d.endSessionState(t)}}g.SessionState=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(u){(function(p){(function(g){class d{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInferenceSession(t,e){return(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInferenceSession(t,e){return t.setPosition(t.position()+a.flatbuffers.SIZE_PREFIX_LENGTH),(e||new d).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("ORTM")}ortVersion(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}model(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new u.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}sessionState(t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new u.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startInferenceSession(t){t.startObject(3)}static addOrtVersion(t,e){t.addFieldOffset(0,e,0)}static addModel(t,e){t.addFieldOffset(1,e,0)}static addSessionState(t,e){t.addFieldOffset(2,e,0)}static endInferenceSession(t){return t.endObject()}static finishInferenceSessionBuffer(t,e){t.finish(e,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(t,e){t.finish(e,"ORTM",!0)}static createInferenceSession(t,e,i,s){return d.startInferenceSession(t),d.addOrtVersion(t,e),d.addModel(t,i),d.addSessionState(t,s),d.endInferenceSession(t)}}g.InferenceSession=d})(p.fbs||(p.fbs={}))})(u.experimental||(u.experimental={}))}(n.onnxruntime||(n.onnxruntime={}))},7448:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxjsSessionHandler=void 0;const a=o(1670),l=o(9162);n.OnnxjsSessionHandler=class{constructor(f){this.session=f,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(f,u,p){const g=new Map;for(const t in f)if(Object.hasOwnProperty.call(f,t)){const e=f[t];g.set(t,new l.Tensor(e.dims,e.type,void 0,void 0,e.data))}const d=await this.session.run(g),c={};return d.forEach((t,e)=>{c[e]=new a.Tensor(t.type,t.data,t.dims)}),c}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Session=void 0;const a=o(7067),l=o(1296),f=o(7091),u=o(1036),p=o(6231),g=o(2644);n.Session=class{constructor(d={}){this._initialized=!1,this.backendHint=d.backendHint,this.profiler=p.Profiler.create(d.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(d,c,t){await this.profiler.event("session","Session.loadModel",async()=>{const e=await(0,f.resolveBackend)(this.backendHint);if(this.sessionHandler=e.createSessionHandler(this.context),this._model=new g.Model,typeof d=="string"){const i=d.endsWith(".ort");if(typeof fetch>"u"){const s=await(0,l.promisify)(a.readFile)(d);this.initialize(s,i)}else{const s=await fetch(d),m=await s.arrayBuffer();this.initialize(new Uint8Array(m),i)}}else if(ArrayBuffer.isView(d))this.initialize(d);else{const i=new Uint8Array(d,c||0,t||d.byteLength);this.initialize(i)}})}initialize(d,c){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const t=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(d,t,c),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new u.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(d){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const c=this.normalizeAndValidateInputs(d),t=await this._executionPlan.execute(this.sessionHandler,c);return this.createOutput(t)})}normalizeAndValidateInputs(d){const c=this._model.graph.getInputNames();if(Array.isArray(d)){if(d.length!==c.length)throw new Error(`incorrect input array length: expected ${c.length} but got ${d.length}`)}else{if(d.size!==c.length)throw new Error(`incorrect input map size: expected ${c.length} but got ${d.size}`);const t=new Array(d.size);let e=0;for(let i=0;i<c.length;++i){const s=d.get(c[i]);if(!s)throw new Error(`missing input tensor for: '${name}'`);t[e++]=s}d=t}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,d,!1);else{const t=this._model.graph.getInputIndices(),e=this._model.graph.getValues(),i=new Array(t.length);for(let s=0;s<t.length;++s){const m=e[t[s]];i[s]=m.type.shape.dims,this.context.graphInputTypes.push(m.type.tensorType),this.context.graphInputDims.push(d[s].dims)}this.validateInputTensorDims(i,d,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,d),d}validateInputTensorTypes(d,c){for(let t=0;t<c.length;t++){const e=d[t],i=c[t].type;if(e!==i)throw new Error(`input tensor[${t}] check failed: expected type '${e}' but got ${i}`)}}validateInputTensorDims(d,c,t){for(let e=0;e<c.length;e++){const i=d[e],s=c[e].dims;if(!this.compareTensorDims(i,s,t))throw new Error(`input tensor[${e}] check failed: expected shape '[${i.join(",")}]' but got [${s.join(",")}]`)}}compareTensorDims(d,c,t){if(d.length!==c.length)return!1;for(let e=0;e<d.length;++e)if(d[e]!==c[e]&&(!t||d[e]!==0))return!1;return!0}createOutput(d){const c=this._model.graph.getOutputNames();if(d.length!==c.length)throw new Error("expected number of outputs do not match number of generated outputs");const t=new Map;for(let e=0;e<c.length;++e)t.set(c[e],d[e]);return t}initializeOps(d){const c=d.getNodes();this._ops=new Array(c.length);for(let t=0;t<c.length;t++)this._ops[t]=this.sessionHandler.resolve(c[t],this._model.opsets,d)}}},9162:function(r,n,o){var a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.Tensor=void 0;const l=o(3442),f=a(o(3720)),u=o(1446),p=o(9395),g=o(2517);var d=p.onnxruntime.experimental.fbs;class c{get data(){if(this.cache===void 0){const b=this.dataProvider(this.dataId);if(b.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=b}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(b){return this.data[g.ShapeUtil.indicesToOffset(b,this.strides)]}set(b,y){this.data[g.ShapeUtil.indicesToOffset(b,this.strides)]=y}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=g.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(b,y,v,w,T,_=l.Guid.create()){this.dims=b,this.type=y,this.dataProvider=v,this.asyncDataProvider=w,this.cache=T,this.dataId=_,this.size=g.ShapeUtil.validateDimsAndCalcSize(b);const x=this.size,A=v===void 0&&w===void 0&&T===void 0;if(T!==void 0&&T.length!==x)throw new RangeError("Input dims doesn't match data length.");if(y==="string"){if(!(T===void 0||Array.isArray(T)&&T.every($=>typeof $=="string")))throw new TypeError("cache should be a string array");A&&(this.cache=new Array(x))}else{if(T!==void 0){const $=e(y);if(!(T instanceof $))throw new TypeError(`cache should be type ${$.name}`)}if(A){const $=new ArrayBuffer(x*function(S){switch(S){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${S}`)}}(y));this.cache=function(S,k){return new(e(k))(S)}($,y)}}}static fromProto(b){if(!b)throw new Error("cannot construct Value from an empty tensor");const y=g.ProtoUtil.tensorDataTypeFromProto(b.dataType),v=g.ProtoUtil.tensorDimsFromProto(b.dims),w=new c(v,y);if(y==="string")b.stringData.forEach((T,_)=>{w.data[_]=(0,g.decodeUtf8String)(T)});else if(b.rawData&&typeof b.rawData.byteLength=="number"&&b.rawData.byteLength>0){const T=w.data,_=new DataView(b.rawData.buffer,b.rawData.byteOffset,b.rawData.byteLength),x=t(b.dataType),A=b.rawData.byteLength/x;if(b.rawData.byteLength%x!=0)throw new Error("invalid buffer length");if(T.length!==A)throw new Error("buffer length mismatch");for(let $=0;$<A;$++){const S=s(_,b.dataType,$*x);T[$]=S}}else{let T;switch(b.dataType){case u.onnx.TensorProto.DataType.FLOAT:T=b.floatData;break;case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.INT16:case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.BOOL:T=b.int32Data;break;case u.onnx.TensorProto.DataType.INT64:T=b.int64Data;break;case u.onnx.TensorProto.DataType.DOUBLE:T=b.doubleData;break;case u.onnx.TensorProto.DataType.UINT32:case u.onnx.TensorProto.DataType.UINT64:T=b.uint64Data;break;default:throw new Error("unspecific error")}if(T==null)throw new Error("failed to populate data from a tensorproto value");const _=w.data;if(_.length!==T.length)throw new Error("array length mismatch");for(let x=0;x<T.length;x++){const A=T[x];f.default.isLong(A)?_[x]=i(A,b.dataType):_[x]=A}}return w}static fromData(b,y,v){return new c(y,v,void 0,void 0,b)}static fromOrtTensor(b){if(!b)throw new Error("cannot construct Value from an empty tensor");const y=g.ProtoUtil.tensorDimsFromORTFormat(b),v=g.ProtoUtil.tensorDataTypeFromProto(b.dataType()),w=new c(y,v);if(v==="string")for(let T=0;T<b.stringDataLength();T++)w.data[T]=b.stringData(T);else if(b.rawDataArray()&&typeof b.rawDataLength()=="number"&&b.rawDataLength()>0){const T=w.data,_=new DataView(b.rawDataArray().buffer,b.rawDataArray().byteOffset,b.rawDataLength()),x=t(b.dataType()),A=b.rawDataLength()/x;if(b.rawDataLength()%x!=0)throw new Error("invalid buffer length");if(T.length!==A)throw new Error("buffer length mismatch");for(let $=0;$<A;$++){const S=s(_,b.dataType(),$*x);T[$]=S}}return w}}function t(m){switch(m){case u.onnx.TensorProto.DataType.UINT8:case u.onnx.TensorProto.DataType.INT8:case u.onnx.TensorProto.DataType.BOOL:return 1;case u.onnx.TensorProto.DataType.UINT16:case u.onnx.TensorProto.DataType.INT16:return 2;case u.onnx.TensorProto.DataType.FLOAT:case u.onnx.TensorProto.DataType.INT32:case u.onnx.TensorProto.DataType.UINT32:return 4;case u.onnx.TensorProto.DataType.INT64:case u.onnx.TensorProto.DataType.DOUBLE:case u.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${u.onnx.TensorProto.DataType[m]}`)}}function e(m){switch(m){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function i(m,b){if(b===u.onnx.TensorProto.DataType.INT64||b===d.TensorDataType.INT64){if(m.greaterThanOrEqual(2147483648)||m.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(b!==u.onnx.TensorProto.DataType.UINT32&&b!==d.TensorDataType.UINT32&&b!==u.onnx.TensorProto.DataType.UINT64&&b!==d.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${u.onnx.TensorProto.DataType[b]}`);if(m.greaterThanOrEqual(4294967296)||m.lessThan(0))throw new TypeError("uint64 is not supported")}return m.toNumber()}function s(m,b,y){switch(b){case u.onnx.TensorProto.DataType.BOOL:case u.onnx.TensorProto.DataType.UINT8:return m.getUint8(y);case u.onnx.TensorProto.DataType.INT8:return m.getInt8(y);case u.onnx.TensorProto.DataType.UINT16:return m.getUint16(y,!0);case u.onnx.TensorProto.DataType.INT16:return m.getInt16(y,!0);case u.onnx.TensorProto.DataType.FLOAT:return m.getFloat32(y,!0);case u.onnx.TensorProto.DataType.INT32:return m.getInt32(y,!0);case u.onnx.TensorProto.DataType.UINT32:return m.getUint32(y,!0);case u.onnx.TensorProto.DataType.INT64:return i(f.default.fromBits(m.getUint32(y,!0),m.getUint32(y+4,!0),!1),b);case u.onnx.TensorProto.DataType.DOUBLE:return m.getFloat64(y,!0);case u.onnx.TensorProto.DataType.UINT64:return i(f.default.fromBits(m.getUint32(y,!0),m.getUint32(y+4,!0),!0),b);default:throw new Error(`cannot read from DataView for type ${u.onnx.TensorProto.DataType[b]}`)}}n.Tensor=c},2517:function(r,n,o){var a=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeUtf8String=n.MAX_CLIP=n.MIN_CLIP=n.PoolConvUtil=n.ReduceUtil=n.SplitUtil=n.MathUtil=n.ShapeUtil=n.LongUtil=n.ProtoUtil=n.GemmUtil=n.arrayCopyHelper=n.BroadcastUtil=n.MatMulUtil=n.ArrayUtil=n.assert=n.checkInputsShape=void 0;const l=o(5686),f=a(o(3720)),u=o(1446),p=o(9162);n.checkInputsShape=function(b,...y){if(!b||b.length!==y.length)return!1;for(let v=0;v<b.length;v++)if(!b[v].dims||b[v].dims.length!==y[v])return!1;return!0},n.assert=function(b,y){if(!b)throw new Error(typeof y=="string"?y:y())},n.ArrayUtil=class{static arraysEqual(b,y){if(b.length!==y.length)return!1;for(let v=0;v<b.length;v++)if(b[v]!==y[v])return!1;return!0}};class g{static preprocessInputShapes(y,v){return[y.length===1?[1,y[0]]:y,v.length===1?[v[0],1]:v]}static postprocessOutputShape(y,v,w){v===1&&y.splice(y.length-2,1),w===1&&y.pop()}static calcMatMulShape(y,v){return y[1]!==v[0]?void 0:[y[0],v[1]]}}n.MatMulUtil=g;class d{static calcShape(y,v,w=!1){const T=y.length,_=v.length;if(T===0)return v;if(_===0)return y;const x=Math.max(y.length,v.length),A=new Array(x);if(w){if(T<2||_<2)return;const $=g.calcMatMulShape([y[T-2],y[T-1]],[v[_-2],v[_-1]]);if($===void 0)return;[A[x-2],A[x-1]]=$}for(let $=w?3:1;$<=x;$++){const S=T-$<0?1:y[T-$],k=_-$<0?1:v[_-$];if(S!==k&&S>1&&k>1)return;A[x-$]=Math.max(S,k)}return A}static index(y,v){const w=new Array(v.length);return d.fillIndex(y,v,w),w}static fillIndex(y,v,w){const T=y.length-v.length;for(let _=0;_<v.length;_++)w[_]=y[T+_]%v[_]}static calc(y,v,w,T,_){const x=d.calcShape(y.dims,v.dims);if(x){if(T&&!e.areEqual(x,y.dims))return;const A=e.size(x),$=T?y:new p.Tensor(x,_||y.type);if(x.length===0)$.set([],w(y.get([]),v.get([])));else{const S=new Array(x.length),k=new Array(y.dims.length),V=new Array(v.dims.length);let oe,Y=0,ie=0,z=!1,M=!1;y.dims.length===0&&(Y=y.get([]),z=!0),v.dims.length===0&&(ie=v.get([]),M=!0);for(let re=0;re<A;re++){oe=re;for(let Ne=x.length-1;Ne>=0;Ne--)S[Ne]=oe%x[Ne],oe=Math.floor(oe/x[Ne]);z||(d.fillIndex(S,y.dims,k),Y=y.get(k)),M||(d.fillIndex(S,v.dims,V),ie=v.get(V)),$.set(S,w(Y,ie))}}return $}}static isValidBroadcast(y,v){const w=y.length,T=v.length;if(w>T)return!1;for(let _=1;_<=w;_++)if(y[w-_]!==1&&y[w-_]!==v[T-_])return!1;return!0}static getBroadcastDims(y,v){const w=y.length,T=[];for(let _=0;_<w;_++){const x=w-1-_,A=y[x]||1;(v[v.length-1-_]||1)>1&&A===1&&T.unshift(x)}return T}}n.BroadcastUtil=d,n.arrayCopyHelper=function(b,y,v,w,T){if(w<0||w>=y.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=b.length)throw new Error("targetIndex out of bounds");if(w+T>y.length)throw new Error("source indices to be copied are outside bounds");if(v+T>b.length)throw new Error("target array is too small to hold result");for(let _=0;_<T;_++)b[v+_]=y[w+_]},n.GemmUtil=class{static getShapeOfGemmResult(b,y,v,w,T){if(b.length!==2||v.length!==2)throw new Error("shape need to be of size 2");let _,x,A;y?(_=b[1],x=b[0]):(_=b[0],x=b[1]);let $=-1;if(w?(A=v[0],$=1):(A=v[1],$=0),v[$]!==x)throw new Error("dimension mismatch");if(_<=0||A<=0||x<=0)throw new Error("invalid shape specified");if(T&&!d.isValidBroadcast(T,[_,A]))throw new Error("gemm: invalid bias shape for broadcast");return[_,A,x]}};class c{static tensorDataTypeFromProto(y){switch(y){case u.onnx.TensorProto.DataType.INT8:return"int8";case u.onnx.TensorProto.DataType.UINT8:return"uint8";case u.onnx.TensorProto.DataType.BOOL:return"bool";case u.onnx.TensorProto.DataType.INT16:return"int16";case u.onnx.TensorProto.DataType.UINT16:return"uint16";case u.onnx.TensorProto.DataType.INT32:return"int32";case u.onnx.TensorProto.DataType.UINT32:return"uint32";case u.onnx.TensorProto.DataType.FLOAT:return"float32";case u.onnx.TensorProto.DataType.DOUBLE:return"float64";case u.onnx.TensorProto.DataType.STRING:return"string";case u.onnx.TensorProto.DataType.INT64:return"int32";case u.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${u.onnx.TensorProto.DataType[y]}`)}}static tensorDataTypeStringToEnum(y){switch(y){case"int8":return u.onnx.TensorProto.DataType.INT8;case"uint8":return u.onnx.TensorProto.DataType.UINT8;case"bool":return u.onnx.TensorProto.DataType.BOOL;case"int16":return u.onnx.TensorProto.DataType.INT16;case"uint16":return u.onnx.TensorProto.DataType.UINT16;case"int32":return u.onnx.TensorProto.DataType.INT32;case"uint32":return u.onnx.TensorProto.DataType.UINT32;case"float32":return u.onnx.TensorProto.DataType.FLOAT;case"float64":return u.onnx.TensorProto.DataType.DOUBLE;case"string":return u.onnx.TensorProto.DataType.STRING;case"int64":return u.onnx.TensorProto.DataType.INT64;case"uint64":return u.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${y}`)}}static tensorDimsFromProto(y){return y.map(v=>f.default.isLong(v)?v.toNumber():v)}static tensorValueTypeFromProto(y){return{tensorType:c.tensorDataTypeFromProto(y.elemType),shape:{dims:c.tensorDimsFromProto(y.shape.dim.map(v=>v.dimValue))}}}static tensorDimsFromORTFormat(y){const v=[];for(let w=0;w<y.dimsLength();w++)v.push(t.longToNumber(y.dims(w)));return v}static tensorAttributesFromORTFormat(y){const v=[];for(let w=0;w<y.attributesLength();w++)v.push(y.attributes(w));return v}}n.ProtoUtil=c;class t{static longToNumber(y,v){return f.default.isLong(y)?y.toNumber():y instanceof l.flatbuffers.Long?f.default.fromValue({low:y.low,high:y.high,unsigned:v!=null&&v}).toNumber():y}static isLong(y){return f.default.isLong(y)||y instanceof l.flatbuffers.Long}}n.LongUtil=t;class e{static size(y){return e.getSizeFromDimensionRange(y,0,y.length)}static sizeFromDimension(y,v){if(v<0||v>y.length)throw new Error(`invalid dimension of ${v} for sizeFromDimension as Tensor has ${y.length} dimensions.`);return e.getSizeFromDimensionRange(y,v,y.length)}static sizeToDimension(y,v){if(v<0||v>y.length)throw new Error(`invalid dimension of ${v} for sizeToDimension as Tensor has ${y.length} dimensions.`);return e.getSizeFromDimensionRange(y,0,v)}static getSizeFromDimensionRange(y,v,w){let T=1;for(let _=v;_<w;_++){if(y[_]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");T*=y[_]}return T}static computeStrides(y){const v=y.length;if(v===0)return[];if(v===1)return[1];const w=new Array(v);w[v-1]=1,w[v-2]=y[v-1];for(let T=v-3;T>=0;--T)w[T]=w[T+1]*y[T+1];return w}static transpose(y){return y.slice().reverse()}static indicesToOffset(y,v,w){w===void 0&&(w=y.length);let T=0;for(let _=0;_<w;++_)T+=v[_]*y[_];return T}static offsetToIndices(y,v){const w=v.length;if(w===0)return[];if(w===1)return[y*v[0]];const T=new Array(v.length);for(let _=0;_<T.length-1;++_)T[_]=Math.floor(y/v[_]),y-=T[_]*v[_];return T[T.length-1]=y,T}static normalizeAxis(y,v){if(y<-v&&y>=v)throw new Error("unsupported axis for this operation.");return y<0?y+v:y}static normalizeAxes(y,v){return y.map(w=>this.normalizeAxis(w,v))}static incrementIndex(y,v,w){if(v.length===0||y.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(w===void 0)w=v.length;else if(w<=0||w>v.length)throw new Error("Incorrect axis to increment on");for(let T=w-1;T>=0&&(y[T]++,!(y[T]<v[T]));--T)y[T]=0}static calculateReshapedDims(y,v){if(v.length===0){if(y.length===0||e.size(y)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const w=v.length,T=new Array(w);let _=-1,x=1;for(let $=0;$<w;$++){if(v[$]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(v[$]===-1){if(_!==-1)throw new Error("at most one dimension in shape hints can be -1");_=$}else{if(v[$]===0){if($>=y.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");T[$]=y[$]}else T[$]=v[$];x*=T[$]}}const A=e.size(y);if(_!==-1){if(A%x!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${y}] Output shape: [${v}]`);T[_]=A/x}else if(x!==A)throw new Error("reshapedDims and originalDims don't have matching sizes");return T}static sortBasedOnPerm(y,v){return v?v.map(w=>y[w]):y.slice().reverse()}static padShape(y,v){const w=y.length;return y.map((T,_)=>T+v[_]+v[_+w])}static areEqual(y,v){return y.length===v.length&&y.every((w,T)=>w===v[T])}static validateDimsAndCalcSize(y){if(y.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let v=1;for(const w of y){if(!Number.isInteger(w))throw new TypeError(`Invalid shape: ${w} is not an integer`);if(w<0||w>2147483647)throw new TypeError(`Invalid shape: length ${w} is not allowed`);v*=w}return v}static flattenShape(y,v){v<0&&(v+=y.length);const w=y.reduce((_,x)=>_*x,1),T=y.slice(v).reduce((_,x)=>_*x,1);return[w/T,T]}static squeezeShape(y,v){const w=new Array;v=e.normalizeAxes(v,y.length);for(let T=0;T<y.length;T++){const _=v.indexOf(T)>=0;if(_&&y[T]!==1)throw new Error("squeeze an axis of size different than 1");(v.length===0&&y[T]>1||v.length>0&&!_)&&w.push(y[T])}return w}static unsqueezeShape(y,v){const w=new Array(y.length+v.length);w.fill(0);for(let _=0;_<v.length;_++){const x=e.normalizeAxis(v[_],w.length);if(x>=w.length)throw new Error("'axes' has an out of range axis");if(w[x]!==0)throw new Error("'axes' has a duplicate axis");w[x]=1}let T=0;for(let _=0;_<w.length;_++)w[_]===0&&(w[_]=y[T++]);if(T!==y.length)throw new Error("the unsqueezed dimension could not be established");return w}}n.ShapeUtil=e,n.MathUtil=class{static sqr(b,y,v,w,T){if(w<0||w>=y.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=b.length)throw new Error("targetIndex out of bounds");if(w+T>y.length)throw new Error("source indices to be copied are outside bounds");if(v+T>b.length)throw new Error("target array is too small to hold result");for(let _=0;_<T;_++)b[v+_]+=Math.pow(y[w+_],2)}static axpy(b,y,v,w,T,_){if(w<0||w>=y.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=b.length)throw new Error("targetIndex out of bounds");if(w+T>y.length)throw new Error("source indices to be copied are outside bounds");if(v+T>b.length)throw new Error("target array is too small to hold result");for(let x=0;x<T;x++)b[v+x]+=_*y[w+x]}static powx(b,y,v,w,T,_){if(w<0||w>=y.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=b.length)throw new Error("targetIndex out of bounds");if(w+T>y.length)throw new Error("source indices to be copied are outside bounds");if(v+T>b.length)throw new Error("target array is too small to hold result");for(let x=0;x<T;x++)b[v+x]=Math.pow(y[w+x],_)}static mul(b,y,v,w,T){if(w<0||w>=y.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=b.length)throw new Error("targetIndex out of bounds");if(w+T>y.length)throw new Error("source indices to be copied are outside bounds");if(v+T>b.length)throw new Error("target array is too small to hold result");for(let _=0;_<T;_++)b[v+_]=y[w+_]*b[v+_]}};class i{static splitShape(y,v,w,T){if(w.length===0){if(!T)throw new Error("need to know number of outputs when the 'split' attribute is not specified");i.determineSplit(y[v],T,w)}const _=[],x=[0];for(let A=0;A<w.length;++A){A!==0&&x.push(x[A-1]+w[A-1]);const $=y.slice();$[v]=w[A],_.push($)}return[_,x]}static determineSplit(y,v,w){if(y%v!=0)throw new Error("cannot split tensor to equal sized parts");for(let T=0;T<v;++T)w.push(y/v)}}n.SplitUtil=i;class s{static calcReduce(y,v,w,T,_){const x=y.dims.slice(0);v.length===0&&x.forEach((Y,ie)=>v.push(ie));const A=s.calcReduceShape(x,v,!0),$=e.size(A),S=new p.Tensor(A,y.type),k=e.computeStrides(A),V=e.computeStrides(x),oe=new Array(x.length);for(let Y=0;Y<$;Y++){const ie=e.offsetToIndices(Y,k);d.fillIndex(ie,x,oe),S.set(ie,s.calcReduceByAxis(y.numberData,v,x,0,e.indicesToOffset(oe,V),T,_))}return w?S:new p.Tensor(s.calcReduceShape(x,v,w),S.type,void 0,void 0,S.data,S.dataId)}static calcReduceByAxis(y,v,w,T,_,x,A){let $=0;if(T>=v.length)return x(y[_]);const S=v[T],k=S>=w.length?1:e.size(w.slice(S+1));for(let V=0;V<w[S];V++)$=V===0?s.calcReduceByAxis(y,v,w,T+1,_,x,A):A($,s.calcReduceByAxis(y,v,w,T+1,_,x,A)),_+=k;return $}static calcReduceShape(y,v,w){const T=y.slice();for(let _=0;_<v.length;_++)T[v[_]]=w?1:0;return T.filter(_=>_!==0)}}n.ReduceUtil=s;class m{static adjustPoolAttributes(y,v,w,T,_,x){if(!y&&w.length!==v.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(y)for(let A=0;A<v.length-2;A++)A>=w.length?w.push(v[A+2]):w[A]=v[A+2];for(let A=0;A<w.length;A++)if(A<T.length){if(T[A]<0)throw new Error("strides should be greater than or equal to 1")}else T.push(1);for(let A=0;A<w.length;A++)if(A<_.length){if(_[A]<0)throw new Error("dilations should be greater than or equal to 1")}else _.push(1);for(let A=0;A<2*w.length;A++)if(A<x.length){if(x[A]<0)throw new Error("pad should be greater than or equal to 1")}else x.push(0);for(let A=0;A<w.length;A++){if(w[A]<=0)throw new Error("kernel shapes need to be greater than 0");if(x[A]>=w[A]||x[A+w.length]>=w[A])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(y,v,w,T,_,x){if(x){if(_.length!==2*(y.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(v.length!==y.length-2)throw new Error("length of strides should be the length of data dimensions");if(T.length!==y.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let A=0;A<y.length-2;A++)m.adjustPadAndReturnShape(y[A+2],v[A],w[A],T[A],_,A,A+y.length-2,x)}}static computePoolOutputShape(y,v,w,T,_,x,A){if(v.length<=0)throw new Error("input shape must be of size greater than 0");const $=[v[0],v[1]];return m.computeShapeHelper(y,v,$,w,T,_,x,A),$}static computeConvOutputShape(y,v,w,T,_,x,A){if(y.length<=0||v.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const $=[y[0],v[0]];return m.computeShapeHelper(!1,y,$,w,T,_,x,A),$}static computeShapeHelper(y,v,w,T,_,x,A,$){if(y)for(let S=0;S<v.length-2;S++)w.push(1);else for(let S=0;S<v.length-2;S++)w.push(m.adjustPadAndReturnShape(v[S+2],T[S],_[S],x[S],A,S,S+v.length-2,$))}static adjustPadAndReturnShape(y,v,w,T,_,x,A,$){const S=w*(T-1)+1;if(!$||$==="NOTSET")return Math.floor((y+_[x]+_[A]-S)/v+1);switch($){case"VALID":return _[x]=0,_[A]=0,Math.floor((y-S)/v+1);case"SAME_LOWER":case"SAME_UPPER":if(w!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const k=((y+v-1)/v-1)*v+T-y;return _[x]=Math.floor($==="SAME_LOWER"?(k+1)/2:k/2),_[A]=k-_[x],Math.floor((y+k-T)/v+1)}default:throw new Error("Unsupported AutoPad type")}}}n.PoolConvUtil=m,n.MIN_CLIP=-34028234663852886e22,n.MAX_CLIP=34028234663852886e22,n.decodeUtf8String=function(b){return new TextDecoder().decode(b)}},7967:(r,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.iterateExtraOptions=void 0,n.iterateExtraOptions=(o,a,l,f)=>{if(typeof o=="object"&&o!==null){if(l.has(o))throw new Error("Circular reference in options");l.add(o)}Object.entries(o).forEach(([u,p])=>{const g=a?a+u:u;if(typeof p=="object")(0,n.iterateExtraOptions)(p,g+".",l,f);else if(typeof p=="string"||typeof p=="number")f(g,p.toString());else{if(typeof p!="boolean")throw new Error("Can't handle extra config type: "+typeof p);f(g,p?"1":"0")}})}},2157:function(r,n,o){var a,l=this&&this.__createBinding||(Object.create?function(k,V,oe,Y){Y===void 0&&(Y=oe);var ie=Object.getOwnPropertyDescriptor(V,oe);ie&&!("get"in ie?!V.__esModule:ie.writable||ie.configurable)||(ie={enumerable:!0,get:function(){return V[oe]}}),Object.defineProperty(k,Y,ie)}:function(k,V,oe,Y){Y===void 0&&(Y=oe),k[Y]=V[oe]}),f=this&&this.__setModuleDefault||(Object.create?function(k,V){Object.defineProperty(k,"default",{enumerable:!0,value:V})}:function(k,V){k.default=V}),u=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var V={};if(k!=null)for(var oe in k)oe!=="default"&&Object.prototype.hasOwnProperty.call(k,oe)&&l(V,k,oe);return f(V,k),V};Object.defineProperty(n,"__esModule",{value:!0}),n.endProfiling=n.run=n.releaseSession=n.createSession=n.createSessionFinalize=n.createSessionAllocate=n.initOrt=n.initWasm=void 0;const p=o(1670),g=u(o(349)),d=o(6361),c=()=>!!p.env.wasm.proxy&&typeof document<"u";let t,e,i,s=!1,m=!1,b=!1;const y=[],v=[],w=[],T=[],_=[],x=[],A=()=>{if(s||!m||b||!t)throw new Error("worker not ready")},$=k=>{switch(k.data.type){case"init-wasm":s=!1,k.data.err?(b=!0,e[1](k.data.err)):(m=!0,e[0]());break;case"init-ort":k.data.err?i[1](k.data.err):i[0]();break;case"create_allocate":k.data.err?y.shift()[1](k.data.err):y.shift()[0](k.data.out);break;case"create_finalize":k.data.err?v.shift()[1](k.data.err):v.shift()[0](k.data.out);break;case"create":k.data.err?w.shift()[1](k.data.err):w.shift()[0](k.data.out);break;case"release":k.data.err?T.shift()[1](k.data.err):T.shift()[0]();break;case"run":k.data.err?_.shift()[1](k.data.err):_.shift()[0](k.data.out);break;case"end-profiling":k.data.err?x.shift()[1](k.data.err):x.shift()[0]()}},S=typeof document<"u"?(a=document==null?void 0:document.currentScript)===null||a===void 0?void 0:a.src:void 0;n.initWasm=async()=>{if(c()){if(m)return;if(s)throw new Error("multiple calls to 'initWasm()' detected.");if(b)throw new Error("previous call to 'initWasm()' failed.");return s=!0,p.env.wasm.wasmPaths===void 0&&S&&S.indexOf("blob:")!==0&&(p.env.wasm.wasmPaths=S.substr(0,+S.lastIndexOf("/")+1)),new Promise((k,V)=>{t==null||t.terminate(),t=o(9710).Z(),t.onmessage=$,e=[k,V];const oe={type:"init-wasm",in:p.env.wasm};t.postMessage(oe)})}return(0,d.initializeWebAssembly)(p.env.wasm)},n.initOrt=async(k,V)=>{if(c())return A(),new Promise((oe,Y)=>{i=[oe,Y];const ie={type:"init-ort",in:{numThreads:k,loggingLevel:V}};t.postMessage(ie)});g.initOrt(k,V)},n.createSessionAllocate=async k=>c()?(A(),new Promise((V,oe)=>{y.push([V,oe]);const Y={type:"create_allocate",in:{model:k}};t.postMessage(Y,[k.buffer])})):g.createSessionAllocate(k),n.createSessionFinalize=async(k,V)=>c()?(A(),new Promise((oe,Y)=>{v.push([oe,Y]);const ie={type:"create_finalize",in:{modeldata:k,options:V}};t.postMessage(ie)})):g.createSessionFinalize(k,V),n.createSession=async(k,V)=>c()?(A(),new Promise((oe,Y)=>{w.push([oe,Y]);const ie={type:"create",in:{model:k,options:V}};t.postMessage(ie,[k.buffer])})):g.createSession(k,V),n.releaseSession=async k=>{if(c())return A(),new Promise((V,oe)=>{T.push([V,oe]);const Y={type:"release",in:k};t.postMessage(Y)});g.releaseSession(k)},n.run=async(k,V,oe,Y,ie)=>c()?(A(),new Promise((z,M)=>{_.push([z,M]);const re={type:"run",in:{sessionId:k,inputIndices:V,inputs:oe,outputIndices:Y,options:ie}};t.postMessage(re,g.extractTransferableBuffers(oe))})):g.run(k,V,oe,Y,ie),n.endProfiling=async k=>{if(c())return A(),new Promise((V,oe)=>{x.push([V,oe]);const Y={type:"end-profiling",in:k};t.postMessage(Y)});g.endProfiling(k)}},586:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setRunOptions=void 0;const a=o(7967),l=o(4983),f=o(6361);n.setRunOptions=u=>{const p=(0,f.getInstance)();let g=0;const d=[],c=u||{};try{if((u==null?void 0:u.logSeverityLevel)===void 0)c.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if((u==null?void 0:u.logVerbosityLevel)===void 0)c.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);(u==null?void 0:u.terminate)===void 0&&(c.terminate=!1);let t=0;if((u==null?void 0:u.tag)!==void 0&&(t=(0,l.allocWasmString)(u.tag,d)),g=p._OrtCreateRunOptions(c.logSeverityLevel,c.logVerbosityLevel,!!c.terminate,t),g===0)throw new Error("Can't create run options");return(u==null?void 0:u.extra)!==void 0&&(0,a.iterateExtraOptions)(u.extra,"",new WeakSet,(e,i)=>{const s=(0,l.allocWasmString)(e,d),m=(0,l.allocWasmString)(i,d);if(p._OrtAddRunConfigEntry(g,s,m)!==0)throw new Error(`Can't set a run config entry: ${e} - ${i}`)}),[g,d]}catch(t){throw g!==0&&p._OrtReleaseRunOptions(g),d.forEach(p._free),t}}},2306:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxruntimeWebAssemblySessionHandler=void 0;const a=o(2806),l=o(1670),f=o(2850),u=o(2157);let p;n.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(g){const d=await fetch(g),c=await d.arrayBuffer();return(0,u.createSessionAllocate)(new Uint8Array(c))}async loadModel(g,d){if(p||(await(0,u.initOrt)(l.env.wasm.numThreads,(c=>{switch(c){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${c}`)}})(l.env.logLevel)),p=!0),typeof g=="string")if(typeof fetch>"u"){const c=await(0,f.promisify)(a.readFile)(g);[this.sessionId,this.inputNames,this.outputNames]=await(0,u.createSession)(c,d)}else{const c=await this.createSessionAllocate(g);[this.sessionId,this.inputNames,this.outputNames]=await(0,u.createSessionFinalize)(c,d)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,u.createSession)(g,d)}async dispose(){return(0,u.releaseSession)(this.sessionId)}async run(g,d,c){const t=[],e=[];Object.entries(g).forEach(b=>{const y=b[0],v=b[1],w=this.inputNames.indexOf(y);if(w===-1)throw new Error(`invalid input '${y}'`);t.push(v),e.push(w)});const i=[];Object.entries(d).forEach(b=>{const y=b[0],v=this.outputNames.indexOf(y);if(v===-1)throw new Error(`invalid output '${y}'`);i.push(v)});const s=await(0,u.run)(this.sessionId,e,t.map(b=>[b.type,b.dims,b.data]),i,c),m={};for(let b=0;b<s.length;b++)m[this.outputNames[i[b]]]=new l.Tensor(s[b][0],s[b][2],s[b][1]);return m}startProfiling(){}endProfiling(){(0,u.endProfiling)(this.sessionId)}}},4919:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setSessionOptions=void 0;const a=o(7967),l=o(4983),f=o(6361);n.setSessionOptions=u=>{const p=(0,f.getInstance)();let g=0;const d=[],c=u||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(c);try{(u==null?void 0:u.graphOptimizationLevel)===void 0&&(c.graphOptimizationLevel="all");const t=(s=>{switch(s){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${s}`)}})(c.graphOptimizationLevel);(u==null?void 0:u.enableCpuMemArena)===void 0&&(c.enableCpuMemArena=!0),(u==null?void 0:u.enableMemPattern)===void 0&&(c.enableMemPattern=!0),(u==null?void 0:u.executionMode)===void 0&&(c.executionMode="sequential");const e=(s=>{switch(s){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${s}`)}})(c.executionMode);let i=0;if((u==null?void 0:u.logId)!==void 0&&(i=(0,l.allocWasmString)(u.logId,d)),(u==null?void 0:u.logSeverityLevel)===void 0)c.logSeverityLevel=2;else if(typeof u.logSeverityLevel!="number"||!Number.isInteger(u.logSeverityLevel)||u.logSeverityLevel<0||u.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${u.logSeverityLevel}`);if((u==null?void 0:u.logVerbosityLevel)===void 0)c.logVerbosityLevel=0;else if(typeof u.logVerbosityLevel!="number"||!Number.isInteger(u.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${u.logVerbosityLevel}`);if((u==null?void 0:u.enableProfiling)===void 0&&(c.enableProfiling=!1),g=p._OrtCreateSessionOptions(t,!!c.enableCpuMemArena,!!c.enableMemPattern,e,!!c.enableProfiling,0,i,c.logSeverityLevel,c.logVerbosityLevel),g===0)throw new Error("Can't create session options");return u!=null&&u.executionProviders&&((s,m,b)=>{for(const y of m){let v=typeof y=="string"?y:y.name;switch(v){case"xnnpack":v="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${v}`)}const w=(0,l.allocWasmString)(v,b);if((0,f.getInstance)()._OrtAppendExecutionProvider(s,w)!==0)throw new Error(`Can't append execution provider: ${v}`)}})(g,u.executionProviders,d),(u==null?void 0:u.extra)!==void 0&&(0,a.iterateExtraOptions)(u.extra,"",new WeakSet,(s,m)=>{const b=(0,l.allocWasmString)(s,d),y=(0,l.allocWasmString)(m,d);if(p._OrtAddSessionConfigEntry(g,b,y)!==0)throw new Error(`Can't set a session config entry: ${s} - ${m}`)}),[g,d]}catch(t){throw g!==0&&p._OrtReleaseSessionOptions(g),d.forEach(p._free),t}}},4983:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.allocWasmString=void 0;const a=o(6361);n.allocWasmString=(l,f)=>{const u=(0,a.getInstance)(),p=u.lengthBytesUTF8(l)+1,g=u._malloc(p);return u.stringToUTF8(l,g,p),f.push(g),g}},349:(r,n,o)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.extractTransferableBuffers=n.endProfiling=n.run=n.releaseSession=n.createSession=n.createSessionFinalize=n.createSessionAllocate=n.initOrt=void 0;const a=o(586),l=o(4919),f=o(4983),u=o(6361);n.initOrt=(t,e)=>{const i=(0,u.getInstance)()._OrtInit(t,e);if(i!==0)throw new Error(`Can't initialize onnxruntime. error code = ${i}`)};const p=new Map;n.createSessionAllocate=t=>{const e=(0,u.getInstance)(),i=e._malloc(t.byteLength);return e.HEAPU8.set(t,i),[i,t.byteLength]},n.createSessionFinalize=(t,e)=>{const i=(0,u.getInstance)();let s=0,m=0,b=[];try{if([m,b]=(0,l.setSessionOptions)(e),s=i._OrtCreateSession(t[0],t[1],m),s===0)throw new Error("Can't create a session")}finally{i._free(t[0]),i._OrtReleaseSessionOptions(m),b.forEach(i._free)}const y=i._OrtGetInputCount(s),v=i._OrtGetOutputCount(s),w=[],T=[],_=[],x=[];for(let A=0;A<y;A++){const $=i._OrtGetInputName(s,A);if($===0)throw new Error("Can't get an input name");T.push($),w.push(i.UTF8ToString($))}for(let A=0;A<v;A++){const $=i._OrtGetOutputName(s,A);if($===0)throw new Error("Can't get an output name");x.push($),_.push(i.UTF8ToString($))}return p.set(s,[s,T,x]),[s,w,_]},n.createSession=(t,e)=>{const i=(0,n.createSessionAllocate)(t);return(0,n.createSessionFinalize)(i,e)},n.releaseSession=t=>{const e=(0,u.getInstance)(),i=p.get(t);if(!i)throw new Error("invalid session id");const s=i[0],m=i[1],b=i[2];m.forEach(e._OrtFree),b.forEach(e._OrtFree),e._OrtReleaseSession(s),p.delete(t)};const g=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},d=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},c=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};n.run=(t,e,i,s,m)=>{const b=(0,u.getInstance)(),y=p.get(t);if(!y)throw new Error("invalid session id");const v=y[0],w=y[1],T=y[2],_=e.length,x=s.length;let A=0,$=[];const S=[],k=[];try{[A,$]=(0,a.setRunOptions)(m);for(let M=0;M<_;M++){const re=i[M][0],Ne=i[M][1],pe=i[M][2];let Ve,Et;if(Array.isArray(pe)){Et=4*pe.length,Ve=b._malloc(Et),k.push(Ve);let _n=Ve/4;for(let At=0;At<pe.length;At++){if(typeof pe[At]!="string")throw new TypeError(`tensor data at index ${At} is not a string`);b.HEAPU32[_n++]=(0,f.allocWasmString)(pe[At],k)}}else Et=pe.byteLength,Ve=b._malloc(Et),k.push(Ve),b.HEAPU8.set(new Uint8Array(pe.buffer,pe.byteOffset,Et),Ve);const Fe=b.stackSave(),Dt=b.stackAlloc(4*Ne.length);try{let _n=Dt/4;Ne.forEach(Pn=>b.HEAP32[_n++]=Pn);const At=b._OrtCreateTensor(g(re),Ve,Et,Dt,Ne.length);if(At===0)throw new Error("Can't create a tensor");S.push(At)}finally{b.stackRestore(Fe)}}const V=b.stackSave(),oe=b.stackAlloc(4*_),Y=b.stackAlloc(4*_),ie=b.stackAlloc(4*x),z=b.stackAlloc(4*x);try{let M=oe/4,re=Y/4,Ne=ie/4,pe=z/4;for(let Fe=0;Fe<_;Fe++)b.HEAPU32[M++]=S[Fe],b.HEAPU32[re++]=w[e[Fe]];for(let Fe=0;Fe<x;Fe++)b.HEAPU32[Ne++]=0,b.HEAPU32[pe++]=T[s[Fe]];let Ve=b._OrtRun(v,Y,oe,_,z,x,ie,A);const Et=[];if(Ve===0)for(let Fe=0;Fe<x;Fe++){const Dt=b.HEAPU32[ie/4+Fe],_n=b.stackSave(),At=b.stackAlloc(16);let Pn,Ue=0;try{if(Ve=b._OrtGetTensorData(Dt,At,At+4,At+8,At+12),Ve!==0)throw new Error(`Can't access output tensor data. error code = ${Ve}`);let $n=At/4;const Jn=b.HEAPU32[$n++];Ue=b.HEAPU32[$n++];const Dn=b.HEAPU32[$n++],Nn=b.HEAPU32[$n++],Wn=[];for(let Rn=0;Rn<Nn;Rn++)Wn.push(b.HEAPU32[Dn/4+Rn]);b._OrtFree(Dn);const Un=Wn.length===0?1:Wn.reduce((Rn,er)=>Rn*er);if(Pn=d(Jn),Pn==="string"){const Rn=[];let er=Ue/4;for(let tr=0;tr<Un;tr++){const Zn=b.HEAPU32[er++],Tn=tr===Un-1?void 0:b.HEAPU32[er]-Zn;Rn.push(b.UTF8ToString(Zn,Tn))}Et.push([Pn,Wn,Rn])}else{const Rn=new(c(Pn))(Un);new Uint8Array(Rn.buffer,Rn.byteOffset,Rn.byteLength).set(b.HEAPU8.subarray(Ue,Ue+Rn.byteLength)),Et.push([Pn,Wn,Rn])}}finally{b.stackRestore(_n),Pn==="string"&&Ue&&b._free(Ue),b._OrtReleaseTensor(Dt)}}if(Ve===0)return Et;throw new Error(`failed to call OrtRun(). error code = ${Ve}.`)}finally{b.stackRestore(V)}}finally{S.forEach(b._OrtReleaseTensor),k.forEach(b._free),b._OrtReleaseRunOptions(A),$.forEach(b._free)}},n.endProfiling=t=>{const e=(0,u.getInstance)(),i=p.get(t);if(!i)throw new Error("invalid session id");const s=i[0],m=e._OrtEndProfiling(s);if(m===0)throw new Error("Can't get an profile file name");e._OrtFree(m)},n.extractTransferableBuffers=t=>{const e=[];for(const i of t){const s=i[2];!Array.isArray(s)&&s.buffer&&e.push(s.buffer)}return e}},6361:function(r,n,o){var a=this&&this.__createBinding||(Object.create?function(m,b,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(b,y);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[y]}}),Object.defineProperty(m,v,w)}:function(m,b,y,v){v===void 0&&(v=y),m[v]=b[y]}),l=this&&this.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),f=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var b={};if(m!=null)for(var y in m)y!=="default"&&Object.prototype.hasOwnProperty.call(m,y)&&a(b,m,y);return l(b,m),b},u=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(n,"__esModule",{value:!0}),n.dispose=n.getInstance=n.initializeWebAssembly=void 0;const p=f(o(6449)),g=u(o(932)),d=o(3474);let c,t=!1,e=!1,i=!1;const s=(m,b)=>b?m?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":m?"ort-wasm-simd.wasm":"ort-wasm.wasm";n.initializeWebAssembly=async m=>{if(t)return Promise.resolve();if(e)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(i)throw new Error("previous call to 'initializeWebAssembly()' failed.");e=!0;const b=m.initTimeout,y=m.numThreads,v=m.simd,w=y>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),T=v&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),_=typeof m.wasmPaths=="string"?m.wasmPaths:void 0,x=s(!1,w),A=s(T,w),$=typeof m.wasmPaths=="object"?m.wasmPaths[A]:void 0;let S=!1;const k=[];if(b>0&&k.push(new Promise(V=>{setTimeout(()=>{S=!0,V()},b)})),k.push(new Promise((V,oe)=>{const Y=w?d:g.default,ie={locateFile:(z,M)=>w&&z.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([o(4154)],{type:"text/javascript"})):z===x?$??(_??M)+A:M+z};if(w)if(typeof Blob>"u")ie.mainScriptUrlOrBlob=p.join("/","ort-wasm-threaded.js");else{const z=`var ortWasmThreaded=(function(){var _scriptDir;return ${Y.toString()}})();`;ie.mainScriptUrlOrBlob=new Blob([z],{type:"text/javascript"})}Y(ie).then(z=>{e=!1,t=!0,c=z,V()},z=>{e=!1,i=!0,oe(z)})})),await Promise.race(k),S)throw new Error(`WebAssembly backend initializing failed due to timeout: ${b}ms`)},n.getInstance=()=>{if(t&&c)return c;throw new Error("WebAssembly is not initialized yet.")},n.dispose=()=>{var m;!t||e||i||(e=!0,(m=c.PThread)===null||m===void 0||m.terminateAllThreads(),c=void 0,e=!1,t=!1,i=!0)}},9710:(r,n,o)=>{o.d(n,{Z:()=>f});var a=o(477),l=o.n(a);function f(){return l()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:r=>{r.exports=function(n,o,a,l){var f=self||window;try{try{var u;try{u=new f.Blob([n])}catch{(u=new(f.BlobBuilder||f.WebKitBlobBuilder||f.MozBlobBuilder||f.MSBlobBuilder)).append(n),u=u.getBlob()}var p=f.URL||f.webkitURL,g=p.createObjectURL(u),d=new f[o](g,a);return p.revokeObjectURL(g),d}catch{return new f[o]("data:application/javascript,".concat(encodeURIComponent(n)),a)}}catch{if(!l)throw Error("Inline worker is not supported");return new f[o](l,a)}}},4154:r=>{r.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:r=>{r.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(r,n,o)=>{o.r(n),o.d(n,{flatbuffers:()=>a});var a={};a.Offset,a.Table,a.SIZEOF_SHORT=2,a.SIZEOF_INT=4,a.FILE_IDENTIFIER_LENGTH=4,a.SIZE_PREFIX_LENGTH=4,a.Encoding={UTF8_BYTES:1,UTF16_STRING:2},a.int32=new Int32Array(2),a.float32=new Float32Array(a.int32.buffer),a.float64=new Float64Array(a.int32.buffer),a.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,a.Long=function(l,f){this.low=0|l,this.high=0|f},a.Long.create=function(l,f){return l==0&&f==0?a.Long.ZERO:new a.Long(l,f)},a.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},a.Long.prototype.equals=function(l){return this.low==l.low&&this.high==l.high},a.Long.ZERO=new a.Long(0,0),a.Builder=function(l){if(l)f=l;else var f=1024;this.bb=a.ByteBuffer.allocate(f),this.space=f,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},a.Builder.prototype.forceDefaults=function(l){this.force_defaults=l},a.Builder.prototype.dataBuffer=function(){return this.bb},a.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},a.Builder.prototype.prep=function(l,f){l>this.minalign&&(this.minalign=l);for(var u=1+~(this.bb.capacity()-this.space+f)&l-1;this.space<u+l+f;){var p=this.bb.capacity();this.bb=a.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-p}this.pad(u)},a.Builder.prototype.pad=function(l){for(var f=0;f<l;f++)this.bb.writeInt8(--this.space,0)},a.Builder.prototype.writeInt8=function(l){this.bb.writeInt8(this.space-=1,l)},a.Builder.prototype.writeInt16=function(l){this.bb.writeInt16(this.space-=2,l)},a.Builder.prototype.writeInt32=function(l){this.bb.writeInt32(this.space-=4,l)},a.Builder.prototype.writeInt64=function(l){this.bb.writeInt64(this.space-=8,l)},a.Builder.prototype.writeFloat32=function(l){this.bb.writeFloat32(this.space-=4,l)},a.Builder.prototype.writeFloat64=function(l){this.bb.writeFloat64(this.space-=8,l)},a.Builder.prototype.addInt8=function(l){this.prep(1,0),this.writeInt8(l)},a.Builder.prototype.addInt16=function(l){this.prep(2,0),this.writeInt16(l)},a.Builder.prototype.addInt32=function(l){this.prep(4,0),this.writeInt32(l)},a.Builder.prototype.addInt64=function(l){this.prep(8,0),this.writeInt64(l)},a.Builder.prototype.addFloat32=function(l){this.prep(4,0),this.writeFloat32(l)},a.Builder.prototype.addFloat64=function(l){this.prep(8,0),this.writeFloat64(l)},a.Builder.prototype.addFieldInt8=function(l,f,u){(this.force_defaults||f!=u)&&(this.addInt8(f),this.slot(l))},a.Builder.prototype.addFieldInt16=function(l,f,u){(this.force_defaults||f!=u)&&(this.addInt16(f),this.slot(l))},a.Builder.prototype.addFieldInt32=function(l,f,u){(this.force_defaults||f!=u)&&(this.addInt32(f),this.slot(l))},a.Builder.prototype.addFieldInt64=function(l,f,u){!this.force_defaults&&f.equals(u)||(this.addInt64(f),this.slot(l))},a.Builder.prototype.addFieldFloat32=function(l,f,u){(this.force_defaults||f!=u)&&(this.addFloat32(f),this.slot(l))},a.Builder.prototype.addFieldFloat64=function(l,f,u){(this.force_defaults||f!=u)&&(this.addFloat64(f),this.slot(l))},a.Builder.prototype.addFieldOffset=function(l,f,u){(this.force_defaults||f!=u)&&(this.addOffset(f),this.slot(l))},a.Builder.prototype.addFieldStruct=function(l,f,u){f!=u&&(this.nested(f),this.slot(l))},a.Builder.prototype.nested=function(l){if(l!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},a.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},a.Builder.prototype.slot=function(l){this.vtable[l]=this.offset()},a.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},a.Builder.growByteBuffer=function(l){var f=l.capacity();if(3221225472&f)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var u=f<<1,p=a.ByteBuffer.allocate(u);return p.setPosition(u-f),p.bytes().set(l.bytes(),u-f),p},a.Builder.prototype.addOffset=function(l){this.prep(a.SIZEOF_INT,0),this.writeInt32(this.offset()-l+a.SIZEOF_INT)},a.Builder.prototype.startObject=function(l){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=l;for(var f=0;f<l;f++)this.vtable[f]=0;this.isNested=!0,this.object_start=this.offset()},a.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var l=this.offset(),f=this.vtable_in_use-1;f>=0&&this.vtable[f]==0;f--);for(var u=f+1;f>=0;f--)this.addInt16(this.vtable[f]!=0?l-this.vtable[f]:0);this.addInt16(l-this.object_start);var p=(u+2)*a.SIZEOF_SHORT;this.addInt16(p);var g=0,d=this.space;e:for(f=0;f<this.vtables.length;f++){var c=this.bb.capacity()-this.vtables[f];if(p==this.bb.readInt16(c)){for(var t=a.SIZEOF_SHORT;t<p;t+=a.SIZEOF_SHORT)if(this.bb.readInt16(d+t)!=this.bb.readInt16(c+t))continue e;g=this.vtables[f];break}}return g?(this.space=this.bb.capacity()-l,this.bb.writeInt32(this.space,g-l)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-l,this.offset()-l)),this.isNested=!1,l},a.Builder.prototype.finish=function(l,f,u){var p=u?a.SIZE_PREFIX_LENGTH:0;if(f){var g=f;if(this.prep(this.minalign,a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH+p),g.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var d=a.FILE_IDENTIFIER_LENGTH-1;d>=0;d--)this.writeInt8(g.charCodeAt(d))}this.prep(this.minalign,a.SIZEOF_INT+p),this.addOffset(l),p&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},a.Builder.prototype.finishSizePrefixed=function(l,f){this.finish(l,f,!0)},a.Builder.prototype.requiredField=function(l,f){var u=this.bb.capacity()-l,p=u-this.bb.readInt32(u);if(this.bb.readInt16(p+f)==0)throw new Error("FlatBuffers: field "+f+" must be set")},a.Builder.prototype.startVector=function(l,f,u){this.notNested(),this.vector_num_elems=f,this.prep(a.SIZEOF_INT,l*f),this.prep(u,l*f)},a.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},a.Builder.prototype.createString=function(l){if(l instanceof Uint8Array)var f=l;else{f=[];for(var u=0;u<l.length;){var p,g=l.charCodeAt(u++);(p=g<55296||g>=56320?g:(g<<10)+l.charCodeAt(u++)+-56613888)<128?f.push(p):(p<2048?f.push(p>>6&31|192):(p<65536?f.push(p>>12&15|224):f.push(p>>18&7|240,p>>12&63|128),f.push(p>>6&63|128)),f.push(63&p|128))}}this.addInt8(0),this.startVector(1,f.length,1),this.bb.setPosition(this.space-=f.length),u=0;for(var d=this.space,c=this.bb.bytes();u<f.length;u++)c[d++]=f[u];return this.endVector()},a.Builder.prototype.createLong=function(l,f){return a.Long.create(l,f)},a.ByteBuffer=function(l){this.bytes_=l,this.position_=0},a.ByteBuffer.allocate=function(l){return new a.ByteBuffer(new Uint8Array(l))},a.ByteBuffer.prototype.clear=function(){this.position_=0},a.ByteBuffer.prototype.bytes=function(){return this.bytes_},a.ByteBuffer.prototype.position=function(){return this.position_},a.ByteBuffer.prototype.setPosition=function(l){this.position_=l},a.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},a.ByteBuffer.prototype.readInt8=function(l){return this.readUint8(l)<<24>>24},a.ByteBuffer.prototype.readUint8=function(l){return this.bytes_[l]},a.ByteBuffer.prototype.readInt16=function(l){return this.readUint16(l)<<16>>16},a.ByteBuffer.prototype.readUint16=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8},a.ByteBuffer.prototype.readInt32=function(l){return this.bytes_[l]|this.bytes_[l+1]<<8|this.bytes_[l+2]<<16|this.bytes_[l+3]<<24},a.ByteBuffer.prototype.readUint32=function(l){return this.readInt32(l)>>>0},a.ByteBuffer.prototype.readInt64=function(l){return new a.Long(this.readInt32(l),this.readInt32(l+4))},a.ByteBuffer.prototype.readUint64=function(l){return new a.Long(this.readUint32(l),this.readUint32(l+4))},a.ByteBuffer.prototype.readFloat32=function(l){return a.int32[0]=this.readInt32(l),a.float32[0]},a.ByteBuffer.prototype.readFloat64=function(l){return a.int32[a.isLittleEndian?0:1]=this.readInt32(l),a.int32[a.isLittleEndian?1:0]=this.readInt32(l+4),a.float64[0]},a.ByteBuffer.prototype.writeInt8=function(l,f){this.bytes_[l]=f},a.ByteBuffer.prototype.writeUint8=function(l,f){this.bytes_[l]=f},a.ByteBuffer.prototype.writeInt16=function(l,f){this.bytes_[l]=f,this.bytes_[l+1]=f>>8},a.ByteBuffer.prototype.writeUint16=function(l,f){this.bytes_[l]=f,this.bytes_[l+1]=f>>8},a.ByteBuffer.prototype.writeInt32=function(l,f){this.bytes_[l]=f,this.bytes_[l+1]=f>>8,this.bytes_[l+2]=f>>16,this.bytes_[l+3]=f>>24},a.ByteBuffer.prototype.writeUint32=function(l,f){this.bytes_[l]=f,this.bytes_[l+1]=f>>8,this.bytes_[l+2]=f>>16,this.bytes_[l+3]=f>>24},a.ByteBuffer.prototype.writeInt64=function(l,f){this.writeInt32(l,f.low),this.writeInt32(l+4,f.high)},a.ByteBuffer.prototype.writeUint64=function(l,f){this.writeUint32(l,f.low),this.writeUint32(l+4,f.high)},a.ByteBuffer.prototype.writeFloat32=function(l,f){a.float32[0]=f,this.writeInt32(l,a.int32[0])},a.ByteBuffer.prototype.writeFloat64=function(l,f){a.float64[0]=f,this.writeInt32(l,a.int32[a.isLittleEndian?0:1]),this.writeInt32(l+4,a.int32[a.isLittleEndian?1:0])},a.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+a.SIZEOF_INT+a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var l="",f=0;f<a.FILE_IDENTIFIER_LENGTH;f++)l+=String.fromCharCode(this.readInt8(this.position_+a.SIZEOF_INT+f));return l},a.ByteBuffer.prototype.__offset=function(l,f){var u=l-this.readInt32(l);return f<this.readInt16(u)?this.readInt16(u+f):0},a.ByteBuffer.prototype.__union=function(l,f){return l.bb_pos=f+this.readInt32(f),l.bb=this,l},a.ByteBuffer.prototype.__string=function(l,f){l+=this.readInt32(l);var u=this.readInt32(l),p="",g=0;if(l+=a.SIZEOF_INT,f===a.Encoding.UTF8_BYTES)return this.bytes_.subarray(l,l+u);for(;g<u;){var d,c=this.readUint8(l+g++);if(c<192)d=c;else{var t=this.readUint8(l+g++);if(c<224)d=(31&c)<<6|63&t;else{var e=this.readUint8(l+g++);d=c<240?(15&c)<<12|(63&t)<<6|63&e:(7&c)<<18|(63&t)<<12|(63&e)<<6|63&this.readUint8(l+g++)}}d<65536?p+=String.fromCharCode(d):(d-=65536,p+=String.fromCharCode(55296+(d>>10),56320+(1023&d)))}return p},a.ByteBuffer.prototype.__indirect=function(l){return l+this.readInt32(l)},a.ByteBuffer.prototype.__vector=function(l){return l+this.readInt32(l)+a.SIZEOF_INT},a.ByteBuffer.prototype.__vector_len=function(l){return this.readInt32(l+this.readInt32(l))},a.ByteBuffer.prototype.__has_identifier=function(l){if(l.length!=a.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+a.FILE_IDENTIFIER_LENGTH);for(var f=0;f<a.FILE_IDENTIFIER_LENGTH;f++)if(l.charCodeAt(f)!=this.readInt8(this.position_+a.SIZEOF_INT+f))return!1;return!0},a.ByteBuffer.prototype.createLong=function(l,f){return a.Long.create(l,f)}}},__webpack_module_cache__={};function __webpack_require__(r){var n=__webpack_module_cache__[r];if(n!==void 0)return n.exports;var o=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(r,n)=>{for(var o in n)__webpack_require__.o(n,o)&&!__webpack_require__.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:n[o]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),__webpack_require__.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min);var ortWeb_minExports=ortWeb_min.exports,assetPath={};Object.defineProperty(assetPath,"__esModule",{value:!0});assetPath.baseAssetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));assetPath.baseAssetPath=basePath;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=r=>fetch(r).then(n=>n.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var frameProcessor={},logging={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.log=r.LOG_PREFIX=void 0,r.LOG_PREFIX="[VAD]";const n=["error","debug","warn"];function o(l){return(...f)=>{console[l](r.LOG_PREFIX,...f)}}const a=n.reduce((l,f)=>(l[f]=o(f),l),{});r.log=a})(logging);var messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.Message=void 0;var Message;(function(r){r.AudioFrame="AUDIO_FRAME",r.SpeechStart="SPEECH_START",r.VADMisfire="VAD_MISFIRE",r.SpeechEnd="SPEECH_END",r.SpeechStop="SPEECH_STOP"})(Message||(messages.Message=Message={}));Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const logging_1$3=logging,messages_1=messages,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function validateOptions(r){RECOMMENDED_FRAME_SAMPLES.includes(r.frameSamples)||logging_1$3.log.warn("You are using an unusual frame size"),(r.positiveSpeechThreshold<0||r.positiveSpeechThreshold>1)&&logging_1$3.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(r.negativeSpeechThreshold<0||r.negativeSpeechThreshold>r.positiveSpeechThreshold)&&logging_1$3.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),r.preSpeechPadFrames<0&&logging_1$3.log.error("preSpeechPadFrames should be positive"),r.redemptionFrames<0&&logging_1$3.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=r=>{const n=r.reduce((a,l)=>(a.push(a.at(-1)+l.length),a),[0]),o=new Float32Array(n.at(-1));return r.forEach((a,l)=>{const f=n[l];o.set(a,f)}),o};class FrameProcessor{constructor(n,o,a){this.modelProcessFunc=n,this.modelResetFunc=o,this.options=a,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>(this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment():(this.reset(),{})),this.resume=()=>{this.active=!0},this.endSegment=()=>{const l=this.audioBuffer;this.audioBuffer=[];const f=this.speaking;this.reset();const u=l.reduce((p,g)=>p+ +g.isSpeech,0);if(f)if(u>=this.options.minSpeechFrames){const p=concatArrays(l.map(g=>g.frame));return{msg:messages_1.Message.SpeechEnd,audio:p}}else return{msg:messages_1.Message.VADMisfire};return{}},this.process=async l=>{if(!this.active)return{};const f=await this.modelProcessFunc(l);if(this.audioBuffer.push({frame:l,isSpeech:f.isSpeech>=this.options.positiveSpeechThreshold}),f.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),f.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:f,msg:messages_1.Message.SpeechStart,frame:l};if(f.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const u=this.audioBuffer;if(this.audioBuffer=[],u.reduce((g,d)=>g+ +d.isSpeech,0)>=this.options.minSpeechFrames){const g=concatArrays(u.map(d=>d.frame));return{probs:f,msg:messages_1.Message.SpeechEnd,audio:g,frame:l}}else return{probs:f,msg:messages_1.Message.VADMisfire,frame:l}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:f,frame:l}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var nonRealTimeVad={},models={},common={};Object.defineProperty(common,"__esModule",{value:!0});var legacy={},_a$1;Object.defineProperty(legacy,"__esModule",{value:!0});legacy.SileroLegacy=void 0;const logging_1$2=logging;class SileroLegacy{constructor(n,o,a,l,f){this.ortInstance=n,this._session=o,this._h=a,this._c=l,this._sr=f,this.reset_state=()=>{const u=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",u,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",u,[2,1,64])},this.process=async u=>{var e;const g={input:new this.ortInstance.Tensor("float32",u,[1,u.length]),h:this._h,c:this._c,sr:this._sr},d=await this._session.run(g);this._h=d.hn,this._c=d.cn;const[c]=(e=d.output)==null?void 0:e.data;return{notSpeech:1-c,isSpeech:c}}}}legacy.SileroLegacy=SileroLegacy;_a$1=SileroLegacy;SileroLegacy.new=async(r,n)=>{logging_1$2.log.debug("initializing vad");const o=await n(),a=await r.InferenceSession.create(o),l=new r.Tensor("int64",[16000n]),f=Array(2*64).fill(0),u=new r.Tensor("float32",f,[2,1,64]),p=new r.Tensor("float32",f,[2,1,64]);return logging_1$2.log.debug("vad is initialized"),new _a$1(r,a,u,p,l)};var v5={},_a;Object.defineProperty(v5,"__esModule",{value:!0});v5.SileroV5=void 0;const logging_1$1=logging;function getNewState(r){const n=Array(256).fill(0);return new r.Tensor("float32",n,[2,1,128])}class SileroV5{constructor(n,o,a,l){this._session=n,this._state=o,this._sr=a,this.ortInstance=l,this.reset_state=()=>{this._state=getNewState(this.ortInstance)},this.process=async f=>{var t;const p={input:new this.ortInstance.Tensor("float32",f,[1,f.length]),state:this._state,sr:this._sr},g=await this._session.run(p);this._state=g.stateN;const[d]=(t=g.output)==null?void 0:t.data;return{notSpeech:1-d,isSpeech:d}}}}v5.SileroV5=SileroV5;_a=SileroV5;SileroV5.new=async(r,n)=>{logging_1$1.log.debug("Loading VAD...");const o=await n(),a=await r.InferenceSession.create(o),l=new r.Tensor("int64",[16000n]),f=getNewState(r);return logging_1$1.log.debug("...finished loading VAD"),new _a(a,f,l,r)};(function(r){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(f,u,p,g){g===void 0&&(g=p);var d=Object.getOwnPropertyDescriptor(u,p);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[p]}}),Object.defineProperty(f,g,d)}:function(f,u,p,g){g===void 0&&(g=p),f[g]=u[p]}),o=commonjsGlobal&&commonjsGlobal.__exportStar||function(f,u){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(u,p)&&n(u,f,p)};Object.defineProperty(r,"__esModule",{value:!0}),r.SileroV5=r.SileroLegacy=void 0,o(common,r);var a=legacy;Object.defineProperty(r,"SileroLegacy",{enumerable:!0,get:function(){return a.SileroLegacy}});var l=v5;Object.defineProperty(r,"SileroV5",{enumerable:!0,get:function(){return l.SileroV5}})})(models);var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor(n){this.options=n,this.process=o=>{const a=[];for(const l of o)for(this.inputBuffer.push(l);this.hasEnoughDataForFrame();){const f=this.generateOutputFrame();a.push(f)}return a},this.stream=async function*(o){for(const a of o)for(this.inputBuffer.push(a);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()},n.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const n=new Float32Array(this.options.targetFrameSize);let o=0,a=0;for(;o<this.options.targetFrameSize;){let l=0,f=0;for(;a<Math.min(this.inputBuffer.length,(o+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const u=this.inputBuffer[a];u!==void 0&&(l+=u,f++),a++}n[o]=l/f,o++}return this.inputBuffer=this.inputBuffer.slice(a),n}}resampler.Resampler=Resampler;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.PlatformAgnosticNonRealTimeVAD=r.defaultNonRealTimeVADOptions=void 0;const n=frameProcessor,o=messages,a=models,l=resampler;r.defaultNonRealTimeVADOptions={...n.defaultLegacyFrameProcessorOptions,ortConfig:void 0};class f{static async _new(p,g,d={}){const c={...r.defaultNonRealTimeVADOptions,...d};c.ortConfig!==void 0&&c.ortConfig(g);const t=new this(p,g,c);return await t.init(),t}constructor(p,g,d){this.modelFetcher=p,this.ort=g,this.options=d,this.init=async()=>{const c=await a.SileroLegacy.new(this.ort,this.modelFetcher);this.frameProcessor=new n.FrameProcessor(c.process,c.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames,submitUserSpeechOnPause:this.options.submitUserSpeechOnPause}),this.frameProcessor.resume()},this.run=async function*(c,t){const e={nativeSampleRate:t,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},i=new l.Resampler(e);let s=0,m=0,b=0;for await(const w of i.stream(c)){const{msg:T,audio:_}=await this.frameProcessor.process(w);switch(T){case o.Message.SpeechStart:s=b*this.options.frameSamples/16;break;case o.Message.SpeechEnd:m=(b+1)*this.options.frameSamples/16,yield{audio:_,start:s,end:m};break}b++}const{msg:y,audio:v}=this.frameProcessor.endSegment();y==o.Message.SpeechEnd&&(yield{audio:v,start:s,end:b*this.options.frameSamples/16})},(0,n.validateOptions)(d)}}r.PlatformAgnosticNonRealTimeVAD=f})(nonRealTimeVad);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.audioFileToArray=utils.encodeWAV=utils.arrayBufferToBase64=utils.minFramesForTargetMS=void 0;function minFramesForTargetMS(r,n,o=16e3){return Math.ceil(r*o/1e3/n)}utils.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(r){const n=new Uint8Array(r),o=n.byteLength,a=new Array(o);for(var l=0;l<o;l++){const f=n[l];if(f===void 0)break;a[l]=String.fromCharCode(f)}return btoa(a.join(""))}utils.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(r,n=3,o=16e3,a=1,l=32){var f=l/8,u=a*f,p=new ArrayBuffer(44+r.length*f),g=new DataView(p);return writeString(g,0,"RIFF"),g.setUint32(4,36+r.length*f,!0),writeString(g,8,"WAVE"),writeString(g,12,"fmt "),g.setUint32(16,16,!0),g.setUint16(20,n,!0),g.setUint16(22,a,!0),g.setUint32(24,o,!0),g.setUint32(28,o*u,!0),g.setUint16(32,u,!0),g.setUint16(34,l,!0),writeString(g,36,"data"),g.setUint32(40,r.length*f,!0),n===1?floatTo16BitPCM(g,44,r):writeFloat32(g,44,r),p}utils.encodeWAV=encodeWAV;function writeFloat32(r,n,o){for(var a=0;a<o.length;a++,n+=4)r.setFloat32(n,o[a],!0)}function floatTo16BitPCM(r,n,o){for(var a=0;a<o.length;a++,n+=2){var l=Math.max(-1,Math.min(1,o[a]));r.setInt16(n,l<0?l*32768:l*32767,!0)}}function writeString(r,n,o){for(var a=0;a<o.length;a++)r.setUint8(n+a,o.charCodeAt(a))}async function audioFileToArray(r){const n=new OfflineAudioContext(1,1,44100),o=new FileReader;let a=null;if(await new Promise(u=>{o.addEventListener("loadend",p=>{const g=o.result;n.decodeAudioData(g,d=>{a=d,n.startRendering().then(c=>{console.log("Rendering completed successfully"),u()}).catch(c=>{console.error(`Rendering failed: ${c}`)})},d=>{console.log(`Error with decoding audio data: ${d}`)})}),o.readAsArrayBuffer(r)}),a===null)throw Error("some shit");let l=a,f=new Float32Array(l.length);for(let u=0;u<l.length;u++)for(let p=0;p<l.numberOfChannels;p++)f[u]+=l.getChannelData(p)[u];return{audio:f,sampleRate:l.sampleRate}}utils.audioFileToArray=audioFileToArray;var realTimeVad={};(function(r){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(y,v,w,T){T===void 0&&(T=w);var _=Object.getOwnPropertyDescriptor(v,w);(!_||("get"in _?!v.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return v[w]}}),Object.defineProperty(y,T,_)}:function(y,v,w,T){T===void 0&&(T=w),y[T]=v[w]}),o=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(y,v){Object.defineProperty(y,"default",{enumerable:!0,value:v})}:function(y,v){y.default=v}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(y){if(y&&y.__esModule)return y;var v={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&n(v,y,w);return o(v,y),v};Object.defineProperty(r,"__esModule",{value:!0}),r.AudioNodeVAD=r.MicVAD=r.getDefaultRealTimeVADOptions=r.ort=r.DEFAULT_MODEL=void 0;const l=a(ortWeb_minExports),f=defaultModelFetcher$1,u=frameProcessor,p=logging,g=messages,d=models,c=resampler;r.DEFAULT_MODEL="legacy",r.ort=l;const t="vad.worklet.bundle.min.js",e="silero_vad_v5.onnx",i="silero_vad_legacy.onnx",s=y=>({...y==="v5"?u.defaultV5FrameProcessorOptions:u.defaultLegacyFrameProcessorOptions,onFrameProcessed:w=>{},onVADMisfire:()=>{p.log.debug("VAD misfire")},onSpeechStart:()=>{p.log.debug("Detected speech start")},onSpeechEnd:()=>{p.log.debug("Detected speech end")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@0.0.22/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:r.DEFAULT_MODEL,workletOptions:{}});r.getDefaultRealTimeVADOptions=s;class m{static async new(v={}){const w={...(0,r.getDefaultRealTimeVADOptions)(v.model??r.DEFAULT_MODEL),...v};(0,u.validateOptions)(w);let T;w.stream===void 0?T=await navigator.mediaDevices.getUserMedia({audio:{...w.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):T=w.stream;const _=new AudioContext,x=new MediaStreamAudioSourceNode(_,{mediaStream:T}),A=await b.new(_,w);return A.receive(x),new m(w,_,T,A,x)}constructor(v,w,T,_,x,A=!1){this.options=v,this.audioContext=w,this.stream=T,this.audioNodeVAD=_,this.sourceNode=x,this.listening=A,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach($=>$.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()}}}r.MicVAD=m;class b{static async new(v,w={}){const T={...(0,r.getDefaultRealTimeVADOptions)(w.model??r.DEFAULT_MODEL),...w};(0,u.validateOptions)(T),r.ort.env.wasm.wasmPaths=T.onnxWASMBasePath,T.ortConfig!==void 0&&T.ortConfig(r.ort);const _=T.model==="v5"?e:i,x=T.baseAssetPath+_,A=T.model==="v5"?d.SileroV5.new:d.SileroLegacy.new;let $;try{$=await A(r.ort,()=>(0,f.defaultModelFetcher)(x))}catch(V){throw console.error(`Encountered an error while loading model file ${x}`),V}const S=new u.FrameProcessor($.process,$.reset_state,{frameSamples:T.frameSamples,positiveSpeechThreshold:T.positiveSpeechThreshold,negativeSpeechThreshold:T.negativeSpeechThreshold,redemptionFrames:T.redemptionFrames,preSpeechPadFrames:T.preSpeechPadFrames,minSpeechFrames:T.minSpeechFrames,submitUserSpeechOnPause:T.submitUserSpeechOnPause}),k=new b(v,T,S);return await k.setupAudioNode(),k}constructor(v,w,T){this.ctx=v,this.options=w,this.bufferIndex=0,this.pause=()=>{const _=this.frameProcessor.pause();this.handleFrameProcessorEvent(_)},this.start=()=>{this.frameProcessor.resume()},this.receive=_=>{_.connect(this.audioNode)},this.processFrame=async _=>{const x=await this.frameProcessor.process(_);this.handleFrameProcessorEvent(x)},this.handleFrameProcessorEvent=_=>{switch(_.probs!==void 0&&this.options.onFrameProcessed(_.probs,_.frame),_.msg){case g.Message.SpeechStart:this.options.onSpeechStart();break;case g.Message.VADMisfire:this.options.onVADMisfire();break;case g.Message.SpeechEnd:this.options.onSpeechEnd(_.audio);break}},this.destroy=()=>{var _;this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:g.Message.SpeechStop}),this.audioNode.disconnect(),(_=this.gainNode)==null||_.disconnect()},this.frameProcessor=T}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const _=this.options.baseAssetPath+t;await this.ctx.audioWorklet.addModule(_);const x=this.options.workletOptions??{};x.processorOptions={...x.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",x),this.audioNode.port.onmessage=async A=>{var $;switch(($=A.data)==null?void 0:$.message){case g.Message.AudioFrame:let S=A.data.data;S instanceof ArrayBuffer||(S=new ArrayBuffer(A.data.data.byteLength),new Uint8Array(S).set(new Uint8Array(A.data.data)));const k=new Float32Array(S);await this.processFrame(k);break}};return}catch(_){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",_)}this.resampler=new c.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const w=4096;this.audioNode=this.ctx.createScriptProcessor(w,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let T=!1;this.audioNode.onaudioprocess=async _=>{if(!T){T=!0;try{const x=_.inputBuffer.getChannelData(0);if(_.outputBuffer.getChannelData(0).fill(0),this.resampler){const $=this.resampler.process(x);for(const S of $)await this.processFrame(S)}}catch(x){console.error("Error processing audio:",x)}finally{T=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}r.AudioNodeVAD=b})(realTimeVad);(function(r){var n=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(i,s,m,b){b===void 0&&(b=m);var y=Object.getOwnPropertyDescriptor(s,m);(!y||("get"in y?!s.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return s[m]}}),Object.defineProperty(i,b,y)}:function(i,s,m,b){b===void 0&&(b=m),i[b]=s[m]}),o=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:!0,value:s})}:function(i,s){i.default=s}),a=commonjsGlobal&&commonjsGlobal.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var m in i)m!=="default"&&Object.prototype.hasOwnProperty.call(i,m)&&n(s,i,m);return o(s,i),s};Object.defineProperty(r,"__esModule",{value:!0}),r.NonRealTimeVAD=r.Message=r.FrameProcessor=r.getDefaultRealTimeVADOptions=r.MicVAD=r.DEFAULT_MODEL=r.AudioNodeVAD=r.utils=r.defaultNonRealTimeVADOptions=void 0;const l=a(ortWeb_minExports),f=assetPath,u=defaultModelFetcher$1,p=frameProcessor;Object.defineProperty(r,"FrameProcessor",{enumerable:!0,get:function(){return p.FrameProcessor}});const g=messages;Object.defineProperty(r,"Message",{enumerable:!0,get:function(){return g.Message}});const d=nonRealTimeVad,c=utils;r.defaultNonRealTimeVADOptions={modelURL:f.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:u.defaultModelFetcher};class t extends d.PlatformAgnosticNonRealTimeVAD{static async new(s={}){const{modelURL:m,modelFetcher:b}={...r.defaultNonRealTimeVADOptions,...s};return await this._new(()=>b(m),l,s)}}r.NonRealTimeVAD=t,r.utils={audioFileToArray:c.audioFileToArray,minFramesForTargetMS:c.minFramesForTargetMS,arrayBufferToBase64:c.arrayBufferToBase64,encodeWAV:c.encodeWAV};var e=realTimeVad;Object.defineProperty(r,"AudioNodeVAD",{enumerable:!0,get:function(){return e.AudioNodeVAD}}),Object.defineProperty(r,"DEFAULT_MODEL",{enumerable:!0,get:function(){return e.DEFAULT_MODEL}}),Object.defineProperty(r,"MicVAD",{enumerable:!0,get:function(){return e.MicVAD}}),Object.defineProperty(r,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return e.getDefaultRealTimeVADOptions}})})(dist);const isMobile=()=>{let r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Linux/i.test(navigator.userAgent);return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&(r=!0),r},voicePerLength=200,maxCount=1e3/voicePerLength,getChunkLength=r=>r*(voicePerLength/1e3),base64ToArrayBuffer=r=>{const n=atob(r.split(",")[1]),o=n.length,a=new Uint8Array(o);for(let l=0;l<o;l++)a[l]=n.charCodeAt(l);return a.buffer},parseWav=r=>{const n=new DataView(r),o=n.getUint16(20,!0),a=n.getUint16(22,!0),l=n.getUint32(24,!0),f=n.getUint16(34,!0),u=44,p=n.getUint32(40,!0),g=new Uint8Array(r,u,p);return{format:o,channels:a,sampleRate:l,bitsPerSample:f,audioData:g}},createWavHeader=(r,n,o,a)=>{const l=new ArrayBuffer(44),f=new DataView(l),u=(p,g,d)=>{for(let c=0;c<d.length;c++)p.setUint8(g+c,d.charCodeAt(c))};return u(f,0,"RIFF"),f.setUint32(4,36+r,!0),u(f,8,"WAVE"),u(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,o,!0),f.setUint32(24,n,!0),f.setUint32(28,n*o*a/8,!0),f.setUint16(32,o*a/8,!0),f.setUint16(34,a,!0),u(f,36,"data"),f.setUint32(40,r,!0),l},mergeAudioFiles=r=>{let n,o,a,l=new Uint8Array;for(let d=0;d<r.length;d++){const c=base64ToArrayBuffer(r[d]),t=parseWav(c);if(d===0&&(n=t.sampleRate,o=t.channels,a=t.bitsPerSample),t.sampleRate!==n||t.channels!==o||t.bitsPerSample!==a)throw new Error("All audio files must have the same format.");const e=new Uint8Array(l.byteLength+t.audioData.byteLength);e.set(l,0),e.set(t.audioData,l.byteLength),l=e}const f=l.byteLength,u=createWavHeader(f,n,o,a),p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(l,u.byteLength),new Blob([p],{type:"audio/wav"})},mergeBase64ToBlob=r=>{const n=mergeAudioFiles(r);return URL.createObjectURL(n)},_hoisted_1$2={class:"voice-page"},_hoisted_2$2={class:"voice-page-header"},_hoisted_3$2={key:0,class:"voice-container"},_hoisted_4$2={key:1,class:"voice-container"},_hoisted_5$2={class:"voice-page-output"},_hoisted_6$2={class:"output-content"},_hoisted_7$2={class:"skip-box"},_hoisted_8$2={class:"voice-page-btn"},_hoisted_9$2={class:"btn-text"},_sfc_main$2={__name:"VoiceCall",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(r){const{t:n}=useI18n();let o=new AbortController;ref({base64Str:"",type:"mp3"});const a=useModel(r,"modelValue"),l=ref([]),f=ref(!1),u=ref([]),p=ref(""),g=ref(),d=ref(!0),c=ref([]),t=ref([]),e=ref(!1),i=ref(!0),s=ref(!1);ref([1]);const m=ref(!1),b=ref([]),y=ref(!0),v=ref(""),w=ref(""),T=ref(0),_=ref(0),x=ref("");let A=new Audio;const $=ref(!1);onBeforeUnmount(()=>{Fe()});const S=ref();let k=null,V=null;const oe=async()=>{k=await dist.MicVAD.new({onSpeechStart:()=>{console.log("Speech start detected"),V&&clearTimeout(V),V=setTimeout(()=>{console.log(": ",+new Date),tr()},500)},onSpeechEnd:Tn=>{V&&clearTimeout(V)},baseAssetPath:"/"}),console.log("vad: ",k),k.start()};onMounted(async()=>{const{code:Tn,message:xn}=await stopMessage();if(Tn!==0){ElMessage({type:"error",message:xn,duration:3e3,customClass:"system-error"});return}y.value=!1});const Y=Tn=>new Promise(xn=>setTimeout(xn,Tn)),ie=async()=>{Zn().then(async()=>{setNewUserId(),u.value=[],$n(),a.value=!0,await Y(100),Et(),localStorage.getItem("canStopByVoice")==="true"&&oe()}).catch(()=>{})};let z;const M=ref(),re=ref();let Ne=[];const pe=ref(),Ve=ref(!0),Et=async()=>{const Tn=await navigator.mediaDevices.getUserMedia({audio:!0});z=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});const xn=z.createMediaStreamSource(Tn);M.value=z.createAnalyser(),xn.connect(M.value),M.value.fftSize=256;const Lt=M.value.frequencyBinCount;re.value=new Uint8Array(Lt),er();const vn=z.createScriptProcessor(256,1,1);vn.onaudioprocess=En=>{if(!a.value)return;if(m.value){Fe();return}const Ln=En.inputBuffer.getChannelData(0);Ne.push(new Float32Array(Ln));const Kn=Ne.reduce((In,Yn)=>In+Yn.length,0),xe=getChunkLength(z.sampleRate);if(Kn>=xe){const In=Ue(Ne,Kn),Yn=In.slice(0,xe);Un(+new Date,()=>Pn(Yn,+new Date)),Ne=[In.slice(xe)]}},xn.connect(vn),vn.connect(z.destination)},Fe=()=>{var Tn;a.value=!1,pe.value&&cancelAnimationFrame(pe.value),z&&z.state!=="closed"&&z.close(),o.abort(),o=new AbortController,l.value=[],c.value=[],t.value=[],m.value=!1,i.value=!0,e.value=!1,A.pause(),stopMessage(),((Tn=u.value[u.value.length-1])==null?void 0:Tn.type)==="BOT"&&u.value[u.value.length-1].audio===""&&b.value.length>0&&(u.value[u.value.length-1].audio=mergeBase64ToBlob(b.value)),k&&k.destroy()},Dt=()=>s.value,_n=()=>e.value,At=()=>localStorage.getItem("canStopByVoice")==="true",Pn=(Tn,xn)=>new Promise(Lt=>{if(!At()&&_n()){Lt();return}const vn=encodeWAV$1(Tn,z.sampleRate);let En=new FileReader;En.readAsDataURL(vn),En.onloadend=async function(){let Ln=En.result.split(",")[1];if(!Ln){Lt();return}const Kn={uid:getNewUserId(),messages:[{role:"user",content:[{type:"input_audio",input_audio:{data:Ln,format:"wav",timestamp:String(xn)}}]}]};try{await sendMessage(Kn),T.value=+new Date-xn,_.value=l.value.length}catch{}Lt()}}),Ue=(Tn,xn)=>{const Lt=new Float32Array(xn);let vn=0;for(let En of Tn)Lt.set(En,vn),vn+=En.length;return Lt},$n=async()=>{const Tn={messages:[{role:"user",content:[{type:"none"}]}],stream:!0};$.value=!1,o.abort(),o=new AbortController;const xn=`/api/v1/completions${window.location.search}`;fetchEventSource(xn,{method:"POST",headers:{"Content-Type":"application/json",service:"minicpmo-server",uid:getNewUserId()},body:JSON.stringify(Tn),signal:o.signal,openWhenHidden:!0,async onopen(Lt){console.log("onopen",Lt),Ve.value=!0,d.value=!0,b.value=[],t.value=[],Lt.status!==200?(ElMessage({type:"error",message:"At limit. Please try again soon.",duration:3e3,customClass:"system-error"}),m.value=!0):(m.value=!1,Jn())},onmessage(Lt){var En,Ln,Kn;const vn=JSON.parse(Lt.data);if(vn.response_id&&(w.value=vn.response_id),(En=vn.choices[0])!=null&&En.text&&(p.value+=vn.choices[0].text.replace("<end>",""),console.warn("text return time -------------------------------",+new Date)),d.value){if(console.log(""),d.value=!1,!vn.choices[0].audio){$n();return}u.value.push({type:"USER",audio:`data:audio/wav;base64,${vn.choices[0].audio}`}),u.value.push({type:"BOT",text:"",audio:""});return}(Ln=vn.choices[0])!=null&&Ln.audio?(console.warn("audio return time -------------------------------",+new Date),!Dt()&&a.value&&(i.value=!1,t.value.push(`data:audio/wav;base64,${vn.choices[0].audio}`),Dn(()=>Wn(vn.choices[0].audio))),b.value.push(`data:audio/wav;base64,${vn.choices[0].audio}`)):$n(),vn.choices[0].text.includes("<end>")&&(console.log(":",+new Date),((Kn=u.value[u.value.length-1])==null?void 0:Kn.type)==="BOT"&&u.value[u.value.length-1].audio===""&&b.value.length>0&&(u.value[u.value.length-1].audio=mergeBase64ToBlob(b.value)))},onclose(){var Lt;if(console.log("onclose",+new Date),$.value=!0,((Lt=u.value[u.value.length-1])==null?void 0:Lt.type)==="BOT"&&u.value[u.value.length-1].audio===""&&b.value.length>0&&(u.value[u.value.length-1].audio=mergeBase64ToBlob(b.value)),S.value=+new Date,c.value.length===0){let vn=l.value.findIndex(En=>En.time>=S.value-2e3);console.log("taskQueue111111111: ",l.value,vn),vn!==-1&&(l.value=l.value.slice(vn),console.log(":",l.value,S.value)),$n()}},onerror(Lt){throw console.log("onerror",Lt),o.abort(),o=new AbortController,Lt}})},Jn=async()=>{p.value.length>0?(u.value[u.value.length-1].text+=p.value[0],p.value=p.value.slice(1)):cancelAnimationFrame(g.value),g.value=requestAnimationFrame(Jn)},Dn=async Tn=>{c.value.push(Tn),Ve.value&&(await Y(500),Ve.value=!1),c.value.length>0&&!e.value&&(e.value=!0,Nn())},Nn=()=>{if(console.log(":",c.value,+new Date),!$.value&&t.value.length>=2){const xn=t.value.length,Lt=mergeBase64ToBlob(t.value);A.src=Lt,A.play(),console.error(": ",+new Date),A.onended=()=>{console.error(": ",+new Date),t.value=t.value.slice(xn),c.value=c.value.slice(xn),Nn()};return}if($.value&&t.value.length>=2){const xn=mergeBase64ToBlob(t.value);A.src=xn,A.play(),console.error(": ",+new Date),A.onended=()=>{console.error(": ",+new Date),t.value=[],c.value=[],e.value=!1,i.value=!0,a.value&&!m.value&&(l.value=[],$n())};return}t.value.shift();const Tn=c.value.shift();Tn?Tn().finally(()=>Nn()):(e.value=!1,$.value&&(console.warn("play done................"),i.value=!0),$.value&&a.value&&!m.value&&(l.value=[],$n()))},Wn=async Tn=>new Promise(xn=>{A.src="data:audio/wav;base64,"+Tn,console.error(":",+new Date),A.play().then(()=>{}).catch(Lt=>{xn(),Lt.name==="NotAllowedError"||Lt.name==="SecurityError"?(console.error("User interaction required or permission issue:",Lt),ElMessage.warning("")):console.error("Error playing audio:",Lt)}),A.onended=()=>{console.error(": ",+new Date),xn()}}),Un=(Tn,xn)=>{l.value.push({func:xn,time:Tn}),l.value.length>0&&!f.value&&(f.value=!0,Rn())},Rn=()=>{const Tn=l.value.shift();Tn!=null&&Tn.func?Tn.func().then(()=>{console.warn("shift!!!!!!!!!"),Rn()}):f.value=!1},er=()=>{M.value.getByteFrequencyData(re.value),pe.value=requestAnimationFrame(er)},tr=async()=>{var Tn;if(S.value=+new Date,!i.value){((Tn=u.value[u.value.length-1])==null?void 0:Tn.type)==="BOT"&&u.value[u.value.length-1].audio===""&&(u.value[u.value.length-1].audio=mergeBase64ToBlob(b.value)),t.value=[],c.value=[],console.log(":",l.value.map(Lt=>Lt.time));let xn=l.value.findIndex(Lt=>Lt.time>=S.value-1e3);xn!==-1&&(l.value=l.value.slice(xn),console.log(":",l.value.map(Lt=>Lt.time),S.value)),s.value=!0,A.pause(),setTimeout(()=>{i.value=!0},300);try{e.value=!1,await stopMessage(),s.value=!1,$n()}catch{}}},Zn=async()=>{var sr;if(!localStorage.getItem("configData"))return new Promise(cr=>cr());const{videoQuality:Tn,useAudioPrompt:xn,voiceClonePrompt:Lt,assistantPrompt:vn,vadThreshold:En,audioFormat:Ln,base64Str:Kn}=JSON.parse(localStorage.getItem("configData")),xe={messages:[{role:"user",content:[{type:"input_audio",input_audio:{data:Kn,format:Ln}},{type:"options",options:{hd_video:Tn,use_audio_prompt:xn,vad_threshold:En,voice_clone_prompt:Lt,assistant_prompt:vn}}]}]},{code:In,message:Yn,data:nr}=await uploadConfig(xe);return x.value=((sr=nr==null?void 0:nr.choices)==null?void 0:sr.content)||"",new Promise((cr,gr)=>{In!==0?(ElMessage({type:"error",message:Yn,duration:3e3,customClass:"system-error"}),gr()):cr()})};return(Tn,xn)=>{const Lt=__unplugin_components_0,vn=__unplugin_components_2,En=__unplugin_components_3,Ln=__unplugin_components_5,Kn=_sfc_main$6,xe=ElButton,In=__unplugin_components_8,Yn=__unplugin_components_9;return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[a.value?(openBlock(),createElementBlock("div",_hoisted_4$2,[createVNode(vn,{dataArray:unref(re),isCalling:a.value,isPlaying:unref(e),configList:unref(videoConfigList),boxStyle:{height:"45px"},itemStyle:{width:"3px",margin:"0 1px"}},null,8,["dataArray","isCalling","isPlaying","configList"])])):(openBlock(),createElementBlock("div",_hoisted_3$2,[createVNode(Lt,{name:"voice",class:"voice-icon"}),createVNode(Lt,{name:"voice",class:"voice-icon"}),createVNode(Lt,{name:"voice",class:"voice-icon"})]))]),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("div",_hoisted_6$2,[unref(u).length>0?(openBlock(),createBlock(En,{key:0,outputData:unref(u),containerClass:"output-content"},null,8,["outputData"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$2,[createVNode(Ln,{feedbackStatus:unref(v),"onUpdate:feedbackStatus":xn[0]||(xn[0]=nr=>isRef(v)?v.value=nr:null),curResponseId:unref(w),"onUpdate:curResponseId":xn[1]||(xn[1]=nr=>isRef(w)?w.value=nr:null)},null,8,["feedbackStatus","curResponseId"]),createVNode(Kn,{disabled:unref(i),onClick:tr},null,8,["disabled"])])]),createBaseVNode("div",_hoisted_8$2,[withDirectives(createVNode(xe,{type:"success",disabled:unref(y),onClick:ie},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(y)?unref(n)("notReadyBtn"):unref(n)("audioCallBtn")),1)]),_:1},8,["disabled"]),[[vShow,!a.value]]),withDirectives(createVNode(xe,{onClick:Fe,type:"danger"},{default:withCtx(()=>[createVNode(Lt,{name:"phone-icon",className:"phone-icon"}),createBaseVNode("span",_hoisted_9$2,toDisplayString(unref(n)("hangUpBtn")),1),createVNode(In,{modelValue:a.value,"onUpdate:modelValue":xn[2]||(xn[2]=nr=>a.value=nr),onTimeUp:Fe},null,8,["modelValue"])]),_:1},512),[[vShow,a.value]])]),unref(showIdeasList)?(openBlock(),createBlock(Yn,{key:0,ideasList:unref(voiceIdeasList)},null,8,["ideasList"])):createCommentVNode("",!0)])}}},VoiceCall=_export_sfc$1(_sfc_main$2,[["__scopeId","data-v-9bb642db"]]),_hoisted_1$1={class:"video-page"},_hoisted_2$1={class:"video-page-header"},_hoisted_3$1={key:0,class:"voice-container"},_hoisted_4$1={key:1,class:"voice-container"},_hoisted_5$1={class:"video-page-content"},_hoisted_6$1={class:"video-page-content-video","element-loading-background":"#f3f3f3"},_hoisted_7$1={class:"video-page-content-right"},_hoisted_8$1={class:"output-content"},_hoisted_9$1={class:"skip-box"},_hoisted_10={class:"video-page-btn"},_hoisted_11={class:"btn-text"},_sfc_main$1={__name:"VideoCall",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(r){const{t:n}=useI18n();let o=new AbortController;ref({base64Str:"",type:"mp3"});const a=useModel(r,"modelValue"),l=ref(),f=ref(null),u=ref(),p=ref(),g=ref([]),d=ref(!1),c=ref([]),t=ref(!1),e=ref([]),i=ref(!0),s=ref([]),m=ref([]),b=ref(!1);ref([1]);const y=ref(!1),v=ref(""),w=ref(),T=ref(),_=ref(),x=ref(),A=ref(!0),$=ref(!1),S=ref(!0),k=ref(!1),V=ref(!1),oe=ref(!0),Y=ref([]),ie=ref(!0),z=ref(""),M=ref(""),re=ref(0),Ne=ref(0),pe=ref("");let Ve,Et,Fe,Dt=[],_n=0,At;onBeforeUnmount(()=>{Lt()});const Pn=ref();let Ue=null,$n=null;const Jn=async()=>{Ue=await dist.MicVAD.new({onSpeechStart:()=>{console.log("Speech start",+new Date),$n&&clearTimeout($n),$n=setTimeout(()=>{console.log(": ",+new Date),cr()},500)},onSpeechEnd:hn=>{$n&&clearTimeout($n),console.log("Speech end",+new Date)},baseAssetPath:"/"}),Ue.start()};onMounted(async()=>{const{code:hn,message:On}=await stopMessage();if(hn!==0){ElMessage({type:"error",message:On,duration:3e3,customClass:"system-error"});return}ie.value=!1});const Dn=hn=>new Promise(On=>setTimeout(On,hn)),Nn=async()=>{gr().then(async()=>{At||(At=new Audio,At.playsinline=!0,At.preload="auto"),setNewUserId(),vn(),await Dn(100),Un("environment"),localStorage.getItem("canStopByVoice")==="true"&&(console.log("vad start"),Jn())}).catch(()=>{})},Wn=()=>{if(!a.value)return;S.value=!S.value;const hn=S.value?"environment":"user";Un(hn)},Un=async hn=>{if(Ve&&(Ve.getTracks().forEach(On=>On.stop()),f.value=null),e.value=[],a.value=!0,k.value=!0,!f.value)try{Ve=await window.navigator.mediaDevices.getUserMedia({video:{facingMode:hn},audio:!0}),f.value=Ve,l.value.srcObject=Ve,k.value=!1,console.log(" ",+new Date),Fe=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),console.log("samplate: ",Fe);const On=Fe.createMediaStreamSource(Ve);u.value=setInterval(()=>nr(),50);const ze=Fe.createScriptProcessor(256,1,1);ze.onaudioprocess=rr=>{if(!a.value)return;if(y.value){Lt();return}const ur=rr.inputBuffer.getChannelData(0);Dt.push(new Float32Array(ur));const or=Dt.reduce((lr,pr)=>lr+pr.length,0),kn=getChunkLength(Fe.sampleRate);if(or>=kn){const lr=xn(Dt,or),pr=lr.slice(0,Fe.sampleRate);xe(+new Date,()=>Tn(pr,+new Date)),Dt=[lr.slice(Fe.sampleRate)]}},T.value=Fe.createAnalyser(),On.connect(T.value),T.value.fftSize=256;const zn=T.value.frequencyBinCount;_.value=new Uint8Array(zn),sr(),On.connect(ze),ze.connect(Fe.destination)}catch{}},Rn=async()=>{v.value.length>0?(e.value[e.value.length-1].text+=v.value[0],v.value=v.value.slice(1)):cancelAnimationFrame(w.value),w.value=requestAnimationFrame(Rn)},er=()=>$.value,tr=()=>b.value,Zn=()=>localStorage.getItem("canStopByVoice")==="true",Tn=(hn,On)=>new Promise(ze=>{if(!Zn()&&tr()){ze();return}const zn=encodeWAV$1(hn,Fe.sampleRate);let rr=new FileReader;rr.readAsDataURL(zn),rr.onloadend=async function(){var pr;let ur=rr.result.split(",")[1];const or=(pr=g.value[g.value.length-1])==null?void 0:pr.src;if(!(ur&&or)){ze();return}const kn=or.split(",")[1];_n++;let lr={messages:[{role:"user",content:[{type:"input_audio",input_audio:{data:ur,format:"wav",timestamp:String(On)}}]}]};lr.messages[0].content.unshift({type:"image_data",image_data:{data:_n===maxCount?kn:"",type:2}}),_n===maxCount&&(_n=0);try{await sendMessage(lr),re.value=+new Date-On,Ne.value=c.value.length}catch{}ze()}}),xn=(hn,On)=>{const ze=new Float32Array(On);let zn=0;for(let rr of hn)ze.set(rr,zn),zn+=rr.length;return ze},Lt=()=>{var hn;a.value=!1,clearInterval(u.value),u.value=null,x.value&&cancelAnimationFrame(x.value),Fe&&Fe.state!=="closed"&&Fe.close(),Yn(),c.value=[],s.value=[],m.value=[],o.abort(),o=new AbortController,y.value=!1,A.value=!0,b.value=!1,At==null||At.pause(),stopMessage(),((hn=e.value[e.value.length-1])==null?void 0:hn.type)==="BOT"&&e.value[e.value.length-1].audio===""&&Y.value.length>0&&(e.value[e.value.length-1].audio=mergeBase64ToBlob(Y.value)),Ue&&Ue.destroy()},vn=()=>{const hn={messages:[{role:"user",content:[{type:"none"}]}],stream:!0};V.value=!1,o.abort(),o=new AbortController;const On=`/api/v1/completions${window.location.search}`;fetchEventSource(On,{method:"POST",headers:{"Content-Type":"application/json",service:"minicpmo-server",uid:getNewUserId()},body:JSON.stringify(hn),signal:o.signal,openWhenHidden:!0,async onopen(ze){oe.value=!0,i.value=!0,Y.value=[],m.value=[],console.log("onopen",ze),ze.status!==200?(ElMessage({type:"error",message:"At limit. Please try again soon.",duration:3e3,customClass:"system-error"}),y.value=!0):(y.value=!1,Rn())},onmessage(ze){var rr,ur,or;const zn=JSON.parse(ze.data);if(zn.response_id&&(M.value=zn.response_id),(rr=zn.choices[0])!=null&&rr.text&&(v.value+=zn.choices[0].text.replace("<end>",""),console.warn("text return time -------------------------------",+new Date)),i.value){if(console.log(""),i.value=!1,!zn.choices[0].audio){vn();return}e.value.push({type:"USER",audio:`data:audio/wav;base64,${zn.choices[0].audio}`}),e.value.push({type:"BOT",text:"",audio:""});return}(ur=zn.choices[0])!=null&&ur.audio?(console.log("audio return time -------------------------------",+new Date),!er()&&a.value&&(A.value=!1,m.value.push(`data:audio/wav;base64,${zn.choices[0].audio}`),En(()=>Kn(zn.choices[0].audio))),Y.value.push(`data:audio/wav;base64,${zn.choices[0].audio}`)):vn(),zn.choices[0].text.includes("<end>")&&(console.log(":",+new Date),((or=e.value[e.value.length-1])==null?void 0:or.type)==="BOT"&&e.value[e.value.length-1].audio===""&&Y.value.length>0&&(e.value[e.value.length-1].audio=mergeBase64ToBlob(Y.value)))},onclose(){var ze;if(console.log("onclose",+new Date),V.value=!0,((ze=e.value[e.value.length-1])==null?void 0:ze.type)==="BOT"&&e.value[e.value.length-1].audio===""&&Y.value.length>0&&(e.value[e.value.length-1].audio=mergeBase64ToBlob(Y.value)),Pn.value=+new Date,s.value.length===0){let zn=c.value.findIndex(rr=>rr.time>=Pn.value-1e3);zn!==-1&&(c.value=c.value.slice(zn)),vn()}},onerror(ze){throw console.log("onerror",ze),o.abort(),o=new AbortController,ze}})},En=async hn=>{s.value.push(hn),oe.value&&(await Dn(1500),oe.value=!1),s.value.length>0&&!b.value&&(b.value=!0,Ln())},Ln=()=>{if(console.log(":",s.value,+new Date),!V.value&&m.value.length>=2){const On=m.value.length,ze=mergeBase64ToBlob(m.value);At.src=ze,At.play(),console.error(": ",+new Date),At.onended=()=>{console.error(": ",+new Date),m.value=m.value.slice(On),s.value=s.value.slice(On),Ln()};return}if(V.value&&m.value.length>=2){const On=mergeBase64ToBlob(m.value);At.src=On,At.play(),console.error(": ",+new Date),At.onended=()=>{console.error(": ",+new Date),m.value=[],s.value=[],b.value=!1,A.value=!0,a.value&&!y.value&&(c.value=[],vn())};return}m.value.shift();const hn=s.value.shift();hn?hn().finally(()=>{Ln()}):(b.value=!1,V.value&&(console.warn("play done................"),A.value=!0),V.value&&a.value&&!y.value&&(c.value=[],vn()))},Kn=hn=>(console.log("promise: ",+new Date),new Promise(On=>{At.src="data:audio/wav;base64,"+hn,console.error(":",+new Date),At.play().then(()=>{console.log("Audio played successfully")}).catch(ze=>{ze.name==="NotAllowedError"||ze.name==="SecurityError"?(console.error("User interaction required or permission issue:",ze),console.error("")):console.error("Error playing audio:",ze)}),At.onerror=()=>{console.error("",+new Date),On()},At.onended=()=>{console.error(": ",+new Date),On()}})),xe=(hn,On)=>{c.value.push({func:On,time:hn}),c.value.length>0&&!t.value&&(t.value=!0,In())},In=()=>{const hn=c.value.shift();hn!=null&&hn.func?hn.func().then(On=>{console.log(": ",On)}).finally(()=>In()):t.value=!1},Yn=()=>{var hn;(hn=f.value)==null||hn.getTracks().forEach(On=>On.stop()),f.value=null,l.value.srcObject=null,g.value=[],d.value=!1,clearInterval(Et),clearInterval(u.value),u.value=null},nr=()=>{if(!l.value)return;const hn=p.value;p.value.width=l.value.videoWidth,p.value.height=l.value.videoHeight,hn.getContext("2d").drawImage(l.value,0,0,p.value.width,p.value.height);const ze=hn.toDataURL("image/webp",.8);g.value.push({src:ze})},sr=()=>{T.value.getByteFrequencyData(_.value),x.value=requestAnimationFrame(sr)},cr=async()=>{var hn;if(Pn.value=+new Date,!A.value){((hn=e.value[e.value.length-1])==null?void 0:hn.type)==="BOT"&&e.value[e.value.length-1].audio===""&&(e.value[e.value.length-1].audio=mergeBase64ToBlob(Y.value)),m.value=[],s.value=[],console.log(":",c.value.map(ze=>ze.time));let On=c.value.findIndex(ze=>ze.time>=Pn.value-1e3);On!==-1&&(c.value=c.value.slice(On),console.log(":",c.value.map(ze=>ze.time),Pn.value)),$.value=!0,At==null||At.pause(),setTimeout(()=>{A.value=!0},300);try{b.value=!1,await stopMessage(),$.value=!1,vn()}catch{}}},gr=async()=>{var Sn;if(!localStorage.getItem("configData"))return new Promise(An=>An());const{videoQuality:hn,useAudioPrompt:On,voiceClonePrompt:ze,assistantPrompt:zn,vadThreshold:rr,audioFormat:ur,base64Str:or}=JSON.parse(localStorage.getItem("configData")),kn={messages:[{role:"user",content:[{type:"input_audio",input_audio:{data:or,format:ur}},{type:"options",options:{hd_video:hn,use_audio_prompt:On,vad_threshold:rr,voice_clone_prompt:ze,assistant_prompt:zn}}]}]},{code:lr,message:pr,data:dr}=await uploadConfig(kn);return pe.value=((Sn=dr==null?void 0:dr.choices)==null?void 0:Sn.content)||"",new Promise((An,Cn)=>{lr!==0?(ElMessage({type:"error",message:pr,duration:3e3,customClass:"system-error"}),Cn()):An()})};return(hn,On)=>{const ze=__unplugin_components_0,zn=__unplugin_components_2,rr=__unplugin_components_3,ur=__unplugin_components_5,or=_sfc_main$6,kn=ElButton,lr=__unplugin_components_8,pr=__unplugin_components_9,dr=vLoading;return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[a.value?(openBlock(),createElementBlock("div",_hoisted_4$1,[createVNode(zn,{dataArray:unref(_),isCalling:a.value,isPlaying:unref(b),configList:unref(videoConfigList),boxStyle:{height:"45px"},itemStyle:{width:"3px",margin:"0 1px"}},null,8,["dataArray","isCalling","isPlaying","configList"])])):(openBlock(),createElementBlock("div",_hoisted_3$1,[createVNode(ze,{name:"voice",class:"voice-icon"}),createVNode(ze,{name:"voice",class:"voice-icon"}),createVNode(ze,{name:"voice",class:"voice-icon"})]))]),createBaseVNode("div",_hoisted_5$1,[withDirectives((openBlock(),createElementBlock("div",_hoisted_6$1,[createBaseVNode("video",{ref_key:"videoRef",ref:l,autoplay:"",playsinline:"",muted:""},null,512),createBaseVNode("canvas",{ref_key:"canvasRef",ref:p,"canvas-id":"canvasId",style:{display:"none"}},null,512),unref(isMobile)()?(openBlock(),createElementBlock("div",{key:0,class:"switch-camera",onClick:Wn},[createVNode(ze,{name:"switch-camera",class:"icon"})])):createCommentVNode("",!0)])),[[dr,unref(k)]]),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[unref(e).length>0?(openBlock(),createBlock(rr,{key:0,outputData:unref(e),containerClass:"output-content"},null,8,["outputData"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$1,[createVNode(ur,{feedbackStatus:unref(z),"onUpdate:feedbackStatus":On[0]||(On[0]=Sn=>isRef(z)?z.value=Sn:null),curResponseId:unref(M),"onUpdate:curResponseId":On[1]||(On[1]=Sn=>isRef(M)?M.value=Sn:null)},null,8,["feedbackStatus","curResponseId"]),createVNode(or,{disabled:unref(A),onClick:cr},null,8,["disabled"])])])]),createBaseVNode("div",_hoisted_10,[withDirectives(createVNode(kn,{type:"success",disabled:unref(ie),onClick:Nn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ie)?unref(n)("notReadyBtn"):unref(n)("videoCallBtn")),1)]),_:1},8,["disabled"]),[[vShow,!a.value]]),withDirectives(createVNode(kn,{onClick:Lt,type:"danger"},{default:withCtx(()=>[createVNode(ze,{name:"phone-icon",className:"phone-icon"}),createBaseVNode("span",_hoisted_11,toDisplayString(unref(n)("hangUpBtn")),1),createVNode(lr,{modelValue:a.value,"onUpdate:modelValue":On[2]||(On[2]=Sn=>a.value=Sn),onTimeUp:Lt},null,8,["modelValue"])]),_:1},512),[[vShow,a.value]])]),unref(showIdeasList)?(openBlock(),createBlock(pr,{key:0,ideasList:unref(videoIdeasList)},null,8,["ideasList"])):createCommentVNode("",!0)])}}},VideoCall=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-94a54176"]]),_hoisted_1={class:"home-page"},_hoisted_2={class:"home-page-header"},_hoisted_3={class:"home-page-header-logo"},_hoisted_4={class:"home-page-header-menu"},_hoisted_5=["onClick"],_hoisted_6={class:"home-page-header-switch"},_hoisted_7={class:"change-language"},_hoisted_8={key:4,src:"https://minicpm-omni-webdemo-iframe.modelbest.cn",frameborder:"0",width:"100%",height:"100%"},_hoisted_9={key:5,class:"config-box"},_sfc_main={__name:"index",setup(r){const n=useRoute(),o=useRouter(),l={0:"video",1:"voice",2:"chatbot"}[n.query.type]||"voice",{t:f,locale:u}=useI18n(),p=ref(l),g=ref(localStorage.getItem("language")||"zh"),d=ref([{type:"video",text:"Realtime Video Call"},{type:"voice",text:"Realtime Voice Call"},{type:"chatbot",text:"Chatbot"}]),c=ref(!1),t=s=>{console.log("val: ",s),g.value=s,u.value=s,localStorage.setItem("language",s)},e=s=>{let m="";switch(s){case"video":m=f("menuTabVideo");break;case"voice":m=f("menuTabAudio");break;case"chatbot":m=f("menuTabChatbot");break}return m},i=(s,m)=>{p.value=s;const b=n.query.port,y=m;o.push({path:"/",query:{port:b,type:y}})};return(s,m)=>{const b=__unplugin_components_0,y=__unplugin_components_1;return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(b,{name:"miniCPM2.6",class:"logo-icon"})]),createBaseVNode("div",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d),(v,w)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["home-page-header-menu-item",`home-page-header-menu-item ${unref(p)===v.type?"active-tab":""} ${v.disabled?"disabled-tab":""}`]),key:v.type,onClick:T=>i(v.type,w)},toDisplayString(e(v.type)),11,_hoisted_5))),128))]),createBaseVNode("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("div",{class:normalizeClass(`change-language-item ${unref(g)==="en"?"active-language":""}`),onClick:m[0]||(m[0]=v=>t("en"))}," English ",2),createBaseVNode("div",{class:normalizeClass(`change-language-item ${unref(g)==="zh"?"active-language":""}`),onClick:m[1]||(m[1]=v=>t("zh"))},"  ",2)])])]),createBaseVNode("div",{class:normalizeClass(`home-page-content ${unref(p)==="chatbot"&&"no-padding"}`)},[unref(p)==="voice"?(openBlock(),createBlock(VoiceCall,{key:1,modelValue:unref(c),"onUpdate:modelValue":m[3]||(m[3]=v=>isRef(c)?c.value=v:null)},null,8,["modelValue"])):unref(p)==="video"?(openBlock(),createBlock(VideoCall,{key:3,modelValue:unref(c),"onUpdate:modelValue":m[5]||(m[5]=v=>isRef(c)?c.value=v:null)},null,8,["modelValue"])):(openBlock(),createElementBlock("iframe",_hoisted_8)),unref(p)!=="chatbot"?(openBlock(),createElementBlock("div",_hoisted_9,[createVNode(y,{isCalling:unref(c),"onUpdate:isCalling":m[6]||(m[6]=v=>isRef(c)?c.value=v:null),type:unref(p),"onUpdate:type":m[7]||(m[7]=v=>isRef(p)?p.value=v:null)},null,8,["isCalling","type"])])):createCommentVNode("",!0)],2)])}}},index=_export_sfc$1(_sfc_main,[["__scopeId","data-v-dc880984"]]);export{index as default};
